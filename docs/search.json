[{"path":[]},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"commit-and-pr-guidelines","dir":"","previous_headings":"","what":"Commit and PR Guidelines","title":"Claude Code Instructions for caschooldata","text":"include “Generated Claude Code” commit messages include “Co-Authored-: Claude” commit messages mention Claude AI assistance PR descriptions Keep commit messages clean professional","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"project-context","dir":"","previous_headings":"","what":"Project Context","title":"Claude Code Instructions for caschooldata","text":"R package fetching processing California school enrollment data CDE (California Department Education).","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"key-files","dir":"","previous_headings":"Project Context","what":"Key Files","title":"Claude Code Instructions for caschooldata","text":"R/fetch_enrollment.R - Main fetch_enr() function R/get_raw_enrollment.R - Downloads raw data CDE R/process_enrollment.R - Transforms raw data standard schema R/tidy_enrollment.R - Converts long/tidy format R/cache.R - Local caching layer","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"data-sources","dir":"","previous_headings":"Project Context","what":"Data Sources","title":"Claude Code Instructions for caschooldata","text":"Data comes California Department Education: - DataQuest: https://dq.cde.ca.gov/dataquest/ - Data files: https://www.cde.ca.gov/ds/ - Census Day enrollment (first Wednesday October) - Currently supports 2024-2025 data files","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"cds-code-format","dir":"","previous_headings":"Project Context","what":"CDS Code Format","title":"Claude Code Instructions for caschooldata","text":"California uses 14-digit County-District-School (CDS) code: - 2 digits: County code (01-58, California’s 58 counties) - 5 digits: District code - 7 digits: School code - Example: 01611920130229","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"related-package","dir":"","previous_headings":"Project Context","what":"Related Package","title":"Claude Code Instructions for caschooldata","text":"package follows patterns ilschooldata.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Data Quality QA Report","text":"vignette performs data quality assurance checks California enrollment data fetched using caschooldata package. analyze: Statewide enrollment time series year--year changes Major district enrollment patterns Data completeness anomalies Known data quality issues","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"data-availability-note","dir":"Articles","previous_headings":"","what":"Data Availability Note","title":"Data Quality QA Report","text":"California Department Education provides Census Day enrollment data files current format 2023-24 2024-25. Historical data (2017-2022) uses different file format available separately school level . QA report focuses available Census Day data.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"load-libraries","dir":"Articles","previous_headings":"","what":"Load Libraries","title":"Data Quality QA Report","text":"","code":"library(caschooldata) library(dplyr) library(tidyr) library(ggplot2)"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"fetch-available-data","dir":"Articles","previous_headings":"","what":"Fetch Available Data","title":"Data Quality QA Report","text":"","code":"# Fetch all available years of Census Day enrollment data years <- c(2024, 2025) enr <- fetch_enr_multi(years)  # Check what we got enr %>%   group_by(end_year) %>%   summarize(     n_records = n(),     n_schools = sum(is_school & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     n_districts = sum(is_district & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     n_counties = sum(is_county & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     .groups = \"drop\"   ) ## # A tibble: 2 × 5 ##   end_year n_records n_schools n_districts n_counties ##      <int>     <int>     <int>       <int>      <int> ## 1     2024   2712729     10579        2354        169 ## 2     2025   2709106     10591        2352        169"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"total-enrollment-by-year","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Total Enrollment by Year","title":"Data Quality QA Report","text":"","code":"state_totals <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     reporting_category == \"TA\"  # Total All   ) %>%   select(end_year, n_students) %>%   arrange(end_year)  state_totals ## # A tibble: 6 × 2 ##   end_year n_students ##      <int>      <dbl> ## 1     2024    5837690 ## 2     2024    5128055 ## 3     2024     709635 ## 4     2025    5806221 ## 5     2025    5078498 ## 6     2025     727723"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"year-over-year-changes","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Year-over-Year Changes","title":"Data Quality QA Report","text":"Checking enrollment jumps greater 5%:","code":"state_yoy <- state_totals %>%   arrange(end_year) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   )  state_yoy ## # A tibble: 6 × 5 ##   end_year n_students prev_year   change pct_change ##      <int>      <dbl>     <dbl>    <dbl>      <dbl> ## 1     2024    5837690        NA       NA       NA   ## 2     2024    5128055   5837690  -709635      -12.2 ## 3     2024     709635   5128055 -4418420      -86.2 ## 4     2025    5806221    709635  5096586      718.  ## 5     2025    5078498   5806221  -727723      -12.5 ## 6     2025     727723   5078498 -4350775      -85.7 # Flag any large changes (>5%) large_changes <- state_yoy %>%   filter(abs(pct_change) > 5)  if (nrow(large_changes) > 0) {   cat(\"WARNING: Year-over-year changes exceeding 5%:\\n\")   print(large_changes) } else {   cat(\"No year-over-year changes exceeding 5% threshold.\\n\") } ## WARNING: Year-over-year changes exceeding 5%: ## # A tibble: 5 × 5 ##   end_year n_students prev_year   change pct_change ##      <int>      <dbl>     <dbl>    <dbl>      <dbl> ## 1     2024    5128055   5837690  -709635      -12.2 ## 2     2024     709635   5128055 -4418420      -86.2 ## 3     2025    5806221    709635  5096586      718.  ## 4     2025    5078498   5806221  -727723      -12.5 ## 5     2025     727723   5078498 -4350775      -85.7"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"statewide-enrollment-visualization","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Statewide Enrollment Visualization","title":"Data Quality QA Report","text":"","code":"ggplot(state_totals, aes(x = factor(end_year), y = n_students)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = scales::comma(n_students)), vjust = -0.5) +   scale_y_continuous(labels = scales::comma, limits = c(0, max(state_totals$n_students) * 1.1)) +   labs(     title = \"California K-12 Enrollment by Year\",     subtitle = \"Census Day Enrollment (First Wednesday in October)\",     x = \"School Year End\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"major-district-analysis","dir":"Articles","previous_headings":"","what":"Major District Analysis","title":"Data Quality QA Report","text":"analyze five largest school districts California: Los Angeles Unified School District San Diego Unified School District Long Beach Unified School District Fresno Unified School District Santa Ana Unified School District","code":"# Define major districts by name pattern matching major_district_patterns <- c(   \"Los Angeles Unified\",   \"San Diego Unified\",   \"Long Beach Unified\",   \"Fresno Unified\",   \"Santa Ana Unified\" )  # Find these districts in the data district_totals <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\"   )  # Match district names major_districts <- district_totals %>%   filter(     grepl(\"Los Angeles Unified\", district_name, ignore.case = TRUE) |     grepl(\"San Diego Unified\", district_name, ignore.case = TRUE) |     grepl(\"Long Beach Unified\", district_name, ignore.case = TRUE) |     grepl(\"Fresno Unified\", district_name, ignore.case = TRUE) |     grepl(\"Santa Ana Unified\", district_name, ignore.case = TRUE)   ) %>%   select(end_year, district_name, county_name, n_students, cds_code) %>%   arrange(district_name, end_year)  # Display results major_districts %>%   pivot_wider(     id_cols = c(district_name, county_name, cds_code),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) ## # A tibble: 5 × 5 ##   district_name       county_name cds_code       enr_2024  enr_2025  ##   <chr>               <chr>       <chr>          <list>    <list>    ## 1 Fresno Unified      Fresno      106216600000NA <dbl [3]> <dbl [3]> ## 2 Long Beach Unified  Los Angeles 196472500000NA <dbl [3]> <dbl [3]> ## 3 Los Angeles Unified Los Angeles 196473300000NA <dbl [3]> <dbl [3]> ## 4 San Diego Unified   San Diego   376833800000NA <dbl [3]> <dbl [3]> ## 5 Santa Ana Unified   Orange      306667000000NA <dbl [3]> <dbl [3]>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"district-year-over-year-changes","dir":"Articles","previous_headings":"Major District Analysis","what":"District Year-over-Year Changes","title":"Data Quality QA Report","text":"","code":"district_yoy <- major_districts %>%   arrange(district_name, end_year) %>%   group_by(district_name) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   ) %>%   ungroup() %>%   filter(!is.na(pct_change))  # Check for large changes district_large_changes <- district_yoy %>%   filter(abs(pct_change) > 5)  if (nrow(district_large_changes) > 0) {   cat(\"Districts with year-over-year changes exceeding 5%:\\n\")   district_large_changes %>%     select(district_name, end_year, n_students, prev_year, pct_change) %>%     print() } else {   cat(\"No major districts have year-over-year changes exceeding 5%.\\n\") } ## Districts with year-over-year changes exceeding 5%: ## # A tibble: 21 × 5 ##    district_name       end_year n_students prev_year pct_change ##    <chr>                  <int>      <dbl>     <dbl>      <dbl> ##  1 Fresno Unified          2024       3234     68246      -95.3 ##  2 Fresno Unified          2025      71151      3234     2100.  ##  3 Fresno Unified          2025       3332     67819      -95.1 ##  4 Long Beach Unified      2024        301     63966      -99.5 ##  5 Long Beach Unified      2025      62947       301    20813.  ##  6 Long Beach Unified      2025        303     62644      -99.5 ##  7 Los Angeles Unified     2024     381116    529902      -28.1 ##  8 Los Angeles Unified     2024     148786    381116      -61.0 ##  9 Los Angeles Unified     2025     516685    148786      247.  ## 10 Los Angeles Unified     2025     369830    516685      -28.4 ## # ℹ 11 more rows"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"district-enrollment-visualization","dir":"Articles","previous_headings":"Major District Analysis","what":"District Enrollment Visualization","title":"Data Quality QA Report","text":"","code":"ggplot(major_districts, aes(x = factor(end_year), y = n_students, fill = district_name)) +   geom_col(position = \"dodge\") +   scale_y_continuous(labels = scales::comma) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Enrollment in Major California School Districts\",     x = \"School Year End\",     y = \"Total Enrollment\",     fill = \"District\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"missing-data-check","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Missing Data Check","title":"Data Quality QA Report","text":"","code":"# Check for missing values in key columns missing_summary <- enr %>%   filter(grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   summarize(     total_records = n(),     missing_n_students = sum(is.na(n_students)),     missing_cds_code = sum(is.na(cds_code)),     missing_district_name = sum(is.na(district_name) | district_name == \"\"),     missing_school_name = sum(is_school & (is.na(school_name) | school_name == \"\")),     .groups = \"drop\"   )  missing_summary ## # A tibble: 1 × 5 ##   total_records missing_n_students missing_cds_code missing_district_name ##           <int>              <int>            <int>                 <int> ## 1         26220                  0                0                   344 ## # ℹ 1 more variable: missing_school_name <int>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"aggregation-level-distribution","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Aggregation Level Distribution","title":"Data Quality QA Report","text":"","code":"enr %>%   filter(grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   group_by(end_year, agg_level) %>%   summarize(     n_entities = n(),     total_enrollment = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   ) %>%   pivot_wider(     names_from = agg_level,     values_from = c(n_entities, total_enrollment)   ) ## # A tibble: 2 × 9 ##   end_year n_entities_C n_entities_D n_entities_S n_entities_T ##      <int>        <int>        <int>        <int>        <int> ## 1     2024          169         2354        10579            3 ## 2     2025          169         2352        10591            3 ## # ℹ 4 more variables: total_enrollment_C <dbl>, total_enrollment_D <dbl>, ## #   total_enrollment_S <dbl>, total_enrollment_T <dbl>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"grade-level-distribution","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Grade-Level Distribution","title":"Data Quality QA Report","text":"Verify grade-level data sums reported totals:","code":"# Get state-level data by grade state_by_grade <- enr %>%   filter(is_state, reporting_category == \"TA\") %>%   select(end_year, grade_level, n_students)  # Compare sum of grades to reported total grade_validation <- state_by_grade %>%   group_by(end_year) %>%   summarize(     reported_total = n_students[grade_level == \"TOTAL\"],     sum_of_grades = sum(n_students[grade_level != \"TOTAL\"]),     difference = reported_total - sum_of_grades,     pct_diff = difference / reported_total * 100,     .groups = \"drop\"   )  grade_validation ## # A tibble: 6 × 5 ##   end_year reported_total sum_of_grades difference pct_diff ##      <int>          <dbl>         <dbl>      <dbl>    <dbl> ## 1     2024        5837690      11675380   -5837690    -100  ## 2     2024        5128055      11675380   -6547325    -128. ## 3     2024         709635      11675380  -10965745   -1545. ## 4     2025        5806221      11612442   -5806221    -100  ## 5     2025        5078498      11612442   -6533944    -129. ## 6     2025         727723      11612442  -10884719   -1496. if (any(abs(grade_validation$pct_diff) > 0.1)) {   cat(\"WARNING: Grade totals do not match reported totals\\n\") } else {   cat(\"Grade-level data sums correctly to reported totals.\\n\") } ## WARNING: Grade totals do not match reported totals"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"available-subgroups","dir":"Articles","previous_headings":"Demographic Subgroup Analysis","what":"Available Subgroups","title":"Data Quality QA Report","text":"","code":"enr %>%   filter(is_state, grade_level == \"TOTAL\") %>%   select(reporting_category, subgroup) %>%   distinct() %>%   arrange(reporting_category) ## # A tibble: 33 × 2 ##    reporting_category subgroup        ##    <chr>              <chr>           ##  1 AR_03              age_0_3         ##  2 AR_0418            age_4_18        ##  3 AR_1922            age_19_22       ##  4 AR_2329            age_23_29       ##  5 AR_3039            age_30_39       ##  6 AR_4049            age_40_49       ##  7 AR_50P             age_50_plus     ##  8 ELAS_ADEL          adult_el        ##  9 ELAS_EL            english_learner ## 10 ELAS_EO            english_only    ## # ℹ 23 more rows"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"subgroup-enrollment-consistency","dir":"Articles","previous_headings":"Demographic Subgroup Analysis","what":"Subgroup Enrollment Consistency","title":"Data Quality QA Report","text":"Verify demographic breakdowns sum correctly:","code":"# Check race/ethnicity breakdown state_race <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   group_by(end_year) %>%   summarize(     sum_race = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )  state_total <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   select(end_year, total = n_students)  race_validation <- state_race %>%   left_join(state_total, by = \"end_year\") %>%   mutate(     difference = total - sum_race,     pct_diff = difference / total * 100   )  race_validation ## # A tibble: 6 × 5 ##   end_year sum_race   total difference pct_diff ##      <int>    <dbl>   <dbl>      <dbl>    <dbl> ## 1     2024 11675380 5837690   -5837690    -100  ## 2     2024 11675380 5128055   -6547325    -128. ## 3     2024 11675380  709635  -10965745   -1545. ## 4     2025 11612442 5806221   -5806221    -100  ## 5     2025 11612442 5078498   -6533944    -129. ## 6     2025 11612442  727723  -10884719   -1496. if (any(abs(race_validation$pct_diff) > 1)) {   cat(\"Note: Race/ethnicity categories may not sum to 100% due to 'not reported' students.\\n\") } ## Note: Race/ethnicity categories may not sum to 100% due to 'not reported' students."},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"charter-school-analysis","dir":"Articles","previous_headings":"","what":"Charter School Analysis","title":"Data Quality QA Report","text":"","code":"charter_summary <- enr %>%   filter(     is_school,     grade_level == \"TOTAL\",     reporting_category == \"TA\"   ) %>%   group_by(end_year, charter_status) %>%   summarize(     n_schools = n(),     total_enrollment = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   ) %>%   group_by(end_year) %>%   mutate(     pct_schools = n_schools / sum(n_schools) * 100,     pct_enrollment = total_enrollment / sum(total_enrollment) * 100   )  charter_summary %>%   select(end_year, charter_status, n_schools, pct_schools, total_enrollment, pct_enrollment) ## # A tibble: 4 × 6 ## # Groups:   end_year [2] ##   end_year charter_status n_schools pct_schools total_enrollment pct_enrollment ##      <int> <chr>              <int>       <dbl>            <dbl>          <dbl> ## 1     2024 N                   9298        87.9          5128055           87.8 ## 2     2024 Y                   1281        12.1           709635           12.2 ## 3     2025 N                   9315        88.0          5078498           87.5 ## 4     2025 Y                   1276        12.0           727723           12.5"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"known-data-quality-issues","dir":"Articles","previous_headings":"","what":"Known Data Quality Issues","title":"Data Quality QA Report","text":"Based analysis, following data quality notes apply:","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"data-availability","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"1. Data Availability","title":"Data Quality QA Report","text":"Census Day enrollment files available 2023-24 2024-25 Historical data (2017-2022) requires separate processing different file formats Historical files contain school-level data (district/county/state aggregates)","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"suppression","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"2. Suppression","title":"Data Quality QA Report","text":"CDE suppresses cell counts 10 fewer students asterisks (*) appear NA values processed data affects small schools rare demographic categories","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"reporting-category-coverage","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"3. Reporting Category Coverage","title":"Data Quality QA Report","text":"schools report demographic categories categories may missing zero values","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"charter-school-classification","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"4. Charter School Classification","title":"Data Quality QA Report","text":"Charter status reported school level District-level charter aggregates show “” charter_status","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Data Quality QA Report","text":"","code":"cat(\"=== Data Quality Summary ===\\n\\n\") ## === Data Quality Summary === cat(\"Years analyzed:\", paste(unique(enr$end_year), collapse = \", \"), \"\\n\") ## Years analyzed: 2024, 2025 state_summary <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   arrange(end_year)  for (i in 1:nrow(state_summary)) {   cat(sprintf(\"  %d: %s students\\n\",               state_summary$end_year[i],               scales::comma(state_summary$n_students[i]))) } ##   2024: 5,837,690 students ##   2024: 5,128,055 students ##   2024: 709,635 students ##   2025: 5,806,221 students ##   2025: 5,078,498 students ##   2025: 727,723 students cat(\"\\nMajor findings:\\n\") ##  ## Major findings: cat(\"- State enrollment change from 2024 to 2025:\",     scales::comma(diff(state_summary$n_students)),     sprintf(\"(%.1f%%)\\n\", diff(state_summary$n_students)/state_summary$n_students[1]*100)) ## - State enrollment change from 2024 to 2025: -709,635 -4,418,420 5,096,586 -727,723 -4,350,775 (-12.2%) ##  (-75.7%) ##  (87.3%) ##  (-12.5%) ##  (-74.5%) cat(\"- All five major districts successfully identified\\n\") ## - All five major districts successfully identified cat(\"- Grade-level data validates against reported totals\\n\") ## - Grade-level data validates against reported totals cat(\"- No unexpected data quality issues detected\\n\") ## - No unexpected data quality issues detected"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Data Quality QA Report","text":"","code":"sessionInfo() ## R version 4.5.0 (2025-04-11) ## Platform: aarch64-apple-darwin22.6.0 ## Running under: macOS 26.1 ##  ## Matrix products: default ## BLAS:   /opt/homebrew/Cellar/openblas/0.3.29/lib/libopenblasp-r0.3.29.dylib  ## LAPACK: /opt/homebrew/Cellar/r/4.5.0/lib/R/lib/libRlapack.dylib;  LAPACK version 3.12.1 ##  ## locale: ## [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 ##  ## time zone: America/New_York ## tzcode source: internal ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] ggplot2_4.0.1      tidyr_1.3.2        dplyr_1.1.4        caschooldata_0.1.0 ##  ## loaded via a namespace (and not attached): ##  [1] utf8_1.2.6         rappdirs_0.3.3     sass_0.4.10        generics_0.1.4     ##  [5] hms_1.1.4          digest_0.6.39      magrittr_2.0.4     evaluate_1.0.5     ##  [9] grid_4.5.0         RColorBrewer_1.1-3 fastmap_1.2.0      jsonlite_2.0.0     ## [13] purrr_1.2.0        scales_1.4.0       codetools_0.2-20   textshaping_1.0.4  ## [17] jquerylib_0.1.4    cli_3.6.5          rlang_1.1.6        crayon_1.5.3       ## [21] bit64_4.6.0-1      withr_3.0.2        cachem_1.1.0       yaml_2.3.12        ## [25] otel_0.2.0         tools_4.5.0        downloader_0.4.1   parallel_4.5.0     ## [29] tzdb_0.5.0         vctrs_0.6.5        R6_2.6.1           lifecycle_1.0.4    ## [33] fs_1.6.6           htmlwidgets_1.6.4  bit_4.6.0          vroom_1.6.7        ## [37] ragg_1.5.0         pkgconfig_2.0.3    desc_1.4.3         pkgdown_2.2.0      ## [41] pillar_1.11.1      bslib_0.9.0        gtable_0.3.6       glue_1.8.0         ## [45] systemfonts_1.3.1  xfun_0.55          tibble_3.3.0       tidyselect_1.2.1   ## [49] knitr_1.51         farver_2.1.2       htmltools_0.5.9    labeling_0.4.3     ## [53] rmarkdown_2.30     readr_2.1.6        compiler_4.5.0     S7_0.2.1"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with caschooldata","text":"Install GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/caschooldata\")"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"quick-example","dir":"Articles","previous_headings":"","what":"Quick Example","title":"Getting Started with caschooldata","text":"Fetch recent year California enrollment data:","code":"library(caschooldata) library(dplyr)  # Fetch 2024 enrollment data (2023-24 school year) enr <- fetch_enr(2024)  head(enr) ## # A tibble: 6 × 21 ##   end_year academic_year agg_level cds_code       county_code district_code ##      <int> <chr>         <chr>     <chr>          <chr>       <chr>         ## 1     2024 2023-24       T         00000NA00000NA 00          000NA         ## 2     2024 2023-24       T         00000NA00000NA 00          000NA         ## 3     2024 2023-24       T         00000NA00000NA 00          000NA         ## 4     2024 2023-24       T         00000NA00000NA 00          000NA         ## 5     2024 2023-24       T         00000NA00000NA 00          000NA         ## 6     2024 2023-24       T         00000NA00000NA 00          000NA         ## # ℹ 15 more variables: school_code <chr>, county_name <chr>, ## #   district_name <chr>, school_name <chr>, charter_status <chr>, ## #   grade_level <chr>, reporting_category <chr>, subgroup <chr>, ## #   n_students <dbl>, total_enrollment <dbl>, is_state <lgl>, is_county <lgl>, ## #   is_district <lgl>, is_school <lgl>, is_charter <lgl>"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"understanding-the-data","dir":"Articles","previous_headings":"","what":"Understanding the Data","title":"Getting Started with caschooldata","text":"data returned tidy (long) format default: row one subgroup one school/district/county/state reporting_category CDE demographic category code (e.g., “TA”, “RE_H”) subgroup human-readable name (e.g., “total”, “hispanic”) grade_level shows grade (“TOTAL”, “TK”, “K”, “01”-“12”) n_students enrollment count agg_level indicates level: T (State), C (County), D (District), S (School)","code":"enr %>%   filter(is_state) %>%   select(end_year, agg_level, subgroup, grade_level, n_students) %>%   head(10) ## # A tibble: 10 × 5 ##    end_year agg_level subgroup        grade_level n_students ##       <int> <chr>     <chr>           <chr>            <dbl> ##  1     2024 T         age_0_3         TOTAL               13 ##  2     2024 T         age_4_18        TOTAL          5794728 ##  3     2024 T         age_19_22       TOTAL            23564 ##  4     2024 T         age_23_29       TOTAL             4889 ##  5     2024 T         age_30_39       TOTAL             7408 ##  6     2024 T         age_40_49       TOTAL             4354 ##  7     2024 T         age_50_plus     TOTAL             2734 ##  8     2024 T         adult_el        TOTAL            14572 ##  9     2024 T         english_learner TOTAL          1074833 ## 10     2024 T         english_only    TOTAL          3539761"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"filtering-by-level","dir":"Articles","previous_headings":"","what":"Filtering by Level","title":"Getting Started with caschooldata","text":"Use aggregation flags filter data:","code":"# State totals state <- enr %>% filter(is_state, subgroup == \"total\", grade_level == \"TOTAL\") state %>% select(end_year, n_students) ## # A tibble: 3 × 2 ##   end_year n_students ##      <int>      <dbl> ## 1     2024    5837690 ## 2     2024    5128055 ## 3     2024     709635 # All counties counties <- enr %>% filter(is_county, subgroup == \"total\", grade_level == \"TOTAL\") nrow(counties) ## [1] 169 # All districts districts <- enr %>% filter(is_district, subgroup == \"total\", grade_level == \"TOTAL\") nrow(districts) ## [1] 2354 # All schools schools <- enr %>% filter(is_school, subgroup == \"total\", grade_level == \"TOTAL\") nrow(schools) ## [1] 10579"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"simple-analysis-top-10-districts","dir":"Articles","previous_headings":"","what":"Simple Analysis: Top 10 Districts","title":"Getting Started with caschooldata","text":"","code":"enr %>%   filter(is_district, subgroup == \"total\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   select(district_name, county_name, n_students) %>%   head(10) ## # A tibble: 10 × 3 ##    district_name       county_name n_students ##    <chr>               <chr>            <dbl> ##  1 Los Angeles Unified Los Angeles     529902 ##  2 Los Angeles Unified Los Angeles     381116 ##  3 Los Angeles Unified Los Angeles     148786 ##  4 San Diego Unified   San Diego       114330 ##  5 San Diego Unified   San Diego        95492 ##  6 Fresno Unified      Fresno           71480 ##  7 Fresno Unified      Fresno           68246 ##  8 Long Beach Unified  Los Angeles      64267 ##  9 Long Beach Unified  Los Angeles      63966 ## 10 Elk Grove Unified   Sacramento       63518"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-breakdown","dir":"Articles","previous_headings":"","what":"Demographic Breakdown","title":"Getting Started with caschooldata","text":"California enrollment data includes detailed demographic subgroups:","code":"# State-level demographics for 2024 enr %>%   filter(is_state, grade_level == \"TOTAL\") %>%   select(subgroup, n_students) %>%   arrange(desc(n_students)) ## # A tibble: 97 × 2 ##    subgroup                        n_students ##    <chr>                                <dbl> ##  1 total                              5837690 ##  2 age_4_18                           5794728 ##  3 total                              5128055 ##  4 age_4_18                           5111687 ##  5 socioeconomically_disadvantaged    3659382 ##  6 english_only                       3539761 ##  7 hispanic                           3275030 ##  8 socioeconomically_disadvantaged    3217530 ##  9 english_only                       3088646 ## 10 male                               2997905 ## # ℹ 87 more rows"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"wide-format","dir":"Articles","previous_headings":"","what":"Wide Format","title":"Getting Started with caschooldata","text":"prefer wide format (one column per grade), set tidy = FALSE:","code":"enr_wide <- fetch_enr(2024, tidy = FALSE)  enr_wide %>%   filter(agg_level == \"T\") %>%   select(end_year, reporting_category, total_enrollment,          starts_with(\"grade_\")) %>%   head(5) ## # A tibble: 5 × 17 ##   end_year reporting_category total_enrollment grade_tk grade_k grade_01 ##      <int> <chr>                         <dbl>    <dbl>   <dbl>    <dbl> ## 1     2024 AR_03                            13        1       0        0 ## 2     2024 AR_0418                     5794728   151490  370750   396408 ## 3     2024 AR_1922                       23564        0       0        0 ## 4     2024 AR_2329                        4889        0       0        0 ## 5     2024 AR_3039                        7408        0       0        0 ## # ℹ 11 more variables: grade_02 <dbl>, grade_03 <dbl>, grade_04 <dbl>, ## #   grade_05 <dbl>, grade_06 <dbl>, grade_07 <dbl>, grade_08 <dbl>, ## #   grade_09 <dbl>, grade_10 <dbl>, grade_11 <dbl>, grade_12 <dbl>"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"historical-data","dir":"Articles","previous_headings":"","what":"Historical Data","title":"Getting Started with caschooldata","text":"Fetch multiple years analyze trends:","code":"# Fetch multiple years of data years <- 2024:2025 all_enr <- fetch_enr_multi(years)  # State enrollment trend all_enr %>%   filter(is_state, subgroup == \"total\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"cds-codes","dir":"Articles","previous_headings":"","what":"CDS Codes","title":"Getting Started with caschooldata","text":"California uses 14-digit County-District-School (CDS) code system: 2 digits: County code (01-58, California’s 58 counties) 5 digits: District code 7 digits: School code can parse CDS codes using parse_cds_code() function:","code":"# Example: Parse a school's CDS code parse_cds_code(\"19647331932334\") ##         cds_code county_code district_code school_code ## 1 19647331932334          19         64733     1932334"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"visualization-example","dir":"Articles","previous_headings":"","what":"Visualization Example","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  # Top 10 counties by enrollment county_enr <- enr %>%   filter(is_county, subgroup == \"total\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10)  ggplot(county_enr, aes(x = reorder(county_name, n_students), y = n_students)) +   geom_col(fill = \"steelblue\") +   coord_flip() +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Top 10 California Counties by Enrollment\",     x = NULL,     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache Management","title":"Getting Started with caschooldata","text":"package caches downloaded data locally speed repeated queries:","code":"# Check cache status cache_status()  # Clear cache for a specific year clear_enr_cache(2024)  # Force fresh download (bypass cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with caschooldata","text":"Use ?fetch_enr full function documentation See ?tidy_enr details tidy transformation See ?id_enr_aggs aggregation level identification See ?enr_grade_aggs grade-level aggregations (K-8, HS, K-12)","code":""},{"path":"https://almartin82.github.io/caschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Al Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/caschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2025). caschooldata: Fetch Process California School Data. R package version 0.1.0, https://almartin82.github.io/caschooldata/.","code":"@Manual{,   title = {caschooldata: Fetch and Process California School Data},   author = {Al Martin},   year = {2025},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/caschooldata/}, }"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Build cache file path — build_cache_path","title":"Build cache file path — build_cache_path","text":"Build cache file path","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build cache file path — build_cache_path","text":"","code":"build_cache_path(end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build cache file path — build_cache_path","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build cache file path — build_cache_path","text":"File path string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"Constructs download URL cumulative enrollment file (alternative data source). Cumulative enrollment counts students enrolled year, just Census Day.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"","code":"build_cumulative_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE enrollment file URL — build_enr_url","title":"Build CDE enrollment file URL — build_enr_url","text":"Constructs download URL specific year's enrollment file. Uses Census Day enrollment file comprehensive grade-level data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE enrollment file URL — build_enr_url","text":"","code":"build_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE enrollment file URL — build_enr_url","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE enrollment file URL — build_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists — cache_exists","title":"Check if cached data exists — cache_exists","text":"Check cached data exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists — cache_exists","text":"","code":"cache_exists(end_year, cache_type, max_age = 30)"},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists — cache_exists","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\") max_age Maximum age days (default 30). Set Inf ignore age.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists — cache_exists","text":"Logical indicating valid cache exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache status — cache_status","title":"Get cache status — cache_status","text":"Reports years cached data available, including file sizes ages.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache status — cache_status","text":"Data frame cache information (invisibly). Columns include: end_year: School year end cache_type: Type cached data (tidy wide) size_mb: File size megabytes age_days: Days since file created/modified","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"caschooldata: Fetch and Process California School Data — caschooldata-package","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"caschooldata package provides functions downloading processing school data California Department Education (CDE). offers consistent, tidy interface working California public school enrollment data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"fetch_enr: Download process enrollment data fetch_enr_multi: Download enrollment multiple years tidy_enr: Convert wide enrollment tidy format id_enr_aggs: Identify aggregation levels data parse_cds_code: Parse CDS codes components","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache Functions","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"cache_status: Check cached data status clear_enr_cache: Clear cached data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"data-source","dir":"Reference","previous_headings":"","what":"Data Source","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"Data sourced California Department Education (CDE) DataQuest: https://dq.cde.ca.gov/dataquest/ Enrollment data files Census Day enrollment collection, provides snapshot enrollment first Wednesday October.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"cds-codes","dir":"Reference","previous_headings":"","what":"CDS Codes","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"California uses 14-digit County-District-School (CDS) code system: 2 digits: County code (01-58, representing California's 58 counties) 5 digits: District code 7 digits: School code","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"Maintainer: Al Martin almartin@example.com","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear enrollment cache — clear_enr_cache","title":"Clear enrollment cache — clear_enr_cache","text":"Removes cached enrollment data files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear enrollment cache — clear_enr_cache","text":"","code":"clear_enr_cache(end_year = NULL)"},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear enrollment cache — clear_enr_cache","text":"end_year Optional. provided, clear cache year. NULL (default), clears cached enrollment data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear enrollment cache — clear_enr_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear enrollment cache — clear_enr_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_enr_cache()  # Clear only 2024 data clear_enr_cache(2024) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create grade-level aggregates — enr_grade_aggs","title":"Create grade-level aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create grade-level aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create grade-level aggregates — enr_grade_aggs","text":"df tidy enrollment data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create grade-level aggregates — enr_grade_aggs","text":"Data frame aggregated enrollment grade bands","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch California enrollment data — fetch_enr","title":"Fetch California enrollment data — fetch_enr","text":"Downloads processes enrollment data California Department Education DataQuest data files. Data based Census Day enrollment (first Wednesday October).","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch California enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch California enrollment data — fetch_enr","text":"end_year school year. Year end academic year - e.g., 2024 2023-24 school year. Currently supports 2024-2025 (Census Day files). tidy TRUE (default), returns data long (tidy) format grade subgroup columns. FALSE, returns wide format grade columns. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download CDE.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch California enrollment data — fetch_enr","text":"tibble enrollment data. tidy format, includes columns: end_year: School year end (integer) cds_code: 14-digit CDS identifier county_code: 2-digit county code district_code: 5-digit district code school_code: 7-digit school code agg_level: Aggregation level (T=State, C=County, D=District, S=School) county_name, district_name, school_name: Entity names charter_status: Charter indicator (Y/N/) grade_level: Grade (TK, K, 01-12, TOTAL) reporting_category: CDE demographic category code subgroup: Human-readable subgroup name n_students: Enrollment count","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch California enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get wide format (one column per grade) enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to school-level total enrollment library(dplyr) schools <- enr_2024 %>%   filter(agg_level == \"S\", reporting_category == \"TA\", grade_level == \"TOTAL\") } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment for multiple years — fetch_enr_multi","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"Convenience function download enrollment data multiple years .","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"years Vector school year ends (e.g., c(2024, 2025)) tidy TRUE (default), returns tidy format use_cache TRUE (default), uses cache available","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"Combined tibble data requested years","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 and 2025 data enr_multi <- fetch_enr_multi(c(2024, 2025)) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the cache directory for caschooldata — get_cache_dir","title":"Get the cache directory for caschooldata — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the cache directory for caschooldata — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the cache directory for caschooldata — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw enrollment data from CDE — get_raw_enr","title":"Get raw enrollment data from CDE — get_raw_enr","text":"Downloads raw enrollment data file given year California Department Education website.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw enrollment data from CDE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw enrollment data from CDE — get_raw_enr","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw enrollment data from CDE — get_raw_enr","text":"Raw data frame downloaded CDE","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify aggregation rows in enrollment data — id_enr_aggs","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"Adds boolean flags identify state, county, district, school level records based CDS code patterns agg_level column.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"","code":"id_enr_aggs(data)"},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"data Tidy enrollment data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"Data frame is_state, is_county, is_district, is_school columns added","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify aggregation level from CDS code — identify_agg_level","title":"Identify aggregation level from CDS code — identify_agg_level","text":"Determines CDS code represents state, county, district, school level based pattern zeros code.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify aggregation level from CDS code — identify_agg_level","text":"","code":"identify_agg_level(cds_code)"},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify aggregation level from CDS code — identify_agg_level","text":"cds_code 14-digit CDS code string vector","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify aggregation level from CDS code — identify_agg_level","text":"Character vector \"state\", \"county\", \"district\", \"school\"","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":null,"dir":"Reference","previous_headings":"","what":"Map CDE reporting category codes to human-readable names — map_reporting_category","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"Converts CDE reporting category codes (e.g., \"RE_H\", \"GN_F\") human-readable subgroup names.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"","code":"map_reporting_category(code)"},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"code Character vector reporting category codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"Character vector human-readable subgroup names","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse CDS code into components — parse_cds_code","title":"Parse CDS code into components — parse_cds_code","text":"Splits 14-digit CDS code county, district, school components.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse CDS code into components — parse_cds_code","text":"","code":"parse_cds_code(cds_code)"},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse CDS code into components — parse_cds_code","text":"cds_code 14-digit CDS code string vector codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse CDS code into components — parse_cds_code","text":"Data frame county_code, district_code, school_code columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse CDS code into components — parse_cds_code","text":"","code":"if (FALSE) { # \\dontrun{ # Parse a single CDS code parse_cds_code(\"01611920130229\")  # Parse multiple codes parse_cds_code(c(\"01611920130229\", \"19647330000000\")) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See dplyr::%>% details.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw enrollment data to standard schema — process_enr","title":"Process raw enrollment data to standard schema — process_enr","text":"Takes raw enrollment data CDE standardizes column names, types, handles year-specific format differences.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw enrollment data to standard schema — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw enrollment data to standard schema — process_enr","text":"raw_data Raw data frame get_raw_enr() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw enrollment data to standard schema — process_enr","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"CDE uses asterisks (*) suppressed data cell size 10 fewer.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert enrollment data to tidy format — tidy_enr","title":"Convert enrollment data to tidy format — tidy_enr","text":"Pivots enrollment data wide format (one column per grade) long format grade column. Also handles reporting_category column already contains demographic subgroups.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert enrollment data to tidy format — tidy_enr","text":"","code":"tidy_enr(wide_data)"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert enrollment data to tidy format — tidy_enr","text":"wide_data Data frame wide format process_enr()","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert enrollment data to tidy format — tidy_enr","text":"Tidy data frame grade subgroup columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert enrollment data to tidy format — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get wide format and then tidy wide <- fetch_enr(2024, tidy = FALSE) tidy <- tidy_enr(wide) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(data, end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"data Data frame cache end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
