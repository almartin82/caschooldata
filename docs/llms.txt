# caschooldata

**[Documentation](https://almartin82.github.io/caschooldata/)** \|
**[Getting
Started](https://almartin82.github.io/caschooldata/articles/quickstart.html)**
\| **[Full
Analysis](https://almartin82.github.io/caschooldata/articles/district-highlights.html)**

Fetch and analyze California school enrollment data from the California
Department of Education in R or Python.

## What can you find with caschooldata?

**44 years of enrollment data (1982-2025).** 5.8 million students today.
Over 1,000 districts. Here are fifteen stories hiding in the numbers:

------------------------------------------------------------------------

### 1. The 40-year arc: rise, peak, and decline

California’s K-12 enrollment peaked around 2003-04 at 6.3 million
students. Today it’s under 5.8 million.

``` r
library(caschooldata)
library(dplyr)

enr <- fetch_enr_multi(c(1985, 1995, 2005, 2015, 2025))

enr %>%
  filter(is_state, grade_level == "TOTAL", reporting_category == "TA") %>%
  select(end_year, n_students)
```

![40-year enrollment
arc](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-1-1.png)

40-year enrollment arc

------------------------------------------------------------------------

### 2. The demographic crossover

Around 2010, Hispanic students became the majority. Today they’re over
55% of enrollment.

``` r
enr <- fetch_enr_multi(c(1995, 2000, 2005, 2010, 2015, 2020, 2025))

enr %>%
  filter(is_state, grade_level == "TOTAL", grepl("^RE_", reporting_category)) %>%
  group_by(end_year, subgroup) %>%
  summarize(n = sum(n_students)) %>%
  group_by(end_year) %>%
  mutate(pct = n / sum(n) * 100)
```

![Demographic
transformation](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-4-1.png)

Demographic transformation

------------------------------------------------------------------------

### 3. Kindergarten predicts the future

Today’s kindergarten enrollment is tomorrow’s high school enrollment.
The K decline started before COVID.

``` r
enr <- fetch_enr_multi(c(2005, 2010, 2015, 2020, 2025))

enr %>%
  filter(is_state, reporting_category == "TA", grade_level %in% c("K", "12")) %>%
  select(end_year, grade_level, n_students)
```

![K vs 12th
grade](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-8-1.png)

K vs 12th grade

------------------------------------------------------------------------

### 4. COVID hit elementary hardest

The pandemic’s enrollment impact varied dramatically by grade level.

``` r
enr <- fetch_enr_multi(2019:2025)

enr %>%
  filter(is_state, reporting_category == "TA",
         grade_level %in% c("K", "06", "09")) %>%
  select(end_year, grade_level, n_students)
```

![COVID impact by
grade](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-6-1.png)

COVID impact by grade

------------------------------------------------------------------------

### 5. LAUSD is America’s second-largest district

California has 5 of the nation’s 20 largest school districts.

``` r
enr <- fetch_enr_multi(2018:2025)

# Filter for charter_status == "ALL" to avoid double-counting
# (modern Census Day files have separate rows for charter/non-charter)
enr %>%
  filter(is_district, grade_level == "TOTAL", reporting_category == "TA",
         charter_status %in% c("ALL", "All") | is.na(charter_status)) %>%
  group_by(district_name) %>%
  filter(max(n_students) > 50000) %>%
  select(end_year, district_name, n_students)
```

![Top
districts](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-3-1.png)

Top districts

------------------------------------------------------------------------

### 6. Bay Area districts are shrinking fastest

Urban districts in the Bay Area are losing students faster than their
SoCal counterparts.

``` r
enr %>%
  filter(is_district, grade_level == "TOTAL", reporting_category == "TA",
         district_name %in% c("San Francisco Unified", "Los Angeles Unified",
                              "Oakland Unified", "San Diego Unified")) %>%
  group_by(district_name) %>%
  mutate(index = n_students / first(n_students) * 100)
```

![Bay Area vs
SoCal](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-7-1.png)

Bay Area vs SoCal

------------------------------------------------------------------------

### 7. Gender balance holds steady

The ~51/49 male/female split remains consistent across all grade levels.

``` r
enr_2025 <- fetch_enr(2025)

enr_2025 %>%
  filter(is_state, reporting_category %in% c("GN_M", "GN_F"),
         grade_level %in% c("K", "06", "12")) %>%
  group_by(grade_level) %>%
  mutate(pct = n_students / sum(n_students) * 100)
```

![Gender by
grade](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-9-1.png)

Gender by grade

------------------------------------------------------------------------

### 8. One in five students needs extra support

3.5 million low-income students. 1 million+ English Learners. Student
groups data available from 2024+.

``` r
enr_2025 %>%
  filter(is_state, grade_level == "TOTAL", grepl("^SG_", reporting_category)) %>%
  select(subgroup, n_students) %>%
  arrange(desc(n_students))
```

![Student
groups](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-10-1.png)

Student groups

------------------------------------------------------------------------

### 9. LAUSD: America’s shrinking giant

The nation’s second-largest district has lost nearly half its enrollment
since its peak.

``` r
enr <- fetch_enr_multi(c(1990, 2000, 2010, 2020, 2025))

enr %>%
  filter(is_district, grepl("Los Angeles Unified", district_name),
         grade_level == "TOTAL", reporting_category == "TA") %>%
  select(end_year, district_name, n_students)
```

![LAUSD
decline](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-2-1.png)

LAUSD decline

------------------------------------------------------------------------

### 10. California’s district diversity

Demographics vary dramatically across major districts: majority Hispanic
in LA and Fresno, highly diverse in SF and San Diego.

``` r
enr_2025 %>%
  filter(is_district, grade_level == "TOTAL", grepl("^RE_", reporting_category)) %>%
  filter(district_name %in% c("San Francisco Unified", "Los Angeles Unified",
                               "Fresno Unified", "San Diego Unified")) %>%
  group_by(district_name, subgroup) %>%
  summarize(n = sum(n_students)) %>%
  group_by(district_name) %>%
  mutate(pct = n / sum(n) * 100)
```

![Race by
district](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-4-1.png)

Race by district

------------------------------------------------------------------------

### 11. The Central Valley bucks statewide decline

While coastal California loses students, Central Valley agricultural
counties like Kern, Fresno, and Tulare have held relatively steady.

``` r
central_valley <- c("Kern", "Fresno", "Tulare", "Kings", "Madera", "Merced", "Stanislaus")

enr %>%
  filter(is_county, grade_level == "TOTAL", reporting_category == "TA",
         county_name %in% central_valley) %>%
  group_by(end_year) %>%
  summarize(n_students = sum(n_students)) %>%
  mutate(index = n_students / first(n_students) * 100)
```

![Central Valley vs Bay
Area](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-11-1.png)

Central Valley vs Bay Area

------------------------------------------------------------------------

### 12. San Francisco lost more than 1 in 4 students

San Francisco Unified has experienced the most dramatic enrollment
collapse of any major California district, losing over 25% of its
students since 2018.

``` r
enr %>%
  filter(is_district, grade_level == "TOTAL", reporting_category == "TA",
         grepl("San Francisco Unified", district_name)) %>%
  arrange(end_year) %>%
  mutate(pct_change = (n_students - first(n_students)) / first(n_students) * 100)
```

![San Francisco enrollment
collapse](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-12-1.png)

San Francisco enrollment collapse

------------------------------------------------------------------------

### 13. Charter schools serve 12% of California students

Charter schools now educate approximately 700,000 students statewide.
The modern Census Day data (2024+) allows detailed charter vs
traditional comparisons.

``` r
enr %>%
  filter(is_state, end_year >= 2024, grade_level == "TOTAL",
         reporting_category == "TA", charter_status %in% c("Y", "N")) %>%
  mutate(type = ifelse(charter_status == "Y", "Charter", "Traditional")) %>%
  group_by(end_year, type) %>%
  summarize(n = sum(n_students))
```

![Charter vs
Traditional](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-13-1.png)

Charter vs Traditional

------------------------------------------------------------------------

### 14. The shrinking class pipeline

Comparing enrollment across grades reveals how smaller kindergarten
cohorts work their way through the system. The grade 12 bulge from
larger past cohorts will soon graduate.

``` r
enr %>%
  filter(is_state, reporting_category == "TA", end_year == max(end_year),
         grade_level %in% c("K", "01", "02", "03", "04", "05",
                            "06", "07", "08", "09", "10", "11", "12")) %>%
  select(grade_level, n_students)
```

![Grade level
pipeline](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-14-1.png)

Grade level pipeline

------------------------------------------------------------------------

### 15. Fresno Unified: The Central Valley’s anchor

Fresno Unified, California’s third-largest district, has remained
remarkably stable compared to its coastal counterparts.

``` r
compare_districts <- c("Fresno Unified", "San Diego Unified",
                       "Oakland Unified", "Long Beach Unified")

enr %>%
  filter(is_district, grade_level == "TOTAL", reporting_category == "TA",
         district_name %in% compare_districts) %>%
  group_by(district_name) %>%
  mutate(index = n_students / first(n_students) * 100)
```

![Fresno vs coastal
districts](https://almartin82.github.io/caschooldata/articles/district-highlights_files/figure-html/finding-15-1.png)

Fresno vs coastal districts

------------------------------------------------------------------------

## Installation

``` r
# install.packages("remotes")
remotes::install_github("almartin82/caschooldata")
```

## Quick start

### R

``` r
library(caschooldata)
library(dplyr)

# Fetch one year
enr_2025 <- fetch_enr(2025)

# Fetch recent years (2018-2025)
enr_recent <- fetch_enr_multi(2018:2025)

# Fetch ALL 44 years of data (1982-2025)
enr_all <- fetch_enr_multi(1982:2025)

# State totals
enr_2025 %>%
  filter(is_state, subgroup == "total", grade_level == "TOTAL")

# District breakdown
enr_2025 %>%
  filter(is_district, subgroup == "total", grade_level == "TOTAL") %>%
  arrange(desc(n_students))

# Demographics by district
enr_2025 %>%
  filter(is_district, grade_level == "TOTAL", grepl("^RE_", reporting_category)) %>%
  group_by(district_name, subgroup) %>%
  summarize(n = sum(n_students))
```

### Python

``` python
import pycaschooldata as ca

# Check available years
years = ca.get_available_years()
print(f"Data available from {years['min_year']} to {years['max_year']}")

# Fetch one year
enr_2025 = ca.fetch_enr(2025)

# Fetch multiple years
enr_recent = ca.fetch_enr_multi([2023, 2024, 2025])

# State totals
state_total = enr_2025[
    (enr_2025['is_state'] == True) &
    (enr_2025['grade_level'] == 'TOTAL') &
    (enr_2025['subgroup'] == 'total')
]

# District breakdown
district_totals = enr_2025[
    (enr_2025['is_district'] == True) &
    (enr_2025['grade_level'] == 'TOTAL') &
    (enr_2025['subgroup'] == 'total')
].sort_values('n_students', ascending=False)
```

## Data availability

| Years         | Source           | Aggregation Levels              | Demographics                                       | Notes                            |
|---------------|------------------|---------------------------------|----------------------------------------------------|----------------------------------|
| **2024-2025** | Census Day files | State, County, District, School | Race, Gender, Student Groups (EL, FRPM, SWD, etc.) | Full detail, TK included         |
| **2008-2023** | Historical files | School (aggregates computed)    | Race, Gender                                       | Entity names included            |
| **1994-2007** | Historical files | School (aggregates computed)    | Race, Gender                                       | No entity names (CDS codes only) |
| **1982-1993** | Historical files | School (aggregates computed)    | Race, Gender                                       | Letter-based race codes (mapped) |

### What’s available by year range

- **Subgroups**: Race/ethnicity and gender available for all years.
  Student groups (English Learners, FRPM, Special Ed) only available
  2024+.
- **Grade levels**: K-12 available for all years. Transitional
  Kindergarten (TK) only available 2024+.
- **Aggregation**: Modern files (2024+) include pre-computed
  state/county/district totals. Historical files only have school-level
  data; this package computes aggregates automatically.
- **Entity names**: School/district names available 2008+ and 1982-1993.
  Not available for 1994-2007 (use CDS code lookups).

## Data source

California Department of Education:
[DataQuest](https://dq.cde.ca.gov/dataquest/) \| [Data
Files](https://www.cde.ca.gov/ds/)

## Part of the State Schooldata Project

A simple, consistent interface for accessing state-published school data
in Python and R.

**All 50 state packages:**
[github.com/almartin82](https://github.com/almartin82?tab=repositories&q=schooldata)

## Author

[Andy Martin](https://github.com/almartin82) (<almartin@gmail.com>)

## License

MIT

# Package index

## Fetch Data

Download enrollment data from CDE

- [`fetch_enr()`](https://almartin82.github.io/caschooldata/reference/fetch_enr.md)
  : Fetch California enrollment data
- [`fetch_enr_multi()`](https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.md)
  : Fetch enrollment for multiple years
- [`get_available_years()`](https://almartin82.github.io/caschooldata/reference/get_available_years.md)
  : Get available years for California enrollment data

## Process & Tidy

Transform data into analysis-ready formats

- [`tidy_enr()`](https://almartin82.github.io/caschooldata/reference/tidy_enr.md)
  : Convert enrollment data to tidy format
- [`id_enr_aggs()`](https://almartin82.github.io/caschooldata/reference/id_enr_aggs.md)
  : Identify aggregation rows in enrollment data
- [`enr_grade_aggs()`](https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.md)
  : Create grade-level aggregates
- [`parse_cds_code()`](https://almartin82.github.io/caschooldata/reference/parse_cds_code.md)
  : Parse CDS code into components

## Cache Management

Manage locally cached data

- [`cache_status()`](https://almartin82.github.io/caschooldata/reference/cache_status.md)
  : Get cache status
- [`clear_enr_cache()`](https://almartin82.github.io/caschooldata/reference/clear_enr_cache.md)
  : Clear enrollment cache
- [`clear_directory_cache()`](https://almartin82.github.io/caschooldata/reference/clear_directory_cache.md)
  : Clear school directory cache

## School Directory

Download school directory data

- [`fetch_directory()`](https://almartin82.github.io/caschooldata/reference/fetch_directory.md)
  : Fetch California school directory data

# Articles

### All vignettes

- [Data Quality QA
  Report](https://almartin82.github.io/caschooldata/articles/data-quality-qa.md):
- [California Enrollment Deep Dive: District Trends & Demographic
  Shifts](https://almartin82.github.io/caschooldata/articles/district-highlights.md):
- [Getting Started with
  caschooldata](https://almartin82.github.io/caschooldata/articles/quickstart.md):
