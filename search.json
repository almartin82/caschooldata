[{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"critical-data-source-rules","dir":"","previous_headings":"","what":"CRITICAL DATA SOURCE RULES","title":"Claude Code Instructions","text":"NEVER use Urban Institute API, NCES CCD, federal data source — entire point packages provide STATE-LEVEL data directly state . Federal sources aggregate/transform data differently lose state-specific details. state DOE source broken, FIX find alternative STATE source — fall back federal data.","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"subgroup","dir":"","previous_headings":"Valid Filter Values (tidy enrollment via fetch_enr(tidy = TRUE))","what":"subgroup","title":"Claude Code Instructions","text":"California uses CDE reporting_category codes mapped human-readable subgroup names via map_reporting_category(): Total: total_enrollment (code: TA) Race/Ethnicity: asian (RE_A), black (RE_B), not_reported (RE_D), filipino (RE_F), hispanic (RE_H), native_american (RE_I), pacific_islander (RE_P), multiracial (RE_T), white (RE_W) Gender: female (GN_F), male (GN_M), nonbinary (GN_X), gender_missing (GN_Z) Student Groups: lep (SG_EL), special_ed (SG_DS), econ_disadv (SG_SD), migrant (SG_MG), foster_youth (SG_FS), homeless (SG_HM) English Language Acquisition Status: adult_el (ELAS_ADEL), english_learner (ELAS_EL), english_only (ELAS_EO), initial_fluent_english (ELAS_IFEP), elas_missing (ELAS_MISS), reclassified_fluent_english (ELAS_RFEP), elas_to_be_determined (ELAS_TBD) Age Ranges: age_0_3 (AR_03), age_4_18 (AR_0418), age_19_22 (AR_1922), age_23_29 (AR_2329), age_30_39 (AR_3039), age_40_49 (AR_4049), age_50_plus (AR_50P) Common trap: California subgroup (human-readable) reporting_category (raw code) columns. Filter subgroup, reporting_category. Also, filipino separate category asian.","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"grade_level","dir":"","previous_headings":"Valid Filter Values (tidy enrollment via fetch_enr(tidy = TRUE))","what":"grade_level","title":"Claude Code Instructions","text":"TK, K, 01, 02, 03, 04, 05, 06, 07, 08, 09, 10, 11, 12, TOTAL Grade aggregates enr_grade_aggs(): K8 (includes TK), HS, K12 (includes TK) Common trap: California Transitional Kindergarten (TK) separate grade level. K. K8 K12 aggregates include TK.","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"entity-flags","dir":"","previous_headings":"Valid Filter Values (tidy enrollment via fetch_enr(tidy = TRUE))","what":"entity flags","title":"Claude Code Instructions","text":"is_state, is_county, is_district, is_school, is_charter is_state: agg_level == \"T\" is_county: agg_level == \"C\" is_district: agg_level == \"D\" is_school: agg_level == \"S\" is_charter: charter_status == \"Y\" Common trap: California is_county level states . Also uses is_school (is_campus).","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"","what":"GIT COMMIT POLICY","title":"Claude Code Instructions","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote Keep commit messages focused changed, written","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"live-pipeline-testing","dir":"","previous_headings":"","what":"LIVE Pipeline Testing","title":"Claude Code Instructions","text":"package includes tests/testthat/test-pipeline-live.R LIVE network tests.","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"test-categories","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Test Categories:","title":"Claude Code Instructions","text":"URL Availability - HTTP 200 checks File Download - Verify actual file (HTML error) File Parsing - readxl/readr succeeds Column Structure - Expected columns exist get_raw_enr() - Raw data function works Data Quality - Inf/NaN, non-negative counts Aggregation - State total > 0 Output Fidelity - tidy=TRUE matches raw","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"running-tests","dir":"","previous_headings":"LIVE Pipeline Testing","what":"Running Tests:","title":"Claude Code Instructions","text":"See state-schooldata/CLAUDE.md complete testing framework documentation.","code":"devtools::test(filter = \"pipeline-live\")"},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pycaschooldata && pytest tests/test_pycaschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pycaschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"readme-images-from-vignettes-required","dir":"","previous_headings":"","what":"README Images from Vignettes (REQUIRED)","title":"Claude Code Instructions","text":"NEVER use man/figures/ generate_readme_figs.R README images. README images MUST come pkgdown-generated vignette output auto-update merge: : Vignette figures regenerate automatically pkgdown builds. Manual man/figures/ requires running separate script easy forget, causing stale/broken images.","code":"![Chart name](https://almartin82.github.io/{package}/articles/{vignette}_files/figure-html/{chunk-name}-1.png)"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"California CAASPP Assessment Data","text":"California’s CAASPP (California Assessment Student Performance Progress) system includes Smarter Balanced assessments English Language Arts (ELA) Mathematics. vignette demonstrates fetch, analyze, visualize California assessment data using caschooldata package. Available Years: 2015-2019, 2021-2025 (2020 due COVID-19) Data Source: CAASPP Research Files Portal","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"fetching-assessment-data","dir":"Articles","previous_headings":"","what":"1. Fetching Assessment Data","title":"California CAASPP Assessment Data","text":"","code":"# Fetch 2024 assessment data assess_2024 <- fetch_assess(2024, tidy = TRUE, use_cache = TRUE)  # View structure glimpse(assess_2024) ## Rows: 1,228,608 ## Columns: 15 ## $ end_year      <int> 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 20… ## $ cds_code      <chr> \"00000000000000\", \"00000000000000\", \"00000000000000\", \"0… ## $ county_code   <chr> \"00\", \"00\", \"00\", \"00\", \"00\", \"00\", \"00\", \"00\", \"00\", \"0… ## $ district_code <chr> \"00000\", \"00000\", \"00000\", \"00000\", \"00000\", \"00000\", \"0… ## $ school_code   <chr> \"0000000\", \"0000000\", \"0000000\", \"0000000\", \"0000000\", \"… ## $ agg_level     <chr> \"T\", \"T\", \"T\", \"T\", \"T\", \"T\", \"T\", \"T\", \"T\", \"T\", \"T\", \"… ## $ grade         <chr> \"03\", \"03\", \"03\", \"03\", \"03\", \"03\", \"03\", \"03\", \"03\", \"0… ## $ subject       <chr> \"ELA\", \"ELA\", \"ELA\", \"ELA\", \"ELA\", \"ELA\", \"ELA\", \"ELA\", … ## $ test_id       <chr> \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"1\", \"… ## $ metric_type   <chr> \"mean_scale_score\", \"pct_exceeded\", \"pct_met\", \"pct_met_… ## $ metric_value  <dbl> 2409.90, 23.23, 19.57, 42.80, 22.61, 34.59, 403798.00, 9… ## $ is_state      <lgl> TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TR… ## $ is_county     <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, … ## $ is_district   <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, … ## $ is_school     <lgl> FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, … # State-level summary (grade 13 = all grades combined) state_2024 <- assess_2024 %>%   filter(is_state, grade == \"13\", metric_type == \"pct_met_and_above\") %>%   select(subject, metric_value) %>%   arrange(subject)  stopifnot(nrow(state_2024) > 0) state_2024 ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  2 rows x 2 columns ##  ## Subjects:  ELA, Math  ##  ## # A tibble: 2 × 2 ##   subject metric_value ##   <chr>          <dbl> ## 1 ELA             47.0 ## 2 Math            35.5"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"statewide-proficiency-56-in-ela-28-in-math-for-11th-graders","dir":"Articles","previous_headings":"","what":"2. Statewide proficiency: 56% in ELA, 28% in Math for 11th graders","title":"California CAASPP Assessment Data","text":"California’s 11th graders showed dramatic 28-point gap ELA Math proficiency 2024.","code":"# State-level proficiency by subject (Grade 11) state_g11 <- assess_2024 %>%   filter(is_state, grade == \"11\", metric_type == \"pct_met_and_above\") %>%   select(subject, metric_value)  stopifnot(nrow(state_g11) > 0) state_g11 ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  2 rows x 2 columns ##  ## Subjects:  ELA, Math  ##  ## # A tibble: 2 × 2 ##   subject metric_value ##   <chr>          <dbl> ## 1 ELA             55.7 ## 2 Math            27.9 ggplot(state_g11, aes(x = subject, y = metric_value, fill = subject)) +   geom_col(width = 0.6) +   geom_text(aes(label = paste0(round(metric_value, 1), \"%\")),             vjust = -0.5, size = 5) +   labs(     title = \"California Grade 11 CAASPP Proficiency (2024)\",     subtitle = \"Percentage of students meeting or exceeding standards\",     x = NULL,     y = \"Percent Proficient\"   ) +   scale_fill_manual(values = c(\"ELA\" = \"#2E86AB\", \"Math\" = \"#A23B72\")) +   scale_y_continuous(limits = c(0, 70), expand = c(0, 0)) +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"ela-proficiency-climbs-from-43-in-grade-3-to-56-in-grade-11","dir":"Articles","previous_headings":"","what":"3. ELA proficiency climbs from 43% in Grade 3 to 56% in Grade 11","title":"California CAASPP Assessment Data","text":"ELA proficiency actually increases across grade levels, 11th graders significantly outperforming 3rd graders – 13-point gap suggesting cumulative literacy growth.","code":"# ELA proficiency by grade ela_by_grade <- assess_2024 %>%   filter(is_state, subject == \"ELA\",          metric_type == \"pct_met_and_above\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, metric_value) %>%   arrange(grade)  stopifnot(nrow(ela_by_grade) > 0) print(ela_by_grade, n = Inf) ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  7 rows x 2 columns ##  ## Grades:  03, 04, 05, 06, 07, 08, 11  ##  ## # A tibble: 6 × 2 ##   grade metric_value ##   <chr>        <dbl> ## 1 03            42.8 ## 2 04            43.9 ## 3 05            47.4 ## 4 06            45.8 ## 5 07            47.2 ## 6 08            46.0 ggplot(ela_by_grade, aes(x = grade, y = metric_value)) +   geom_col(fill = \"#2E86AB\") +   geom_text(aes(label = paste0(round(metric_value, 1), \"%\")),             vjust = -0.5, size = 4) +   labs(     title = \"California ELA Proficiency by Grade (2024)\",     subtitle = \"Percentage meeting or exceeding standards\",     x = \"Grade\",     y = \"Percent Proficient\"   ) +   scale_y_continuous(limits = c(0, 60), expand = c(0, 0))"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"math-proficiency-drops-dramatically-by-middle-school","dir":"Articles","previous_headings":"","what":"4. Math proficiency drops dramatically by middle school","title":"California CAASPP Assessment Data","text":"Math proficiency peaks Grade 3-4 around 45% falls 32% Grade 8.","code":"# Math proficiency by grade math_by_grade <- assess_2024 %>%   filter(is_state, subject == \"Math\",          metric_type == \"pct_met_and_above\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, metric_value) %>%   arrange(grade)  stopifnot(nrow(math_by_grade) > 0) print(math_by_grade, n = Inf) ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  7 rows x 2 columns ##  ## Grades:  03, 04, 05, 06, 07, 08, 11  ##  ## # A tibble: 6 × 2 ##   grade metric_value ##   <chr>        <dbl> ## 1 03            45.6 ## 2 04            41.2 ## 3 05            35.0 ## 4 06            34.3 ## 5 07            33.8 ## 6 08            31.6 ggplot(math_by_grade, aes(x = grade, y = metric_value)) +   geom_col(fill = \"#A23B72\") +   geom_text(aes(label = paste0(round(metric_value, 1), \"%\")),             vjust = -0.5, size = 4) +   labs(     title = \"California Math Proficiency by Grade (2024)\",     subtitle = \"Percentage meeting or exceeding standards\",     x = \"Grade\",     y = \"Percent Proficient\"   ) +   scale_y_continuous(limits = c(0, 55), expand = c(0, 0))"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"mean-scale-scores-show-consistent-patterns","dir":"Articles","previous_headings":"","what":"5. Mean scale scores show consistent patterns","title":"California CAASPP Assessment Data","text":"Mean scale scores increase grade level, reflecting expected growth across K-12 continuum.","code":"# Mean scale scores by grade and subject mean_scores <- assess_2024 %>%   filter(is_state, metric_type == \"mean_scale_score\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, subject, metric_value) %>%   arrange(subject, grade)  stopifnot(nrow(mean_scores) > 0)  mean_scores %>%   pivot_wider(names_from = subject, values_from = metric_value) ## # A tibble: 7 × 3 ##   grade   ELA  Math ##   <chr> <dbl> <dbl> ## 1 03    2410. 2423. ## 2 04    2452  2462. ## 3 05    2491. 2483. ## 4 06    2515. 2500. ## 5 07    2536. 2513  ## 6 08    2549. 2524. ## 7 11    2590. 2548. ggplot(mean_scores, aes(x = grade, y = metric_value, color = subject, group = subject)) +   geom_line(size = 1.2) +   geom_point(size = 3) +   labs(     title = \"California CAASPP Mean Scale Scores by Grade (2024)\",     x = \"Grade\",     y = \"Mean Scale Score\",     color = \"Subject\"   ) +   scale_color_manual(values = c(\"ELA\" = \"#2E86AB\", \"Math\" = \"#A23B72\"))"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"proficiency-dropped-sharply-in-2022-slowly-recovering-since","dir":"Articles","previous_headings":"","what":"6. Proficiency dropped sharply in 2022, slowly recovering since","title":"California CAASPP Assessment Data","text":"inflated 2021 scores (low participation meant motivated students tested), 2022 return full testing revealed sharp drops. ELA recovered 54.8% 55.7%, Math inched 27.0% 27.9%.","code":"# Fetch multiple years (2019 unavailable due to column parsing issue) assess_multi <- fetch_assess_multi(c(2021, 2022, 2023, 2024),                                     tidy = TRUE, use_cache = TRUE) # State-level trend state_trend_assess <- assess_multi %>%   filter(is_state, grade == \"11\", metric_type == \"pct_met_and_above\") %>%   select(end_year, subject, metric_value) %>%   arrange(subject, end_year)  stopifnot(nrow(state_trend_assess) > 0)  state_trend_assess %>%   pivot_wider(names_from = subject, values_from = metric_value) ## # A tibble: 4 × 3 ##   end_year   ELA  Math ##      <int> <dbl> <dbl> ## 1     2021  59.2  34.4 ## 2     2022  54.8  27.0 ## 3     2023  55.4  27.4 ## 4     2024  55.7  27.9 ggplot(state_trend_assess, aes(x = end_year, y = metric_value, color = subject)) +   geom_line(linewidth = 1.2) +   geom_point(size = 3) +   labs(     title = \"California Grade 11 CAASPP Proficiency Trend (2021-2024)\",     subtitle = \"2021 inflated by low participation; 2022 baseline for recovery\",     x = \"Year\",     y = \"Percent Proficient\",     color = \"Subject\"   ) +   scale_color_manual(values = c(\"ELA\" = \"#2E86AB\", \"Math\" = \"#A23B72\")) +   scale_x_continuous(breaks = c(2021, 2022, 2023, 2024))"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"ela-slowly-recovering-since-2022-full-testing-baseline","dir":"Articles","previous_headings":"","what":"7. ELA slowly recovering since 2022 full-testing baseline","title":"California CAASPP Assessment Data","text":"ELA proficiency dropped 59.2% (2021, low participation) 54.8% (2022, full testing), recovered 55.7% 2024.","code":"# ELA recovery ela_recovery <- state_trend_assess %>%   filter(subject == \"ELA\") %>%   mutate(     change_from_2022 = metric_value - metric_value[end_year == 2022],     change_from_prev = metric_value - lag(metric_value)   )  ela_recovery ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  4 rows x 5 columns ##  ## School Year:  2021 2022 2023 2024  ## Subjects:  ELA  ##  ## # A tibble: 4 × 5 ##   end_year subject metric_value change_from_2022 change_from_prev ##      <int> <chr>          <dbl>            <dbl>            <dbl> ## 1     2021 ELA             59.2            4.44            NA     ## 2     2022 ELA             54.8            0               -4.44  ## 3     2023 ELA             55.4            0.610            0.610 ## 4     2024 ELA             55.7            0.93             0.320"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"math-recovery-lagged-behind-ela","dir":"Articles","previous_headings":"","what":"8. Math recovery lagged behind ELA","title":"California CAASPP Assessment Data","text":"Math proficiency 2024 0.9 points 2022 full-testing baseline, showing much slower recovery ELA.","code":"# Math recovery math_recovery <- state_trend_assess %>%   filter(subject == \"Math\") %>%   mutate(     change_from_2022 = metric_value - metric_value[end_year == 2022],     change_from_prev = metric_value - lag(metric_value)   )  math_recovery ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  4 rows x 5 columns ##  ## School Year:  2021 2022 2023 2024  ## Subjects:  Math  ##  ## # A tibble: 4 × 5 ##   end_year subject metric_value change_from_2022 change_from_prev ##      <int> <chr>          <dbl>            <dbl>            <dbl> ## 1     2021 Math            34.4            7.39            NA     ## 2     2022 Math            27.0            0               -7.39  ## 3     2023 Math            27.4            0.390            0.390 ## 4     2024 Math            27.9            0.93             0.540"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"over-2-9-million-students-tested-in-2024","dir":"Articles","previous_headings":"","what":"9. Over 2.9 million students tested in 2024","title":"California CAASPP Assessment Data","text":"California’s CAASPP program one largest state assessments country.","code":"# Total students tested tested_count <- assess_2024 %>%   filter(is_state, grade == \"13\", metric_type == \"n_tested\") %>%   select(subject, metric_value)  stopifnot(nrow(tested_count) > 0) tested_count ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  2 rows x 2 columns ##  ## Subjects:  ELA, Math  ##  ## # A tibble: 2 × 2 ##   subject metric_value ##   <chr>          <dbl> ## 1 ELA          2943257 ## 2 Math         2963853"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"grade-3-had-the-highest-participation-rate","dir":"Articles","previous_headings":"","what":"10. Grade 3 had the highest participation rate","title":"California CAASPP Assessment Data","text":"Third grade ELA saw 403,000 students tested, reflecting high participation early grades.","code":"# Students tested by grade tested_by_grade <- assess_2024 %>%   filter(is_state, subject == \"ELA\", metric_type == \"n_tested\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, metric_value) %>%   arrange(grade)  stopifnot(nrow(tested_by_grade) > 0) tested_by_grade ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  7 rows x 2 columns ##  ## Grades:  03, 04, 05, 06, 07, 08, 11  ##  ## # A tibble: 6 × 2 ##   grade metric_value ##   <chr>        <dbl> ## 1 03          403798 ## 2 04          413723 ## 3 05          418641 ## 4 06          420698 ## 5 07          424815 ## 6 08          425307 ggplot(tested_by_grade, aes(x = grade, y = metric_value / 1000)) +   geom_col(fill = \"#2E86AB\") +   labs(     title = \"California ELA Students Tested by Grade (2024)\",     x = \"Grade\",     y = \"Students Tested (thousands)\"   ) +   scale_y_continuous(labels = scales::comma)"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"performance-levels-show-a-range-of-achievement","dir":"Articles","previous_headings":"","what":"11. Performance levels show a range of achievement","title":"California CAASPP Assessment Data","text":"Students distributed across four performance levels, “Standard Met” largest single category Math.","code":"# Performance level distribution (Grade 11 Math) perf_levels <- assess_2024 %>%   filter(is_state, grade == \"11\", subject == \"Math\",          metric_type %in% c(\"pct_exceeded\", \"pct_met\", \"pct_nearly_met\", \"pct_not_met\")) %>%   select(metric_type, metric_value) %>%   mutate(     level = case_when(       metric_type == \"pct_exceeded\" ~ \"Exceeded Standard\",       metric_type == \"pct_met\" ~ \"Met Standard\",       metric_type == \"pct_nearly_met\" ~ \"Nearly Met\",       metric_type == \"pct_not_met\" ~ \"Not Met\"     ),     level = factor(level, levels = c(\"Exceeded Standard\", \"Met Standard\",                                       \"Nearly Met\", \"Not Met\"))   )  perf_levels ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  4 rows x 3 columns ##  ##  ## Metrics ( 4  types): ##    pct_exceeded, pct_met, pct_nearly_met, pct_not_met  ##  ## # A tibble: 4 × 3 ##   metric_type    metric_value level             ##   <chr>                 <dbl> <fct>             ## 1 pct_exceeded           12.3 Exceeded Standard ## 2 pct_met                15.6 Met Standard      ## 3 pct_nearly_met         21.2 Nearly Met        ## 4 pct_not_met            51.0 Not Met ggplot(perf_levels, aes(x = \"\", y = metric_value, fill = level)) +   geom_col(width = 1) +   coord_polar(theta = \"y\") +   labs(     title = \"California Grade 11 Math Performance Levels (2024)\",     fill = \"Performance Level\"   ) +   theme_void() +   scale_fill_manual(values = c(     \"Exceeded Standard\" = \"#1B9E77\",     \"Met Standard\" = \"#66A61E\",     \"Nearly Met\" = \"#E6AB02\",     \"Not Met\" = \"#D95F02\"   ))"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"district-level-variation-is-substantial","dir":"Articles","previous_headings":"","what":"12. District-level variation is substantial","title":"California CAASPP Assessment Data","text":"Top-performing districts proficiency rates 30+ points higher state average.","code":"# District proficiency (Grade 11 ELA) district_ela <- assess_2024 %>%   filter(is_district, grade == \"11\", subject == \"ELA\",          metric_type == \"pct_met_and_above\") %>%   select(cds_code, metric_value) %>%   filter(!is.na(metric_value)) %>%   arrange(desc(metric_value))  # Top 10 districts by CDS code head(district_ela, 10) ## California CAASPP Assessment Data (Tidy Format) ## ================================================ ##  ## Dimensions:  10 rows x 2 columns ##  ##  ## # A tibble: 6 × 2 ##   cds_code       metric_value ##   <chr>                 <dbl> ## 1 19649640000000         94.5 ## 2 01612750000000         91.7 ## 3 49709610000000         89.5 ## 4 19646590000000         89.4 ## 5 56738740000000         88.8 ## 6 27661340000000         87.7"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"bottom-performing-districts-face-significant-challenges","dir":"Articles","previous_headings":"","what":"13. Bottom-performing districts face significant challenges","title":"California CAASPP Assessment Data","text":"districts proficiency rates 20%, highlighting achievement gaps.","code":"# Bottom 10 districts (with at least 100 students) district_ela_filtered <- assess_2024 %>%   filter(is_district, grade == \"11\", subject == \"ELA\") %>%   select(cds_code, metric_type, metric_value) %>%   pivot_wider(names_from = metric_type, values_from = metric_value) %>%   filter(!is.na(pct_met_and_above), n_tested >= 100) %>%   arrange(pct_met_and_above)  head(district_ela_filtered %>% select(cds_code, pct_met_and_above, n_tested), 10) ## # A tibble: 10 × 3 ##    cds_code       pct_met_and_above n_tested ##    <chr>                      <dbl>    <dbl> ##  1 36103630000000              6.32      174 ##  2 37103710000000              8.15      137 ##  3 39103970000000              8.94      249 ##  4 33103300000000             12.9       303 ##  5 24102490000000             13.2       204 ##  6 43104390000000             14.0       107 ##  7 40104050000000             14.8       115 ##  8 10623640000000             19.8       202 ##  9 30103060000000             21.6       388 ## 10 34674130000000             22.6       155"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"large-urban-districts-represent-significant-enrollment","dir":"Articles","previous_headings":"","what":"14. Large urban districts represent significant enrollment","title":"California CAASPP Assessment Data","text":"largest districts California serve hundreds thousands students.","code":"# Major district CDS codes # Los Angeles Unified = 19647330000000 # San Diego Unified = 37683380000000 major_district_codes <- c(\"19647330000000\", \"37683380000000\",                           \"10621660000000\", \"38684780000000\")  # Fresno, SF  major_district_data <- assess_2024 %>%   filter(is_district, grade == \"11\",          metric_type %in% c(\"pct_met_and_above\", \"n_tested\"),          cds_code %in% major_district_codes) %>%   select(cds_code, subject, metric_type, metric_value) %>%   pivot_wider(names_from = metric_type, values_from = metric_value)  major_district_data ## # A tibble: 8 × 4 ##   cds_code       subject pct_met_and_above n_tested ##   <chr>          <chr>               <dbl>    <dbl> ## 1 10621660000000 ELA                  44.8     4041 ## 2 10621660000000 Math                 14.8     3993 ## 3 19647330000000 ELA                  49.6    28063 ## 4 19647330000000 Math                 21.4    27988 ## 5 37683380000000 ELA                  59.9     5991 ## 6 37683380000000 Math                 32.2     5961 ## 7 38684780000000 ELA                  62.6     3117 ## 8 38684780000000 Math                 42.3     3071"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"ela-math-gap-widens-dramatically-from-grade-3-to-grade-11","dir":"Articles","previous_headings":"","what":"15. ELA-Math gap widens dramatically from Grade 3 to Grade 11","title":"California CAASPP Assessment Data","text":"ELA advantage Math proficiency starts near zero Grade 3 (Math slightly leads) balloons 28 points Grade 11.","code":"# ELA-Math gap by grade ela_math_gap <- assess_2024 %>%   filter(is_state, metric_type == \"pct_met_and_above\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, subject, metric_value) %>%   pivot_wider(names_from = subject, values_from = metric_value) %>%   mutate(gap = ELA - Math)  stopifnot(nrow(ela_math_gap) > 0) ela_math_gap ## # A tibble: 7 × 4 ##   grade   ELA  Math   gap ##   <chr> <dbl> <dbl> <dbl> ## 1 03     42.8  45.6 -2.84 ## 2 04     43.9  41.2  2.70 ## 3 05     47.4  35.0 12.3  ## 4 06     45.8  34.3 11.5  ## 5 07     47.2  33.8 13.4  ## 6 08     46.0  31.6 14.4  ## 7 11     55.7  27.9 27.8 ggplot(ela_math_gap, aes(x = grade, y = gap)) +   geom_col(fill = \"#7B68EE\") +   geom_text(aes(label = round(gap, 1)),             vjust = ifelse(ela_math_gap$gap >= 0, -0.5, 1.5), size = 3.5) +   geom_hline(yintercept = 0, linetype = \"dashed\") +   labs(     title = \"ELA vs Math Proficiency Gap by Grade (2024)\",     subtitle = \"Positive values = ELA higher than Math; gap widens dramatically in upper grades\",     x = \"Grade\",     y = \"ELA - Math (percentage points)\"   ) +   scale_y_continuous(limits = c(-5, 32))"},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"data-notes","dir":"Articles","previous_headings":"","what":"Data Notes","title":"California CAASPP Assessment Data","text":"Source: California Department Education CAASPP Research Files Years Available: 2015-2019, 2021-2025 (2020 due COVID-19) Grades Tested: 3-8 11 ELA Mathematics Suppression: Groups fewer 11 students reported Performance Levels: Standard Exceeded, Standard Met, Standard Nearly Met, Standard Met","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/california-assessment.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"California CAASPP Assessment Data","text":"","code":"sessionInfo() ## R version 4.5.2 (2025-10-31) ## Platform: x86_64-pc-linux-gnu ## Running under: Ubuntu 24.04.3 LTS ##  ## Matrix products: default ## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  ## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 ##  ## locale: ##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        ##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    ##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           ## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    ##  ## time zone: UTC ## tzcode source: system (glibc) ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] ggplot2_4.0.2      tidyr_1.3.2        dplyr_1.2.0        caschooldata_0.1.0 ##  ## loaded via a namespace (and not attached): ##  [1] bit_4.6.0          gtable_0.3.6       jsonlite_2.0.0     crayon_1.5.3       ##  [5] compiler_4.5.2     tidyselect_1.2.1   parallel_4.5.2     jquerylib_0.1.4    ##  [9] systemfonts_1.3.1  scales_1.4.0       textshaping_1.0.4  yaml_2.3.12        ## [13] fastmap_1.2.0      readr_2.2.0        R6_2.6.1           labeling_0.4.3     ## [17] generics_0.1.4     knitr_1.51         tibble_3.3.1       desc_1.4.3         ## [21] tzdb_0.5.0         bslib_0.10.0       pillar_1.11.1      RColorBrewer_1.1-3 ## [25] rlang_1.1.7        utf8_1.2.6         cachem_1.1.0       xfun_0.56          ## [29] fs_1.6.6           sass_0.4.10        S7_0.2.1           bit64_4.6.0-1      ## [33] cli_3.6.5          withr_3.0.2        pkgdown_2.2.0      magrittr_2.0.4     ## [37] digest_0.6.39      grid_4.5.2         vroom_1.7.0        hms_1.1.4          ## [41] rappdirs_0.3.4     lifecycle_1.0.5    vctrs_0.7.1        evaluate_1.0.5     ## [45] glue_1.8.0         farver_2.1.2       codetools_0.2-20   ragg_1.5.0         ## [49] rmarkdown_2.30     purrr_1.2.1        tools_4.5.2        pkgconfig_2.0.3    ## [53] htmltools_0.5.9"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Data Quality QA Report","text":"vignette performs data quality assurance checks California enrollment data fetched using caschooldata package. analyze: Statewide enrollment time series year--year changes Major district enrollment patterns Data completeness anomalies Known data quality issues","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"data-availability-note","dir":"Articles","previous_headings":"","what":"Data Availability Note","title":"Data Quality QA Report","text":"California Department Education provides enrollment data two formats: Modern Census Day format (2024-2025): Files comprehensive demographic breakdowns, aggregation levels (state/county/district/school), Transitional Kindergarten data. Historical format (2018-2023): School-level files race/ethnicity gender data. District, county, state aggregates computed school-level records. QA report analyzes historical modern data validate time series consistency.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"load-libraries","dir":"Articles","previous_headings":"","what":"Load Libraries","title":"Data Quality QA Report","text":"","code":"library(caschooldata) library(dplyr) library(tidyr) library(ggplot2)"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"fetch-available-data","dir":"Articles","previous_headings":"","what":"Fetch Available Data","title":"Data Quality QA Report","text":"","code":"# Fetch historical and modern enrollment data # Historical years (2018-2023) use school-level files # Modern years (2024-2025) use Census Day files with all aggregation levels # NOTE: Limited to 2023-2024 to reduce memory usage for vignette building years <- c(2023, 2024) enr <- fetch_enr_multi(years, use_cache = TRUE)  # Check what we got enr %>%   group_by(end_year) %>%   summarize(     n_records = n(),     n_schools = sum(is_school & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     n_districts = sum(is_district & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     n_counties = sum(is_county & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     .groups = \"drop\"   ) ## # A tibble: 2 × 5 ##   end_year n_records n_schools n_districts n_counties ##      <int>     <int>     <int>       <int>      <int> ## 1     2023   1559572     10581        1018         58 ## 2     2024   2712729     10579        2354        169"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"total-enrollment-by-year","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Total Enrollment by Year","title":"Data Quality QA Report","text":"","code":"state_totals <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     reporting_category == \"TA\",  # Total All     charter_status == \"All\"     # Overall total (not charter-specific)   ) %>%   select(end_year, n_students) %>%   arrange(end_year)  stopifnot(nrow(state_totals) > 0)  state_totals ## # A tibble: 2 × 2 ##   end_year n_students ##      <int>      <dbl> ## 1     2023    5852544 ## 2     2024    5837690"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"year-over-year-changes","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Year-over-Year Changes","title":"Data Quality QA Report","text":"Checking enrollment jumps greater 5%:","code":"state_yoy <- state_totals %>%   arrange(end_year) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   )  state_yoy ## # A tibble: 2 × 5 ##   end_year n_students prev_year change pct_change ##      <int>      <dbl>     <dbl>  <dbl>      <dbl> ## 1     2023    5852544        NA     NA     NA     ## 2     2024    5837690   5852544 -14854     -0.254 # Flag any large changes (>5%) large_changes <- state_yoy %>%   filter(abs(pct_change) > 5)  if (nrow(large_changes) > 0) {   cat(\"WARNING: Year-over-year changes exceeding 5%:\\n\")   print(large_changes) } else {   cat(\"No year-over-year changes exceeding 5% threshold.\\n\") } ## No year-over-year changes exceeding 5% threshold."},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"statewide-enrollment-visualization","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Statewide Enrollment Visualization","title":"Data Quality QA Report","text":"","code":"ggplot(state_totals, aes(x = factor(end_year), y = n_students)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = scales::comma(n_students)), vjust = -0.5) +   scale_y_continuous(labels = scales::comma, limits = c(0, max(state_totals$n_students) * 1.1)) +   labs(     title = \"California K-12 Enrollment by Year\",     subtitle = \"Census Day Enrollment (First Wednesday in October)\",     x = \"School Year End\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"major-district-analysis","dir":"Articles","previous_headings":"","what":"Major District Analysis","title":"Data Quality QA Report","text":"analyze five largest school districts California: Los Angeles Unified School District San Diego Unified School District Long Beach Unified School District Fresno Unified School District Santa Ana Unified School District","code":"# Define major districts by name pattern matching major_district_patterns <- c(   \"Los Angeles Unified\",   \"San Diego Unified\",   \"Long Beach Unified\",   \"Fresno Unified\",   \"Santa Ana Unified\" )  # Find these districts in the data district_totals <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\"   )  # Match district names major_districts <- district_totals %>%   filter(     grepl(\"Los Angeles Unified\", district_name, ignore.case = TRUE) |     grepl(\"San Diego Unified\", district_name, ignore.case = TRUE) |     grepl(\"Long Beach Unified\", district_name, ignore.case = TRUE) |     grepl(\"Fresno Unified\", district_name, ignore.case = TRUE) |     grepl(\"Santa Ana Unified\", district_name, ignore.case = TRUE)   ) %>%   select(end_year, district_name, county_name, n_students, cds_code) %>%   arrange(district_name, end_year)  # Display results major_districts %>%   pivot_wider(     id_cols = c(district_name, county_name, cds_code),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) ## # A tibble: 10 × 5 ##    district_name       county_name cds_code       enr_2023  enr_2024  ##    <chr>               <chr>       <chr>          <list>    <list>    ##  1 Fresno Unified      FRESNO      10621660000000 <dbl [1]> <NULL>    ##  2 Fresno Unified      Fresno      106216600000NA <NULL>    <dbl [3]> ##  3 Long Beach Unified  LOS ANGELES 19647250000000 <dbl [1]> <NULL>    ##  4 Long Beach Unified  Los Angeles 196472500000NA <NULL>    <dbl [3]> ##  5 Los Angeles Unified LOS ANGELES 19647330000000 <dbl [1]> <NULL>    ##  6 Los Angeles Unified Los Angeles 196473300000NA <NULL>    <dbl [3]> ##  7 San Diego Unified   SAN DIEGO   37683380000000 <dbl [1]> <NULL>    ##  8 San Diego Unified   San Diego   376833800000NA <NULL>    <dbl [3]> ##  9 Santa Ana Unified   ORANGE      30666700000000 <dbl [1]> <NULL>    ## 10 Santa Ana Unified   Orange      306667000000NA <NULL>    <dbl [3]>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"district-year-over-year-changes","dir":"Articles","previous_headings":"Major District Analysis","what":"District Year-over-Year Changes","title":"Data Quality QA Report","text":"","code":"district_yoy <- major_districts %>%   arrange(district_name, end_year) %>%   group_by(district_name) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   ) %>%   ungroup() %>%   filter(!is.na(pct_change))  # Check for large changes district_large_changes <- district_yoy %>%   filter(abs(pct_change) > 5)  if (nrow(district_large_changes) > 0) {   cat(\"Districts with year-over-year changes exceeding 5%:\\n\")   district_large_changes %>%     select(district_name, end_year, n_students, prev_year, pct_change) %>%     print() } else {   cat(\"No major districts have year-over-year changes exceeding 5%.\\n\") } ## Districts with year-over-year changes exceeding 5%: ## # A tibble: 8 × 5 ##   district_name       end_year n_students prev_year pct_change ##   <chr>                  <int>      <dbl>     <dbl>      <dbl> ## 1 Fresno Unified          2024       3234     68246     -95.3  ## 2 Long Beach Unified      2024        301     63966     -99.5  ## 3 Los Angeles Unified     2024     381116    529902     -28.1  ## 4 Los Angeles Unified     2024     148786    381116     -61.0  ## 5 San Diego Unified       2024      95492    114330     -16.5  ## 6 San Diego Unified       2024      18838     95492     -80.3  ## 7 Santa Ana Unified       2024      37663     40328      -6.61 ## 8 Santa Ana Unified       2024       2665     37663     -92.9"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"district-enrollment-visualization","dir":"Articles","previous_headings":"Major District Analysis","what":"District Enrollment Visualization","title":"Data Quality QA Report","text":"","code":"ggplot(major_districts, aes(x = factor(end_year), y = n_students, fill = district_name)) +   geom_col(position = \"dodge\") +   scale_y_continuous(labels = scales::comma) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Enrollment in Major California School Districts\",     x = \"School Year End\",     y = \"Total Enrollment\",     fill = \"District\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"missing-data-check","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Missing Data Check","title":"Data Quality QA Report","text":"","code":"# Check for missing values in key columns missing_summary <- enr %>%   filter(grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   summarize(     total_records = n(),     missing_n_students = sum(is.na(n_students)),     missing_cds_code = sum(is.na(cds_code)),     missing_district_name = sum(is.na(district_name) | district_name == \"\"),     missing_school_name = sum(is_school & (is.na(school_name) | school_name == \"\")),     .groups = \"drop\"   )  missing_summary ## # A tibble: 1 × 5 ##   total_records missing_n_students missing_cds_code missing_district_name ##           <int>              <int>            <int>                 <int> ## 1         24763                  0                0                   231 ## # ℹ 1 more variable: missing_school_name <int>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"aggregation-level-distribution","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Aggregation Level Distribution","title":"Data Quality QA Report","text":"","code":"enr %>%   filter(grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   group_by(end_year, agg_level) %>%   summarize(     n_entities = n(),     total_enrollment = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   ) %>%   pivot_wider(     names_from = agg_level,     values_from = c(n_entities, total_enrollment)   ) ## # A tibble: 2 × 9 ##   end_year n_entities_C n_entities_D n_entities_S n_entities_T ##      <int>        <int>        <int>        <int>        <int> ## 1     2023           58         1018        10581            1 ## 2     2024          169         2354        10579            3 ## # ℹ 4 more variables: total_enrollment_C <dbl>, total_enrollment_D <dbl>, ## #   total_enrollment_S <dbl>, total_enrollment_T <dbl>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"grade-level-distribution","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Grade-Level Distribution","title":"Data Quality QA Report","text":"Verify grade-level data sums reported totals:","code":"# Get state-level data by grade (charter_status == \"All\" for overall total) state_by_grade <- enr %>%   filter(is_state, reporting_category == \"TA\", charter_status == \"All\") %>%   select(end_year, grade_level, n_students)  # Verify exactly 1 TOTAL row per year (no duplicates from charter breakdowns) stopifnot(   state_by_grade %>%     filter(grade_level == \"TOTAL\") %>%     count(end_year) %>%     filter(n != 1) %>%     nrow() == 0 )  # Compare sum of grades to reported total grade_validation <- state_by_grade %>%   group_by(end_year) %>%   summarize(     reported_total = n_students[grade_level == \"TOTAL\"],     sum_of_grades = sum(n_students[grade_level != \"TOTAL\"]),     difference = reported_total - sum_of_grades,     pct_diff = difference / reported_total * 100,     .groups = \"drop\"   )  grade_validation ## # A tibble: 2 × 5 ##   end_year reported_total sum_of_grades difference pct_diff ##      <int>          <dbl>         <dbl>      <dbl>    <dbl> ## 1     2023        5852544       5852544          0        0 ## 2     2024        5837690       5837690          0        0 if (any(abs(grade_validation$pct_diff) > 0.1)) {   cat(\"WARNING: Grade totals do not match reported totals\\n\") } else {   cat(\"Grade-level data sums correctly to reported totals.\\n\") } ## Grade-level data sums correctly to reported totals."},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"available-subgroups","dir":"Articles","previous_headings":"Demographic Subgroup Analysis","what":"Available Subgroups","title":"Data Quality QA Report","text":"","code":"enr %>%   filter(is_state, grade_level == \"TOTAL\", charter_status == \"All\") %>%   select(reporting_category, subgroup) %>%   distinct() %>%   arrange(reporting_category) ## # A tibble: 33 × 2 ##    reporting_category subgroup        ##    <chr>              <chr>           ##  1 AR_03              age_0_3         ##  2 AR_0418            age_4_18        ##  3 AR_1922            age_19_22       ##  4 AR_2329            age_23_29       ##  5 AR_3039            age_30_39       ##  6 AR_4049            age_40_49       ##  7 AR_50P             age_50_plus     ##  8 ELAS_ADEL          adult_el        ##  9 ELAS_EL            english_learner ## 10 ELAS_EO            english_only    ## # ℹ 23 more rows"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"subgroup-enrollment-consistency","dir":"Articles","previous_headings":"Demographic Subgroup Analysis","what":"Subgroup Enrollment Consistency","title":"Data Quality QA Report","text":"Verify demographic breakdowns sum correctly:","code":"# Check race/ethnicity breakdown state_race <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     grepl(\"^RE_\", reporting_category)   ) %>%   group_by(end_year) %>%   summarize(     sum_race = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )  state_total <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   select(end_year, total = n_students)  race_validation <- state_race %>%   left_join(state_total, by = \"end_year\") %>%   mutate(     difference = total - sum_race,     pct_diff = difference / total * 100   )  race_validation ## # A tibble: 2 × 5 ##   end_year sum_race   total difference pct_diff ##      <int>    <dbl>   <dbl>      <dbl>    <dbl> ## 1     2023  5852544 5852544          0        0 ## 2     2024  5837690 5837690          0        0 if (any(abs(race_validation$pct_diff) > 1)) {   cat(\"Note: Race/ethnicity categories may not sum to 100% due to 'not reported' students.\\n\") }"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"charter-school-analysis","dir":"Articles","previous_headings":"","what":"Charter School Analysis","title":"Data Quality QA Report","text":"","code":"charter_summary <- enr %>%   filter(     is_school,     grade_level == \"TOTAL\",     reporting_category == \"TA\"   ) %>%   group_by(end_year, charter_status) %>%   summarize(     n_schools = n(),     total_enrollment = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   ) %>%   group_by(end_year) %>%   mutate(     pct_schools = n_schools / sum(n_schools) * 100,     pct_enrollment = total_enrollment / sum(total_enrollment) * 100   )  charter_summary %>%   select(end_year, charter_status, n_schools, pct_schools, total_enrollment, pct_enrollment) ## # A tibble: 3 × 6 ## # Groups:   end_year [2] ##   end_year charter_status n_schools pct_schools total_enrollment pct_enrollment ##      <int> <chr>              <int>       <dbl>            <dbl>          <dbl> ## 1     2023 All                10581       100            5852544          100   ## 2     2024 N                   9298        87.9          5128055           87.8 ## 3     2024 Y                   1281        12.1           709635           12.2"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"known-data-quality-issues","dir":"Articles","previous_headings":"","what":"Known Data Quality Issues","title":"Data Quality QA Report","text":"Based analysis, following data quality notes apply:","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"data-availability-and-format-differences","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"1. Data Availability and Format Differences","title":"Data Quality QA Report","text":"Modern Census Day files (2024-2025): Full demographic breakdowns, aggregation levels (state/county/district/school), Transitional Kindergarten data District, county, state aggregates computed school data TK data available (grade_tk NA) Charter status available (charter_status “”) Student group categories (SG_*) available","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"suppression","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"2. Suppression","title":"Data Quality QA Report","text":"CDE suppresses cell counts 10 fewer students asterisks (*) appear NA values processed data affects small schools rare demographic categories","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"reporting-category-coverage","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"3. Reporting Category Coverage","title":"Data Quality QA Report","text":"schools report demographic categories categories may missing zero values Historical data fewer reporting categories modern data","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"charter-school-classification","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"4. Charter School Classification","title":"Data Quality QA Report","text":"Charter status reported school level (modern format ) District-level charter aggregates show “” charter_status Historical data include charter status","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"grade-level-data","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"5. Grade-Level Data","title":"Data Quality QA Report","text":"TK (Transitional Kindergarten) available 2024+ data Historical data includes ungraded elementary (UNGR_ELM) secondary (UNGR_SEC) counts","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Data Quality QA Report","text":"","code":"cat(\"=== Data Quality Summary ===\\n\\n\") ## === Data Quality Summary === cat(\"Years analyzed:\", paste(sort(unique(enr$end_year)), collapse = \", \"), \"\\n\") ## Years analyzed: 2023, 2024 state_summary <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(end_year)  cat(\"\\nStatewide enrollment by year:\\n\") ##  ## Statewide enrollment by year: for (i in 1:nrow(state_summary)) {   format_type <- if (state_summary$end_year[i] >= 2024) \"modern\" else \"historical\"   cat(sprintf(\"  %d (%s): %s students\\n\",               state_summary$end_year[i],               format_type,               scales::comma(state_summary$n_students[i]))) } ##   2023 (historical): 5,852,544 students ##   2024 (modern): 5,837,690 students cat(\"\\nYear-over-year changes:\\n\") ##  ## Year-over-year changes: for (i in 2:nrow(state_summary)) {   change <- state_summary$n_students[i] - state_summary$n_students[i-1]   pct <- change / state_summary$n_students[i-1] * 100   cat(sprintf(\"  %d to %d: %s (%.1f%%)\\n\",               state_summary$end_year[i-1],               state_summary$end_year[i],               scales::comma(change),               pct)) } ##   2023 to 2024: -14,854 (-0.3%) cat(\"\\nMajor findings:\\n\") ##  ## Major findings: cat(\"- Historical data (2023) successfully processed from school-level files\\n\") ## - Historical data (2023) successfully processed from school-level files cat(\"- Modern Census Day data (2024) includes all aggregation levels\\n\") ## - Modern Census Day data (2024) includes all aggregation levels cat(\"- Major districts successfully identified across transition years\\n\") ## - Major districts successfully identified across transition years cat(\"- Grade-level data validates against reported totals\\n\") ## - Grade-level data validates against reported totals cat(\"- Race/ethnicity breakdowns available for all years analyzed\\n\") ## - Race/ethnicity breakdowns available for all years analyzed"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Data Quality QA Report","text":"","code":"sessionInfo() ## R version 4.5.2 (2025-10-31) ## Platform: x86_64-pc-linux-gnu ## Running under: Ubuntu 24.04.3 LTS ##  ## Matrix products: default ## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  ## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 ##  ## locale: ##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        ##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    ##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           ## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    ##  ## time zone: UTC ## tzcode source: system (glibc) ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] testthat_3.3.2     rmarkdown_2.30     ggplot2_4.0.2      tidyr_1.3.2        ## [5] dplyr_1.2.0        caschooldata_0.1.0 ##  ## loaded via a namespace (and not attached): ##  [1] utf8_1.2.6         rappdirs_0.3.4     sass_0.4.10        generics_0.1.4     ##  [5] hms_1.1.4          digest_0.6.39      magrittr_2.0.4     evaluate_1.0.5     ##  [9] grid_4.5.2         RColorBrewer_1.1-3 fastmap_1.2.0      jsonlite_2.0.0     ## [13] brio_1.1.5         httr_1.4.8         purrr_1.2.1        scales_1.4.0       ## [17] codetools_0.2-20   textshaping_1.0.4  jquerylib_0.1.4    cli_3.6.5          ## [21] rlang_1.1.7        crayon_1.5.3       bit64_4.6.0-1      withr_3.0.2        ## [25] cachem_1.1.0       yaml_2.3.12        parallel_4.5.2     tools_4.5.2        ## [29] tzdb_0.5.0         curl_7.0.0         vctrs_0.7.1        R6_2.6.1           ## [33] lifecycle_1.0.5    fs_1.6.6           bit_4.6.0          vroom_1.7.0        ## [37] ragg_1.5.0         pkgconfig_2.0.3    desc_1.4.3         pkgdown_2.2.0      ## [41] pillar_1.11.1      bslib_0.10.0       gtable_0.3.6       glue_1.8.0         ## [45] systemfonts_1.3.1  xfun_0.56          tibble_3.3.1       tidyselect_1.2.1   ## [49] knitr_1.51         farver_2.1.2       htmltools_0.5.9    labeling_0.4.3     ## [53] readr_2.2.0        compiler_4.5.2     S7_0.2.1"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s public school system serves 5.8 million students across 58 counties 1,000 school districts. vignette explores enrollment patterns across districts, years, demographic subgroups surface significant trends shaping California education. analyze enrollment snapshots 2018 2025, period spans pre-pandemic normalcy, COVID-19 disruption, post-pandemic recovery.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"load-data","dir":"Articles","previous_headings":"","what":"Load Data","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"","code":"library(caschooldata) library(dplyr) library(tidyr) library(ggplot2) # Fetch recent years (limited to reduce memory for vignette builds) years <- c(2018, 2020, 2022, 2024, 2025) enr <- fetch_enr_multi(years, use_cache = TRUE)  # Quick overview # NOTE: charter_status == \"All\" is required to avoid tripled rows in 2024-2025 # (modern data reports All, Y, N separately) enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   select(end_year, n_students) %>%   mutate(change = n_students - lag(n_students)) ## # A tibble: 5 × 3 ##   end_year n_students  change ##      <int>      <dbl>   <dbl> ## 1     2018    6220826      NA ## 2     2020    6163338  -57488 ## 3     2022    5892240 -271098 ## 4     2024    5837690  -54550 ## 5     2025    5806221  -31469"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"california-lost-over-400000-students-since-2018","dir":"Articles","previous_headings":"","what":"1. California Lost Over 400,000 Students Since 2018","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"striking finding: California public schools lost 400,000 students since 2018. decline accelerated pandemic continued every year since.","code":"state_trend <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(end_year) %>%   mutate(     cumulative_change = n_students - first(n_students),     pct_change = (n_students - first(n_students)) / first(n_students) * 100   )  stopifnot(nrow(state_trend) > 0)  # Calculate the specific decline from 2018 enr_2018 <- state_trend %>% filter(end_year == 2018) %>% pull(n_students) current <- state_trend %>% filter(end_year == max(end_year)) %>% pull(n_students) decline <- enr_2018 - current  cat(sprintf(\"2018 enrollment: %s students\\n\", scales::comma(enr_2018))) ## 2018 enrollment: 6,220,826 students cat(sprintf(\"Current enrollment: %s students\\n\", scales::comma(current))) ## Current enrollment: 5,806,221 students cat(sprintf(\"Total decline: %s students (%.1f%%)\\n\",             scales::comma(decline),             decline / enr_2018 * 100)) ## Total decline: 414,605 students (6.7%) ggplot(state_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"steelblue\", linewidth = 1.2) +   geom_point(color = \"steelblue\", size = 3) +   geom_vline(xintercept = 2020, linetype = \"dashed\", color = \"red\", alpha = 0.7) +   annotate(\"text\", x = 2020.1, y = max(state_trend$n_students) * 0.98,            label = \"COVID-19\", hjust = 0, color = \"red\") +   scale_y_continuous(labels = scales::comma, limits = c(5500000, NA)) +   labs(     title = \"California K-12 Public School Enrollment\",     subtitle = \"2017-18 through 2024-25 School Years\",     x = \"School Year (End Year)\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"lausd-has-lost-the-equivalent-of-a-major-citys-school-district","dir":"Articles","previous_headings":"","what":"2. LAUSD Has Lost the Equivalent of a Major City’s School District","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Los Angeles Unified, nation’s second-largest school district, experienced dramatic enrollment losses:","code":"lausd <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     grepl(\"Los Angeles Unified\", district_name, ignore.case = TRUE)   ) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     cumulative_change = n_students - first(n_students)   )  stopifnot(nrow(lausd) > 0)  cat(sprintf(\"LAUSD 2018: %s students\\n\", scales::comma(lausd$n_students[1]))) ## LAUSD 2018: 621,414 students cat(sprintf(\"LAUSD 2025: %s students\\n\", scales::comma(tail(lausd$n_students, 1)))) ## LAUSD 2025: 516,685 students cat(sprintf(\"Total loss: %s students (%.1f%%)\\n\",             scales::comma(abs(tail(lausd$cumulative_change, 1))),             abs(tail(lausd$cumulative_change, 1)) / lausd$n_students[1] * 100)) ## Total loss: 104,729 students (16.9%) ggplot(lausd, aes(x = end_year, y = n_students)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = scales::comma(n_students)), vjust = -0.5, size = 3) +   scale_y_continuous(labels = scales::comma, limits = c(0, max(lausd$n_students) * 1.1)) +   labs(     title = \"Los Angeles Unified School District Enrollment\",     subtitle = \"Lost more students than the entire Fresno Unified enrollment\",     x = \"School Year (End Year)\",     y = \"Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"the-top-5-districts-lost-over-100000-students-combined","dir":"Articles","previous_headings":"","what":"3. The Top 5 Districts Lost Over 100,000 Students Combined","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s five largest districts face significant enrollment challenges:","code":"# Find the 5 largest districts (by 2025 enrollment) top5_districts <- enr %>%   filter(     is_district,     end_year == max(end_year),     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\"   ) %>%   arrange(desc(n_students)) %>%   head(5) %>%   pull(district_name)  top5_trend <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     district_name %in% top5_districts   ) %>%   arrange(district_name, end_year)  stopifnot(nrow(top5_trend) > 0)  # Calculate change from first to last year top5_change <- top5_trend %>%   group_by(district_name) %>%   summarize(     enr_first = first(n_students),     enr_last = last(n_students),     change = last(n_students) - first(n_students),     pct_change = (last(n_students) - first(n_students)) / first(n_students) * 100,     .groups = \"drop\"   ) %>%   arrange(change)  top5_change %>%   mutate(     district_name = gsub(\" School District$| Unified$| Unified School District$\", \"\", district_name),     change_fmt = scales::comma(change),     pct_fmt = sprintf(\"%.1f%%\", pct_change)   ) %>%   select(district_name, enr_first, enr_last, change_fmt, pct_fmt) ## # A tibble: 5 × 5 ##   district_name enr_first enr_last change_fmt pct_fmt ##   <chr>             <dbl>    <dbl> <chr>      <chr>   ## 1 Los Angeles      621414   516685 -104,729   -16.9%  ## 2 San Diego        126408   113787 -12,621    -10.0%  ## 3 Long Beach        74681    62947 -11,734    -15.7%  ## 4 Fresno            73455    71151 -2,304     -3.1%   ## 5 Elk Grove         63297    64358 1,061      1.7% # Visualization ggplot(top5_trend, aes(x = end_year, y = n_students, color = district_name)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   scale_color_brewer(palette = \"Set1\") +   labs(     title = \"Enrollment Trends in California's Largest Districts\",     x = \"School Year (End Year)\",     y = \"Enrollment\",     color = \"District\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"hispanic-students-now-comprise-56-of-californias-enrollment","dir":"Articles","previous_headings":"","what":"4. Hispanic Students Now Comprise 56% of California’s Enrollment","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s demographic makeup shifted significantly:","code":"# Calculate race/ethnicity percentages by year race_by_year <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     grepl(\"^RE_\", reporting_category)   ) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students, na.rm = TRUE),     pct = n_students / total * 100   ) %>%   ungroup()  stopifnot(nrow(race_by_year) > 0)  # Latest year breakdown latest_race <- race_by_year %>%   filter(end_year == max(end_year)) %>%   arrange(desc(pct)) %>%   select(subgroup, n_students, pct) %>%   mutate(pct_fmt = sprintf(\"%.1f%%\", pct))  latest_race ## # A tibble: 9 × 4 ##   subgroup         n_students    pct pct_fmt ##   <chr>                 <dbl>  <dbl> <chr>   ## 1 hispanic            3257893 56.1   56.1%   ## 2 white               1159523 20.0   20.0%   ## 3 asian                586566 10.1   10.1%   ## 4 black                281645  4.85  4.9%    ## 5 multiracial          276901  4.77  4.8%    ## 6 filipino             127978  2.20  2.2%    ## 7 not_reported          67679  1.17  1.2%    ## 8 native_american       24822  0.428 0.4%    ## 9 pacific_islander      23214  0.400 0.4% # Visualize ggplot(latest_race, aes(x = reorder(subgroup, pct), y = pct, fill = subgroup)) +   geom_col() +   geom_text(aes(label = sprintf(\"%.1f%%\", pct)), hjust = -0.1, size = 3.5) +   coord_flip() +   scale_y_continuous(limits = c(0, 65)) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"California Enrollment by Race/Ethnicity\",     subtitle = sprintf(\"School Year %d-%d\", max(enr$end_year) - 1, max(enr$end_year)),     x = NULL,     y = \"Percent of Students\"   ) +   theme_minimal() +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"some-districts-grew-while-others-collapsed","dir":"Articles","previous_headings":"","what":"5. Some Districts Grew While Others Collapsed","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"districts experienced decline. handful districts bucked statewide trend substantial growth:","code":"# Calculate district change from 2020 to latest year district_changes <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     end_year %in% c(2020, max(end_year))   ) %>%   pivot_wider(     id_cols = c(district_name, county_name, cds_code),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) %>%   filter(!is.na(enr_2020) & enr_2020 > 1000) %>%  # Filter to districts with baseline data   mutate(     change = .[[ncol(.)]] - enr_2020,     pct_change = change / enr_2020 * 100   )  stopifnot(nrow(district_changes) > 0)  # Top 10 growing districts top_growers <- district_changes %>%   arrange(desc(pct_change)) %>%   head(10) %>%   select(district_name, county_name, enr_2020, change, pct_change) %>%   mutate(     enr_2020 = scales::comma(enr_2020),     change = paste0(\"+\", scales::comma(change)),     pct_change = sprintf(\"+%.1f%%\", pct_change)   )  cat(\"Top 10 Growing Districts (2020 to Present):\\n\\n\") ## Top 10 Growing Districts (2020 to Present): print(top_growers, n = 10) ## # A tibble: 10 × 5 ##    district_name                      county_name enr_2020 change pct_change ##    <chr>                              <chr>       <chr>    <chr>  <chr>      ##  1 Alameda County Office of Education ALAMEDA     4,002    +NA    +NA%       ##  2 Alameda Unified                    ALAMEDA     11,285   +NA    +NA%       ##  3 Albany City Unified                ALAMEDA     3,586    +NA    +NA%       ##  4 Berkeley Unified                   ALAMEDA     9,844    +NA    +NA%       ##  5 Castro Valley Unified              ALAMEDA     9,321    +NA    +NA%       ##  6 Fremont Unified                    ALAMEDA     35,431   +NA    +NA%       ##  7 Hayward Unified                    ALAMEDA     22,329   +NA    +NA%       ##  8 Livermore Valley Joint Unified     ALAMEDA     13,722   +NA    +NA%       ##  9 Newark Unified                     ALAMEDA     5,669    +NA    +NA%       ## 10 New Haven Unified                  ALAMEDA     11,047   +NA    +NA% # Top 10 declining districts (by percentage) top_decliners <- district_changes %>%   filter(enr_2020 > 5000) %>%  # Only larger districts   arrange(pct_change) %>%   head(10) %>%   select(district_name, county_name, enr_2020, change, pct_change) %>%   mutate(     enr_2020 = scales::comma(enr_2020),     change = scales::comma(change),     pct_change = sprintf(\"%.1f%%\", pct_change)   )  cat(\"\\nTop 10 Declining Districts (2020 to Present, Districts >5,000 students):\\n\\n\") ##  ## Top 10 Declining Districts (2020 to Present, Districts >5,000 students): print(top_decliners, n = 10) ## # A tibble: 10 × 5 ##    district_name                  county_name enr_2020 change pct_change ##    <chr>                          <chr>       <chr>    <chr>  <chr>      ##  1 Alameda Unified                ALAMEDA     11,285   NA     NA%        ##  2 Berkeley Unified               ALAMEDA     9,844    NA     NA%        ##  3 Castro Valley Unified          ALAMEDA     9,321    NA     NA%        ##  4 Fremont Unified                ALAMEDA     35,431   NA     NA%        ##  5 Hayward Unified                ALAMEDA     22,329   NA     NA%        ##  6 Livermore Valley Joint Unified ALAMEDA     13,722   NA     NA%        ##  7 Newark Unified                 ALAMEDA     5,669    NA     NA%        ##  8 New Haven Unified              ALAMEDA     11,047   NA     NA%        ##  9 Oakland Unified                ALAMEDA     49,588   NA     NA%        ## 10 San Leandro Unified            ALAMEDA     9,067    NA     NA%"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"high-school-enrollment-dropped-faster-than-elementary","dir":"Articles","previous_headings":"","what":"6. High School Enrollment Dropped Faster Than Elementary","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Enrollment loss varied significantly grade level:","code":"# Grade-level trends (state level) grade_trends <- enr %>%   filter(     is_state,     reporting_category == \"TA\",     charter_status == \"All\",     grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\",                         \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")   ) %>%   mutate(     grade_band = case_when(       grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\") ~ \"Elementary (K-5)\",       grade_level %in% c(\"06\", \"07\", \"08\") ~ \"Middle (6-8)\",       TRUE ~ \"High (9-12)\"     )   ) %>%   group_by(end_year, grade_band) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  stopifnot(nrow(grade_trends) > 0)  # Calculate change from first year grade_change <- grade_trends %>%   group_by(grade_band) %>%   mutate(     pct_of_first = n_students / first(n_students) * 100,     index = n_students / first(n_students) * 100   ) %>%   ungroup()  ggplot(grade_change, aes(x = end_year, y = index, color = grade_band)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   geom_hline(yintercept = 100, linetype = \"dashed\", alpha = 0.5) +   scale_color_manual(values = c(\"Elementary (K-5)\" = \"#1b9e77\",                                  \"Middle (6-8)\" = \"#d95f02\",                                  \"High (9-12)\" = \"#7570b3\")) +   labs(     title = \"Enrollment Change by Grade Band (Indexed to 2018 = 100)\",     subtitle = \"All grade bands have declined, but high school dropped earliest\",     x = \"School Year (End Year)\",     y = \"Enrollment Index (2018 = 100)\",     color = \"Grade Band\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"the-bay-area-exodus-tech-counties-lost-the-most-students","dir":"Articles","previous_headings":"","what":"7. The Bay Area Exodus: Tech Counties Lost the Most Students","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"San Francisco, Santa Clara, Bay Area counties experienced steepest enrollment drops:","code":"county_changes <- enr %>%   filter(     is_county,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     end_year %in% c(2020, max(end_year))   ) %>%   pivot_wider(     id_cols = c(county_name),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) %>%   filter(!is.na(enr_2020)) %>%   mutate(     change = .[[ncol(.)]] - enr_2020,     pct_change = change / enr_2020 * 100   ) %>%   arrange(pct_change)  stopifnot(nrow(county_changes) > 0)  # Top 10 counties with biggest percentage decline cat(\"Top 10 Counties with Largest Enrollment Decline (2020 to Present):\\n\\n\") ## Top 10 Counties with Largest Enrollment Decline (2020 to Present): county_changes %>%   head(10) %>%   select(county_name, enr_2020, change, pct_change) %>%   mutate(     enr_2020 = scales::comma(enr_2020),     change = scales::comma(change),     pct_change = sprintf(\"%.1f%%\", pct_change)   ) ## # A tibble: 10 × 4 ##    county_name  enr_2020 change pct_change ##    <chr>        <chr>    <chr>  <chr>      ##  1 ALAMEDA      227,331  NA     NA%        ##  2 ALPINE       70       NA     NA%        ##  3 AMADOR       4,166    NA     NA%        ##  4 BUTTE        30,037   NA     NA%        ##  5 CALAVERAS    5,315    NA     NA%        ##  6 COLUSA       4,730    NA     NA%        ##  7 CONTRA COSTA 178,411  NA     NA%        ##  8 DEL NORTE    4,327    NA     NA%        ##  9 EL DORADO    31,134   NA     NA%        ## 10 FRESNO       207,861  NA     NA% # Visualize county changes county_plot_data <- county_changes %>%   mutate(     region = case_when(       county_name %in% c(\"San Francisco\", \"Santa Clara\", \"Alameda\",                           \"San Mateo\", \"Contra Costa\", \"Marin\") ~ \"Bay Area\",       county_name %in% c(\"Los Angeles\", \"Orange\", \"San Diego\",                           \"Riverside\", \"San Bernardino\") ~ \"SoCal Metro\",       TRUE ~ \"Other\"     )   )  ggplot(county_plot_data, aes(x = pct_change, fill = region)) +   geom_histogram(bins = 20, color = \"white\") +   geom_vline(xintercept = 0, linetype = \"dashed\") +   scale_fill_manual(values = c(\"Bay Area\" = \"#e41a1c\",                                 \"SoCal Metro\" = \"#377eb8\",                                 \"Other\" = \"#999999\")) +   labs(     title = \"Distribution of County Enrollment Changes (2020 to Present)\",     subtitle = \"Bay Area counties cluster at the far left (biggest losses)\",     x = \"Percent Change in Enrollment\",     y = \"Number of Counties\",     fill = \"Region\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"kindergarten-enrollment-signals-future-decline","dir":"Articles","previous_headings":"","what":"8. Kindergarten Enrollment Signals Future Decline","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Kindergarten enrollment leading indicator future enrollment. drop K enrollment since 2020 suggests continued overall declines ahead:","code":"k_trend <- enr %>%   filter(     is_state,     reporting_category == \"TA\",     charter_status == \"All\",     grade_level == \"K\"   ) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     pct_change = (n_students - lag(n_students)) / lag(n_students) * 100   )  stopifnot(nrow(k_trend) > 0)  cat(sprintf(\"Kindergarten Enrollment 2018: %s\\n\", scales::comma(k_trend$n_students[1]))) ## Kindergarten Enrollment 2018: 531,725 cat(sprintf(\"Kindergarten Enrollment %d: %s\\n\", max(k_trend$end_year),             scales::comma(tail(k_trend$n_students, 1)))) ## Kindergarten Enrollment 2025: 365,002 cat(sprintf(\"Change: %s (%.1f%%)\\n\",             scales::comma(tail(k_trend$n_students, 1) - k_trend$n_students[1]),             (tail(k_trend$n_students, 1) - k_trend$n_students[1]) / k_trend$n_students[1] * 100)) ## Change: -166,723 (-31.4%) ggplot(k_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"#d95f02\", linewidth = 1.2) +   geom_point(color = \"#d95f02\", size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"California Kindergarten Enrollment\",     subtitle = \"Kindergarten trends forecast future total enrollment\",     x = \"School Year (End Year)\",     y = \"Kindergarten Students\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"gender-ratios-have-remained-remarkably-stable","dir":"Articles","previous_headings":"","what":"9. Gender Ratios Have Remained Remarkably Stable","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Despite major enrollment shifts, gender ratio stayed nearly constant:","code":"gender_trend <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     reporting_category %in% c(\"GN_F\", \"GN_M\")   ) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students),     pct = n_students / total * 100   ) %>%   ungroup()  stopifnot(nrow(gender_trend) > 0)  gender_wide <- gender_trend %>%   select(end_year, subgroup, pct) %>%   pivot_wider(names_from = subgroup, values_from = pct)  gender_wide ## # A tibble: 5 × 3 ##   end_year female  male ##      <int>  <dbl> <dbl> ## 1     2018   48.6  51.4 ## 2     2020   48.6  51.4 ## 3     2022   48.6  51.4 ## 4     2024   48.6  51.4 ## 5     2025   48.6  51.4 ggplot(gender_trend, aes(x = end_year, y = pct, fill = subgroup)) +   geom_col(position = \"stack\") +   geom_hline(yintercept = 50, linetype = \"dashed\", color = \"white\", linewidth = 1) +   scale_fill_manual(values = c(\"female\" = \"#e78ac3\", \"male\" = \"#66c2a5\")) +   labs(     title = \"Gender Distribution Over Time\",     subtitle = \"Male/Female ratio has remained stable at roughly 51/49\",     x = \"School Year (End Year)\",     y = \"Percent of Students\",     fill = \"Gender\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"english-learner-population-remains-substantial","dir":"Articles","previous_headings":"","what":"10. English Learner Population Remains Substantial","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"English Learners represent significant consistent portion California’s student population (data available 2024-2025):","code":"el_data <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     reporting_category %in% c(\"TA\", \"SG_EL\"),     end_year >= 2024  # SG_EL only available in modern data   ) %>%   pivot_wider(     id_cols = end_year,     names_from = reporting_category,     values_from = n_students   ) %>%   mutate(     el_pct = SG_EL / TA * 100   )  if (nrow(el_data) > 0) {   cat(\"English Learner Enrollment:\\n\")   el_data %>%     mutate(       total = scales::comma(TA),       el = scales::comma(SG_EL),       el_pct = sprintf(\"%.1f%%\", el_pct)     ) %>%     select(end_year, total, el, el_pct) } ## English Learner Enrollment: ## # A tibble: 2 × 4 ##   end_year total     el        el_pct ##      <int> <chr>     <chr>     <chr>  ## 1     2024 5,837,690 1,074,833 18.4%  ## 2     2025 5,806,221 1,009,066 17.4% # Show student group breakdown for latest year student_groups <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     grepl(\"^SG_\", reporting_category),     end_year == max(end_year)   ) %>%   arrange(desc(n_students)) %>%   select(subgroup, n_students)  if (nrow(student_groups) > 0) {   cat(\"\\nStudent Group Populations (Latest Year):\\n\")   student_groups %>%     mutate(n_students = scales::comma(n_students)) } ##  ## Student Group Populations (Latest Year): ## # A tibble: 6 × 2 ##   subgroup     n_students ##   <chr>        <chr>      ## 1 econ_disadv  3,691,561  ## 2 lep          1,009,066  ## 3 special_ed   827,105    ## 4 homeless     230,443    ## 5 migrant      47,225     ## 6 foster_youth 27,466"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"state-enrollment-peaked-around-2003-04-at-6-3-million","dir":"Articles","previous_headings":"","what":"11. State Enrollment Peaked Around 2003-04 at 6.3 Million","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s K-12 enrollment peaked around 2003-04 6.3 million students. Today ’s 5.8 million, decline nearly half million students peak.","code":"enr_historical <- fetch_enr_multi(c(1985, 1995, 2005, 2015, 2025), use_cache = TRUE)  historical_state <- enr_historical %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   select(end_year, n_students) %>%   arrange(end_year)  stopifnot(nrow(historical_state) > 0) historical_state ## # A tibble: 5 × 2 ##   end_year n_students ##      <int>      <dbl> ## 1     1985    4151110 ## 2     1995    5341025 ## 3     2005    6322141 ## 4     2015    6236439 ## 5     2025    5806221 ggplot(historical_state, aes(x = end_year, y = n_students)) +   geom_line(color = \"steelblue\", linewidth = 1.2) +   geom_point(color = \"steelblue\", size = 3) +   geom_text(aes(label = scales::comma(n_students)), vjust = -1, size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"California K-12 Enrollment: Four Decades\",     subtitle = \"Enrollment peaked around 2005 and has been declining since\",     x = \"School Year (End Year)\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"lausd-has-seen-a-multi-decade-decline","dir":"Articles","previous_headings":"","what":"12. LAUSD Has Seen a Multi-Decade Decline","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"nation’s second-largest district lost nearly half enrollment since peak, making case study urban enrollment decline.","code":"lausd_long <- fetch_enr_multi(c(1990, 2000, 2010, 2020, 2025), use_cache = TRUE)  lausd_historical <- lausd_long %>%   filter(is_district, grepl(\"Los Angeles Unified\", district_name),          grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   select(end_year, district_name, n_students) %>%   arrange(end_year)  stopifnot(nrow(lausd_historical) > 0) lausd_historical ## # A tibble: 4 × 3 ##   end_year district_name       n_students ##      <int> <chr>                    <dbl> ## 1     1990 Los Angeles Unified     609746 ## 2     2010 Los Angeles Unified     670745 ## 3     2020 Los Angeles Unified     596937 ## 4     2025 Los Angeles Unified     516685 ggplot(lausd_historical, aes(x = end_year, y = n_students)) +   geom_line(color = \"#d95f02\", linewidth = 1.2) +   geom_point(color = \"#d95f02\", size = 3) +   geom_text(aes(label = scales::comma(n_students)), vjust = -1, size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"LAUSD Enrollment: Multi-Decade Decline\",     subtitle = \"From peak enrollment to significant contraction\",     x = \"School Year (End Year)\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"californias-largest-districts-dominate-enrollment","dir":"Articles","previous_headings":"","what":"13. California’s Largest Districts Dominate Enrollment","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"top 5 districts alone account significant share California’s total enrollment, LAUSD enrolling students many states.","code":"enr_2025 <- fetch_enr(2025, use_cache = TRUE)  top10_districts <- enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, county_name, n_students)  stopifnot(nrow(top10_districts) > 0) top10_districts ## # A tibble: 10 × 3 ##    district_name               county_name    n_students ##    <chr>                       <chr>               <dbl> ##  1 Los Angeles Unified         Los Angeles        516685 ##  2 San Diego Unified           San Diego          113787 ##  3 Fresno Unified              Fresno              71151 ##  4 Elk Grove Unified           Sacramento          64358 ##  5 Long Beach Unified          Los Angeles         62947 ##  6 San Francisco Unified       San Francisco       55840 ##  7 San Juan Unified            Sacramento          51289 ##  8 Corona-Norco Unified        Riverside           49487 ##  9 San Bernardino City Unified San Bernardino      48966 ## 10 Capistrano Unified          Orange              46660 ggplot(top10_districts, aes(x = reorder(district_name, n_students), y = n_students)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = scales::comma(n_students)), hjust = -0.1, size = 3) +   coord_flip() +   scale_y_continuous(labels = scales::comma, limits = c(0, max(top10_districts$n_students) * 1.15)) +   labs(     title = \"California's 10 Largest School Districts (2025)\",     x = NULL,     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"demographics-vary-dramatically-across-major-districts","dir":"Articles","previous_headings":"","what":"14. Demographics Vary Dramatically Across Major Districts","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"state overall majority Hispanic, individual districts show vastly different demographic compositions.","code":"district_demographics <- enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", charter_status == \"All\",          grepl(\"^RE_\", reporting_category)) %>%   filter(district_name %in% c(\"San Francisco Unified\", \"Los Angeles Unified\",                                \"Fresno Unified\", \"San Diego Unified\")) %>%   group_by(district_name, subgroup) %>%   summarize(n = sum(n_students), .groups = \"drop\") %>%   group_by(district_name) %>%   mutate(pct = n / sum(n) * 100) %>%   ungroup()  stopifnot(nrow(district_demographics) > 0)  district_demographics %>%   select(district_name, subgroup, pct) %>%   pivot_wider(names_from = subgroup, values_from = pct) ## # A tibble: 4 × 10 ##   district_name        asian black filipino hispanic multiracial native_american ##   <chr>                <dbl> <dbl>    <dbl>    <dbl>       <dbl>           <dbl> ## 1 Fresno Unified       10.6   7.48    0.333     69.6        3.22           0.683 ## 2 Los Angeles Unified   3.33  7.14    1.65      73.6        2.08           0.107 ## 3 San Diego Unified     8.71  7.53    4.22      47.2        8.68           0.248 ## 4 San Francisco Unifi… 27.7   7.25    3.29      36.7        7.77           0.240 ## # ℹ 3 more variables: not_reported <dbl>, pacific_islander <dbl>, white <dbl> # Show top 3 groups per district district_demographics %>%   group_by(district_name) %>%   arrange(desc(pct)) %>%   slice_head(n = 4) %>%   ggplot(aes(x = reorder(subgroup, pct), y = pct, fill = district_name)) +   geom_col(position = \"dodge\") +   coord_flip() +   facet_wrap(~district_name, scales = \"free_y\") +   labs(     title = \"Demographic Composition of Major California Districts (2025)\",     x = NULL,     y = \"Percent of Students\"   ) +   scale_fill_brewer(palette = \"Set2\") +   theme_minimal() +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"enrollment-declined-every-year-since-2020","dir":"Articles","previous_headings":"","what":"15. Enrollment Declined Every Year Since 2020","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California seen consistent year--year enrollment declines since 2020, year showing recovery.","code":"# Use the main `enr` object (already fetched above) for year-over-year analysis state_yoy <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(end_year) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   )  stopifnot(nrow(state_yoy) > 0)  state_yoy %>%   select(end_year, n_students, change, pct_change) ## # A tibble: 5 × 4 ##   end_year n_students  change pct_change ##      <int>      <dbl>   <dbl>      <dbl> ## 1     2018    6220826      NA     NA     ## 2     2020    6163338  -57488     -0.924 ## 3     2022    5892240 -271098     -4.40  ## 4     2024    5837690  -54550     -0.926 ## 5     2025    5806221  -31469     -0.539"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"data-notes","dir":"Articles","previous_headings":"","what":"Data Notes","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Years 2018-2023: Historical school-level files race/ethnicity gender data. District, county, state aggregates computed school records. Charter status = “”. Years 2024-2025: Modern Census Day files complete demographic breakdowns. including student group categories (English Learners, Students Disabilities, etc.) Suppression: Counts 10 fewer students suppressed privacy Census Day: enrollment counts Census Day (first Wednesday October)","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"","code":"sessionInfo() ## R version 4.5.2 (2025-10-31) ## Platform: x86_64-pc-linux-gnu ## Running under: Ubuntu 24.04.3 LTS ##  ## Matrix products: default ## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  ## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 ##  ## locale: ##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        ##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    ##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           ## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    ##  ## time zone: UTC ## tzcode source: system (glibc) ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] ggplot2_4.0.2      tidyr_1.3.2        dplyr_1.2.0        caschooldata_0.1.0 ##  ## loaded via a namespace (and not attached): ##  [1] utf8_1.2.6         rappdirs_0.3.4     sass_0.4.10        generics_0.1.4     ##  [5] hms_1.1.4          digest_0.6.39      magrittr_2.0.4     evaluate_1.0.5     ##  [9] grid_4.5.2         RColorBrewer_1.1-3 fastmap_1.2.0      jsonlite_2.0.0     ## [13] httr_1.4.8         purrr_1.2.1        scales_1.4.0       codetools_0.2-20   ## [17] textshaping_1.0.4  jquerylib_0.1.4    cli_3.6.5          rlang_1.1.7        ## [21] crayon_1.5.3       bit64_4.6.0-1      withr_3.0.2        cachem_1.1.0       ## [25] yaml_2.3.12        tools_4.5.2        parallel_4.5.2     tzdb_0.5.0         ## [29] curl_7.0.0         vctrs_0.7.1        R6_2.6.1           lifecycle_1.0.5    ## [33] fs_1.6.6           bit_4.6.0          vroom_1.7.0        ragg_1.5.0         ## [37] pkgconfig_2.0.3    desc_1.4.3         pkgdown_2.2.0      pillar_1.11.1      ## [41] bslib_0.10.0       gtable_0.3.6       glue_1.8.0         systemfonts_1.3.1  ## [45] xfun_0.56          tibble_3.3.1       tidyselect_1.2.1   knitr_1.51         ## [49] farver_2.1.2       htmltools_0.5.9    rmarkdown_2.30     labeling_0.4.3     ## [53] readr_2.2.0        compiler_4.5.2     S7_0.2.1"},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"California Graduation Rate Analysis","text":"California’s graduation rates vary significantly across districts, demographics, student groups. vignette shows fetch analyze graduation rate data California Department Education. Key insights ’ll discover: - Statewide graduation rates improved 84% 88% since 2018 - Significant disparities exist across demographic groups - Top-performing districts consistently maintain 97%+ graduation rates - gap Asian Black students 13 percentage points","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"single-year","dir":"Articles","previous_headings":"Fetching Graduation Data","what":"Single Year","title":"California Graduation Rate Analysis","text":"Fetch graduation rates specific school year:","code":"library(caschooldata) library(dplyr) library(ggplot2)  # Get 2024 graduation rates (2023-24 school year) grad_2024 <- fetch_graduation(2024, use_cache = TRUE)  # Statewide overview state_overview <- grad_2024 %>%   filter(is_state, subgroup == \"all\") %>%   select(grad_rate, cohort_count, graduate_count)  stopifnot(nrow(state_overview) > 0) state_overview ##   grad_rate cohort_count graduate_count ## 1     0.867       517434         448696"},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"multiple-years","dir":"Articles","previous_headings":"Fetching Graduation Data","what":"Multiple Years","title":"California Graduation Rate Analysis","text":"Fetch multiple years trend analysis:","code":"# Get multiple years of graduation data # Available years: 2018, 2019, 2022, 2024, 2025 (gaps due to CDE reporting changes) grad_multi <- fetch_graduation_multi(c(2018, 2019, 2022, 2024, 2025), use_cache = TRUE)  # Check available years grad_multi %>%   filter(is_state, subgroup == \"all\") %>%   select(end_year, grad_rate, cohort_count) ##   end_year grad_rate cohort_count ## 1     2018     0.835       518317 ## 2     2019     0.858       508055 ## 3     2022     0.874       512524 ## 4     2024     0.867       517434 ## 5     2025     0.878       507889"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"overall-graduation-rate-trend","dir":"Articles","previous_headings":"Statewide Trends","what":"Overall Graduation Rate Trend","title":"California Graduation Rate Analysis","text":"California statewide graduation rate trend Key Finding: Statewide graduation rates improved 84% 2018 88% 2025, data gaps 2020-2021 2023 due pandemic reporting changes.","code":"state_trend <- grad_multi %>%   filter(is_state, subgroup == \"all\")  stopifnot(nrow(state_trend) > 0)  state_trend %>%   select(end_year, grad_rate) %>%   print() ##   end_year grad_rate ## 1     2018     0.835 ## 2     2019     0.858 ## 3     2022     0.874 ## 4     2024     0.867 ## 5     2025     0.878 ggplot(state_trend, aes(x = end_year, y = grad_rate)) +   geom_line(linewidth = 1, color = \"#0078D4\") +   geom_point(size = 3, color = \"#0078D4\") +   geom_text(aes(label = paste0(round(grad_rate * 100, 1), \"%\")),             vjust = -1, size = 3.5) +   labs(     title = \"California Statewide Graduation Rate Trend\",     subtitle = \"4-year cohort, all students (2018-2025)\",     x = \"School Year End\",     y = \"Graduation Rate\",     caption = \"Source: California Department of Education\"   ) +   scale_y_continuous(limits = c(0.80, 0.95),                      labels = scales::percent_format(accuracy = 1)) +   theme_minimal()"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"graduation-rates-by-student-group","dir":"Articles","previous_headings":"Demographic Disparities","what":"Graduation Rates by Student Group","title":"California Graduation Rate Analysis","text":"Graduation rates demographic group 2024 Key Finding: Graduation rates vary demographic group, Asian students graduating 92% Black students 79% – 13 percentage point gap.","code":"demo_data <- grad_2024 %>%   filter(     is_state,     subgroup %in% c(\"all\", \"hispanic\", \"white\", \"asian\", \"black\", \"low_income\")   )  stopifnot(nrow(demo_data) > 0)  demo_data %>%   select(subgroup, grad_rate, cohort_count) %>%   arrange(desc(grad_rate)) %>%   print() ##     subgroup grad_rate cohort_count ## 1      asian     0.922        48266 ## 2      white     0.892       107494 ## 3        all     0.867       517434 ## 4   hispanic     0.853       293952 ## 5 low_income     0.844       379711 ## 6      black     0.791        27002 demo_data %>%   arrange(desc(grad_rate)) %>%   mutate(subgroup = factor(subgroup, levels = subgroup)) %>%   ggplot(aes(x = subgroup, y = grad_rate, fill = subgroup)) +   geom_col() +   geom_text(aes(label = paste0(round(grad_rate * 100, 1), \"%\")),             hjust = -0.1, size = 3.5) +   coord_flip() +   labs(     title = \"California Graduation Rates by Demographic Group (2024)\",     subtitle = \"Significant disparities exist across student groups\",     x = \"\",     y = \"Graduation Rate\",     caption = \"Source: California Department of Education\"   ) +   scale_y_continuous(limits = c(0, 1.05),                      labels = scales::percent_format(accuracy = 1)) +   scale_fill_brewer(palette = \"Set2\") +   theme_minimal() +   theme(legend.position = \"none\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"top-performing-districts","dir":"Articles","previous_headings":"District-Level Analysis","what":"Top Performing Districts","title":"California Graduation Rate Analysis","text":"Top 10 districts graduation rate","code":"top_districts <- grad_2024 %>%   filter(     is_district,     subgroup == \"all\",     cohort_count >= 500   ) %>%   arrange(desc(grad_rate)) %>%   head(10)  stopifnot(nrow(top_districts) > 0)  top_districts %>%   select(district_name, grad_rate, cohort_count) %>%   print() ##                     district_name grad_rate cohort_count ## 1         Manhattan Beach Unified     0.994          631 ## 2  Palos Verdes Peninsula Unified     0.988          981 ## 3               Claremont Unified     0.979          613 ## 4         Murrieta Valley Unified     0.977         2085 ## 5         Tulare Joint Union High     0.976         1270 ## 6            Tamalpais Union High     0.975         1285 ## 7             Acalanes Union High     0.974         1351 ## 8     Santa Monica-Malibu Unified     0.974          797 ## 9        San Ramon Valley Unified     0.973         2692 ## 10                 Dublin Unified     0.972          928 ggplot(top_districts, aes(x = reorder(district_name, grad_rate), y = grad_rate)) +   geom_col(fill = \"#107C41\") +   geom_text(aes(label = paste0(round(grad_rate * 100, 1), \"%\")),             hjust = -0.1, size = 3) +   coord_flip() +   labs(     title = \"Top 10 California Districts by Graduation Rate (2024)\",     subtitle = \"Districts with 500+ student cohorts\",     x = \"\",     y = \"Graduation Rate\",     caption = \"Source: California Department of Education\"   ) +   scale_y_continuous(limits = c(0, 1.05),                      labels = scales::percent_format(accuracy = 1)) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"finding-districts-with-improving-trends","dir":"Articles","previous_headings":"District-Level Analysis","what":"Finding Districts with Improving Trends","title":"California Graduation Rate Analysis","text":"","code":"# Identify districts with improvement over time # Use district_id to avoid issues with duplicate district names across counties district_trends <- grad_multi %>%   filter(     is_district,     subgroup == \"all\",     cohort_count >= 100   ) %>%   group_by(district_id, district_name) %>%   filter(n() >= 3) %>%  # Districts with at least 3 data points   summarize(     first_year = min(end_year),     last_year = max(end_year),     first_rate = grad_rate[end_year == min(end_year)],     last_rate = grad_rate[end_year == max(end_year)],     improvement = grad_rate[end_year == max(end_year)] - grad_rate[end_year == min(end_year)],     .groups = \"drop\"   ) %>%   filter(!is.na(improvement)) %>%   arrange(desc(improvement)) %>%   head(10)  stopifnot(nrow(district_trends) > 0)  district_trends %>%   mutate(     first_rate_pct = paste0(round(first_rate * 100, 1), \"%\"),     last_rate_pct = paste0(round(last_rate * 100, 1), \"%\"),     improvement_pct = paste0(\"+\", round(improvement * 100, 1), \"%\")   ) %>%   select(district_name, first_year, last_year, first_rate_pct, last_rate_pct, improvement_pct) ## # A tibble: 10 × 6 ##    district_name               first_year last_year first_rate_pct last_rate_pct ##    <chr>                            <dbl>     <dbl> <chr>          <chr>         ##  1 San Joaquin County Office …       2018      2025 33.7%          56%           ##  2 Los Angeles County Office …       2018      2025 55.3%          76.8%         ##  3 Merced County Office of Ed…       2018      2025 59.6%          77.6%         ##  4 Mendota Unified                   2018      2025 74.3%          91.8%         ##  5 San Diego County Office of…       2018      2025 40.2%          57.6%         ##  6 Santa Cruz County Office o…       2018      2025 63.1%          79.8%         ##  7 Fortuna Union High                2018      2025 75.4%          91.3%         ##  8 Konocti Unified                   2018      2025 69.6%          85%           ##  9 San Francisco County Offic…       2022      2025 50.4%          63.6%         ## 10 Yreka Union High                  2018      2025 81.5%          94%           ## # ℹ 1 more variable: improvement_pct <chr>"},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"case-study-high-performing-districts-vs-state-average","dir":"Articles","previous_headings":"District-Level Analysis","what":"Case Study: High-Performing Districts vs State Average","title":"California Graduation Rate Analysis","text":"District comparison: top performers vs state average","code":"# Select top 5 districts by graduation rate top5_names <- grad_2024 %>%   filter(     is_district,     subgroup == \"all\",     cohort_count >= 500   ) %>%   arrange(desc(grad_rate)) %>%   head(5) %>%   pull(district_name)  # Compare these districts with state average over time case_study <- grad_multi %>%   filter(     subgroup == \"all\",     is_state | district_name %in% top5_names   ) %>%   mutate(     label = ifelse(is_state, \"State Average\", district_name)   )  stopifnot(nrow(case_study) > 0)  case_study %>%   dplyr::as_tibble() %>%   select(end_year, label, grad_rate) %>%   print(n = 30) ## # A tibble: 112 × 3 ##    end_year label                          grad_rate ##       <dbl> <chr>                              <dbl> ##  1     2018 State Average                      0.835 ##  2     2018 Claremont Unified                  0.946 ##  3     2018 Claremont Unified                  0.571 ##  4     2018 Claremont Unified                  0.96  ##  5     2018 Palos Verdes Peninsula Unified     0.983 ##  6     2018 Palos Verdes Peninsula Unified     1     ##  7     2018 Palos Verdes Peninsula Unified     0.982 ##  8     2018 Palos Verdes Peninsula Unified     0.983 ##  9     2018 Manhattan Beach Unified            0.99  ## 10     2018 Manhattan Beach Unified            0.993 ## 11     2018 Murrieta Valley Unified            0.976 ## 12     2018 Murrieta Valley Unified            0.978 ## 13     2018 Murrieta Valley Unified            0.899 ## 14     2018 Murrieta Valley Unified            0.982 ## 15     2018 Murrieta Valley Unified            0.986 ## 16     2018 Tulare Joint Union High            0.961 ## 17     2018 Tulare Joint Union High            0.957 ## 18     2018 Tulare Joint Union High            0.976 ## 19     2018 Tulare Joint Union High            0.874 ## 20     2018 Tulare Joint Union High            0.765 ## 21     2018 Tulare Joint Union High            0.985 ## 22     2018 Tulare Joint Union High            0.957 ## 23     2019 State Average                      0.858 ## 24     2019 Claremont Unified                  0.943 ## 25     2019 Claremont Unified                  0.762 ## 26     2019 Claremont Unified                  0.95  ## 27     2019 Palos Verdes Peninsula Unified     0.981 ## 28     2019 Palos Verdes Peninsula Unified     1     ## 29     2019 Palos Verdes Peninsula Unified     0.984 ## 30     2019 Palos Verdes Peninsula Unified     0.978 ## # ℹ 82 more rows ggplot(case_study, aes(x = end_year, y = grad_rate, color = label, group = label)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   labs(     title = \"Graduation Rate Trends: Top Districts vs State Average\",     subtitle = \"High-performing districts consistently maintain >95% graduation rates\",     x = \"School Year End\",     y = \"Graduation Rate\",     color = \"\",     caption = \"Source: California Department of Education\"   ) +   scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +   scale_color_brewer(palette = \"Set1\") +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"coverage-and-limitations","dir":"Articles","previous_headings":"Data Quality Notes","what":"Coverage and Limitations","title":"California Graduation Rate Analysis","text":"Important notes: - Data available 2018 onwards (2017 URL returns 404) - data 2020, 2021, 2023 due pandemic-related reporting changes - Small schools/districts may suppressed data privacy - Graduation rates calculated per California’s adjusted cohort formula - student groups may small cohort sizes affecting reliability","code":"# Check data coverage by year grad_multi %>%   filter(subgroup == \"all\") %>%   group_by(end_year) %>%   summarise(     n_schools = sum(type == \"School\" & !is.na(grad_rate)),     n_districts = sum(type == \"District\" & !is.na(grad_rate)),     .groups = \"drop\"   ) ## # A tibble: 5 × 3 ##   end_year n_schools n_districts ##      <dbl>     <int>       <int> ## 1     2018      2217         449 ## 2     2019      2237         446 ## 3     2022      2299         444 ## 4     2024      2312         446 ## 5     2025      2294         441"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"identifying-outlier-schools","dir":"Articles","previous_headings":"Advanced Analysis","what":"Identifying Outlier Schools","title":"California Graduation Rate Analysis","text":"schools merit investigation understand best practices areas needing support.","code":"# Find schools with unusual graduation rates (for investigation) outliers <- grad_2024 %>%   filter(     type == \"School\",     subgroup == \"all\",     cohort_count >= 30,     !is.na(grad_rate)   ) %>%   mutate(     z_score = scale(grad_rate)[,1],     is_outlier = abs(z_score) > 2   ) %>%   filter(is_outlier) %>%   arrange(desc(abs(z_score))) %>%   select(school_name, district_name, grad_rate, cohort_count, z_score) %>%   head(10)  outliers ##                                                         school_name ## 1    Joseph Pomeroy Widney Career Preparatory and Transition Center ## 2                                    Berenece Carlson Home Hospital ## 3                                                             TRACE ## 4                                                 Special Education ## 5                              Santa Clara County Special Education ## 6                                       Highlands Community Charter ## 7                          Five Keys Independence HS (SF Sheriff's) ## 8  Escuela Popular/Center for Training and Careers, Family Learning ## 9                                  Five Keys Charter (SF Sheriff's) ## 10                          San Bernardino County Special Education ##                                district_name grad_rate cohort_count   z_score ## 1                        Los Angeles Unified     0.000           40 -4.863299 ## 2                        Los Angeles Unified     0.000           61 -4.863299 ## 3                          San Diego Unified     0.000           56 -4.863299 ## 4          Tulare County Office of Education     0.000           71 -4.863299 ## 5     Santa Clara County Office of Education     0.015           68 -4.777873 ## 6                        Twin Rivers Unified     0.028         3643 -4.703838 ## 7                      San Francisco Unified     0.032         2284 -4.681058 ## 8                       East Side Union High     0.033          510 -4.675363 ## 9                      San Francisco Unified     0.034          236 -4.669668 ## 10 San Bernardino County Office of Education     0.043           94 -4.618412"},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"California Graduation Rate Analysis","text":"vignette demonstrated : Fetch graduation rate data single multiple years Analyze statewide trends district performance Compare graduation rates across demographic groups Identify disparities high-performing districts Next steps: - Explore district-highlights vignette deeper enrollment analysis - Use data-quality-qa vignette understand data quality considerations - Combine enrollment graduation data comprehensive analyses information, see caschooldata documentation.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/graduation-rates.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"California Graduation Rate Analysis","text":"","code":"sessionInfo() ## R version 4.5.2 (2025-10-31) ## Platform: x86_64-pc-linux-gnu ## Running under: Ubuntu 24.04.3 LTS ##  ## Matrix products: default ## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  ## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 ##  ## locale: ##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        ##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    ##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           ## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    ##  ## time zone: UTC ## tzcode source: system (glibc) ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] ggplot2_4.0.2      dplyr_1.2.0        caschooldata_0.1.0 testthat_3.3.2     ##  ## loaded via a namespace (and not attached): ##  [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.2     brio_1.1.5         ##  [5] tidyselect_1.2.1   jquerylib_0.1.4    systemfonts_1.3.1  scales_1.4.0       ##  [9] textshaping_1.0.4  readxl_1.4.5       yaml_2.3.12        fastmap_1.2.0      ## [13] R6_2.6.1           labeling_0.4.3     generics_0.1.4     curl_7.0.0         ## [17] knitr_1.51         tibble_3.3.1       desc_1.4.3         bslib_0.10.0       ## [21] pillar_1.11.1      RColorBrewer_1.1-3 rlang_1.1.7        utf8_1.2.6         ## [25] cachem_1.1.0       xfun_0.56          fs_1.6.6           sass_0.4.10        ## [29] S7_0.2.1           cli_3.6.5          withr_3.0.2        pkgdown_2.2.0      ## [33] magrittr_2.0.4     digest_0.6.39      grid_4.5.2         rappdirs_0.3.4     ## [37] lifecycle_1.0.5    vctrs_0.7.1        evaluate_1.0.5     glue_1.8.0         ## [41] cellranger_1.1.0   farver_2.1.2       codetools_0.2-20   ragg_1.5.0         ## [45] purrr_1.2.1        httr_1.4.8         rmarkdown_2.30     tools_4.5.2        ## [49] pkgconfig_2.0.3    htmltools_0.5.9"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Getting Started with caschooldata","text":"caschooldata package provides tools fetching analyzing California school enrollment data California Department Education (CDE). vignette walks main features package. ’ll find data: 8 years enrollment data (2018-2025) 5.8+ million students across 1,000+ districts Demographic breakdowns race/ethnicity, gender, student groups Trends showing 400,000+ student decline since COVID-19 deep dive trends findings, see District Trends & Demographics vignette.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with caschooldata","text":"Install GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/caschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"basic-usage","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Basic Usage","title":"Getting Started with caschooldata","text":"main function fetch_enr(), downloads processes enrollment data given school year: end_year parameter refers spring semester year. example, end_year = 2024 fetches data 2023-24 school year.","code":"library(caschooldata) library(dplyr)  # Fetch 2024 enrollment data (2023-24 school year) enr <- fetch_enr(2024)  head(enr)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"available-years","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Available Years","title":"Getting Started with caschooldata","text":"package supports Census Day enrollment data 2018-2025: 2024-2025: Modern Census Day files full demographic breakdowns 2018-2023: Historical school-level files race/ethnicity gender data","code":"# Fetch the most recent year enr_2025 <- fetch_enr(2025)  # Fetch historical data enr_2020 <- fetch_enr(2020)  # Fetch all years for trend analysis enr_all <- fetch_enr_multi(2018:2025)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"wide-vs--tidy-format","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Wide vs. Tidy Format","title":"Getting Started with caschooldata","text":"default, fetch_enr() returns data tidy (long) format, ideal analysis dplyr ggplot2: wide format (one column per grade), set tidy = FALSE:","code":"# Default: tidy format enr_tidy <- fetch_enr(2024) names(enr_tidy) # Includes: grade_level, reporting_category, subgroup, n_students # Wide format: one column per grade enr_wide <- fetch_enr(2024, tidy = FALSE) names(enr_wide) # Includes: grade_tk, grade_k, grade_01, ..., grade_12, total_enrollment"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"fetching-multiple-years","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Fetching Multiple Years","title":"Getting Started with caschooldata","text":"Use fetch_enr_multi() download data multiple years :","code":"# Fetch 2024 and 2025 data all_years <- fetch_enr_multi(c(2024, 2025))  # Analyze enrollment trends all_years %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"column-descriptions","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Column Descriptions","title":"Getting Started with caschooldata","text":"tidy enrollment data includes following columns:","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"aggregation-levels","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Aggregation Levels","title":"Getting Started with caschooldata","text":"data includes four aggregation levels:","code":"# State-level totals state <- enr %>%   filter(agg_level == \"T\") # or equivalently: state <- enr %>%   filter(is_state)  # County-level (58 California counties) counties <- enr %>%   filter(is_county)  # District-level districts <- enr %>%   filter(is_district)  # School-level schools <- enr %>%   filter(is_school)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-subgroups","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Demographic Subgroups","title":"Getting Started with caschooldata","text":"reporting_category column contains CDE codes, subgroup provides human-readable names:","code":"# View all available subgroups enr %>%   distinct(reporting_category, subgroup) %>%   arrange(reporting_category)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"grade-levels","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Grade Levels","title":"Getting Started with caschooldata","text":"Individual grades range Transitional Kindergarten (TK) 12th grade:","code":"# Available grade levels enr %>%   distinct(grade_level) %>%   arrange(grade_level)  # Filter to specific grades elementary <- enr %>%   filter(grade_level %in% c(\"TK\", \"K\", \"01\", \"02\", \"03\", \"04\", \"05\"))  middle_school <- enr %>%   filter(grade_level %in% c(\"06\", \"07\", \"08\"))  high_school <- enr %>%   filter(grade_level %in% c(\"09\", \"10\", \"11\", \"12\"))"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"top-10-largest-districts","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Top 10 Largest Districts","title":"Getting Started with caschooldata","text":"","code":"library(caschooldata) library(dplyr)  enr <- fetch_enr(2024)  enr %>%   filter(is_district, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   select(district_name, county_name, n_students) %>%   head(10)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"county-level-analysis","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"County-Level Analysis","title":"Getting Started with caschooldata","text":"","code":"# Enrollment by county county_enrollment <- enr %>%   filter(is_county, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   select(county_name, n_students)  # Top 5 counties head(county_enrollment, 5)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-breakdown","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Demographic Breakdown","title":"Getting Started with caschooldata","text":"","code":"# State-level race/ethnicity breakdown enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   mutate(pct = n_students / sum(n_students) * 100) %>%   select(subgroup, n_students, pct) %>%   arrange(desc(n_students))"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"charter-vs--non-charter-comparison","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Charter vs. Non-Charter Comparison","title":"Getting Started with caschooldata","text":"","code":"# State-level charter enrollment charter_comparison <- enr %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   group_by(charter_status) %>%   summarize(total_enrollment = sum(n_students, na.rm = TRUE))  charter_comparison"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"grade-level-aggregations","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Grade-Level Aggregations","title":"Getting Started with caschooldata","text":"Use enr_grade_aggs() create grade band summaries:","code":"# Create K-8, HS, K-12 aggregations grade_bands <- enr_grade_aggs(enr)  # View state-level grade bands grade_bands %>%   filter(is_state) %>%   select(grade_level, n_students)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"working-with-cds-codes","dir":"Articles","previous_headings":"","what":"Working with CDS Codes","title":"Getting Started with caschooldata","text":"California uses 14-digit County-District-School (CDS) code system: Positions 1-2: County code (01-58) Positions 3-7: District code (5 digits) Positions 8-14: School code (7 digits)","code":"# Parse a CDS code parse_cds_code(\"19647331932334\") # Returns: list(county = \"19\", district = \"64733\", school = \"1932334\")  # Filter to a specific district using CDS pattern lausd <- enr %>%   filter(grepl(\"^1964733\", cds_code), is_school)"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"bar-chart-top-counties","dir":"Articles","previous_headings":"Visualization Examples","what":"Bar Chart: Top Counties","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  enr <- fetch_enr(2024)  # Top 10 counties by enrollment top_counties <- enr %>%   filter(is_county, subgroup == \"total_enrollment\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10)  ggplot(top_counties, aes(x = reorder(county_name, n_students), y = n_students)) +   geom_col(fill = \"steelblue\") +   coord_flip() +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Top 10 California Counties by Enrollment\",     subtitle = \"2023-24 School Year\",     x = NULL,     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-composition","dir":"Articles","previous_headings":"Visualization Examples","what":"Demographic Composition","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  # Race/ethnicity pie chart data race_data <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   mutate(pct = n_students / sum(n_students)) %>%   select(subgroup, n_students, pct)  ggplot(race_data, aes(x = \"\", y = pct, fill = subgroup)) +   geom_bar(stat = \"identity\", width = 1) +   coord_polar(\"y\", start = 0) +   labs(title = \"California Enrollment by Race/Ethnicity\") +   theme_void() +   theme(legend.position = \"right\")"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"enrollment-trend-multi-year","dir":"Articles","previous_headings":"Visualization Examples","what":"Enrollment Trend (Multi-Year)","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  # Fetch multiple years all_years <- fetch_enr_multi(c(2024, 2025))  # State enrollment over time state_trend <- all_years %>%   filter(is_state, subgroup == \"total_enrollment\", grade_level == \"TOTAL\")  ggplot(state_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"steelblue\", size = 1.5) +   geom_point(color = \"steelblue\", size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"California K-12 Enrollment\",     x = \"School Year (End Year)\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache Management","title":"Getting Started with caschooldata","text":"package caches downloaded data locally avoid repeated downloads: cache stored user-specific application data directory (via rappdirs). Cached data persists R sessions.","code":"# Check what's cached cache_status()  # Clear cache for a specific year clear_enr_cache(2024)  # Force a fresh download (bypass cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"data-quality-notes","dir":"Articles","previous_headings":"","what":"Data Quality Notes","title":"Getting Started with caschooldata","text":"Enrollment counts based Census Day (first Wednesday October) cells may suppressed privacy (small counts) Charter non-charter enrollments reported separately State county totals may include students assigned specific schools","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with caschooldata","text":"See District Trends & Demographics vignette data-driven findings Explore Data Quality QA vignette validation examples Check function reference detailed documentation: ?fetch_enr, ?tidy_enr Visit package website resources","code":""},{"path":"https://almartin82.github.io/caschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Andy Martin. Maintainer.","code":""},{"path":"https://almartin82.github.io/caschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). caschooldata: California School Data. R package version 0.1.0, https://almartin82.github.io/caschooldata/.","code":"@Manual{,   title = {caschooldata: California School Data},   author = {Andy Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/caschooldata/}, }"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"caschooldata","dir":"","previous_headings":"","what":"California School Data","title":"California School Data","text":"Documentation | Getting Started | Enrollment Analysis | Assessment Analysis Fetch analyze California school enrollment assessment data California Department Education R Python. Part njschooldata family state education data packages, providing programmatic access official state DOE data consistent API across 50 states.","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"what-can-you-find-with-caschooldata","dir":"","previous_headings":"","what":"What can you find with caschooldata?","title":"California School Data","text":"44 years enrollment data (1982-2025) plus CAASPP assessment results (2015-2024). 5.8 million students today. 1,000 districts. twenty stories hiding numbers:","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_1-california-lost-over-400000-students-since-2018","dir":"","previous_headings":"What can you find with caschooldata?","what":"1. California lost over 400,000 students since 2018","title":"California School Data","text":"striking trend: California public schools lost 400,000 students since 2018. decline accelerated pandemic continued every year since.","code":"library(caschooldata) library(dplyr) library(tidyr) library(ggplot2)  years <- c(2018, 2020, 2022, 2024, 2025) enr <- fetch_enr_multi(years, use_cache = TRUE)  state_trend <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(end_year) %>%   mutate(     cumulative_change = n_students - first(n_students),     pct_change = (n_students - first(n_students)) / first(n_students) * 100   )  stopifnot(nrow(state_trend) > 0)  state_trend %>%   select(end_year, n_students, cumulative_change, pct_change)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_2-lausd-has-lost-the-equivalent-of-a-major-citys-school-district","dir":"","previous_headings":"What can you find with caschooldata?","what":"2. LAUSD has lost the equivalent of a major city’s school district","title":"California School Data","text":"Los Angeles Unified, nation’s second-largest school district, experienced dramatic enrollment losses.","code":"lausd <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     grepl(\"Los Angeles Unified\", district_name, ignore.case = TRUE)   ) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     cumulative_change = n_students - first(n_students)   )  stopifnot(nrow(lausd) > 0)  lausd %>%   select(end_year, n_students, change, cumulative_change)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_3-the-top-5-districts-lost-over-100000-students-combined","dir":"","previous_headings":"What can you find with caschooldata?","what":"3. The top 5 districts lost over 100,000 students combined","title":"California School Data","text":"California’s five largest districts face significant enrollment challenges.","code":"# Find the 5 largest districts (by 2025 enrollment) top5_districts <- enr %>%   filter(     is_district,     end_year == max(end_year),     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\"   ) %>%   arrange(desc(n_students)) %>%   head(5) %>%   pull(district_name)  top5_trend <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     district_name %in% top5_districts   ) %>%   arrange(district_name, end_year)  stopifnot(nrow(top5_trend) > 0)  top5_trend %>%   group_by(district_name) %>%   summarize(     enr_first = first(n_students),     enr_last = last(n_students),     change = last(n_students) - first(n_students),     pct_change = (last(n_students) - first(n_students)) / first(n_students) * 100   )"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_4-hispanic-students-now-comprise-56-of-californias-enrollment","dir":"","previous_headings":"What can you find with caschooldata?","what":"4. Hispanic students now comprise 56% of California’s enrollment","title":"California School Data","text":"California’s demographic makeup shifted significantly past decades.","code":"race_by_year <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     grepl(\"^RE_\", reporting_category)   ) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students, na.rm = TRUE),     pct = n_students / total * 100   ) %>%   ungroup()  stopifnot(nrow(race_by_year) > 0)  race_by_year %>%   filter(end_year == max(end_year)) %>%   arrange(desc(pct)) %>%   select(subgroup, n_students, pct)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_5-some-districts-grew-while-others-collapsed","dir":"","previous_headings":"What can you find with caschooldata?","what":"5. Some districts grew while others collapsed","title":"California School Data","text":"districts experienced decline. handful districts bucked statewide trend substantial growth since 2020.","code":"district_changes <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     end_year %in% c(2020, max(end_year))   ) %>%   tidyr::pivot_wider(     id_cols = c(district_name, county_name, cds_code),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) %>%   filter(!is.na(enr_2020) & enr_2020 > 1000) %>%   mutate(     change = .[[ncol(.)]] - enr_2020,     pct_change = change / enr_2020 * 100   )  stopifnot(nrow(district_changes) > 0)  # Top 10 growing districts district_changes %>%   arrange(desc(pct_change)) %>%   head(10) %>%   select(district_name, county_name, enr_2020, change, pct_change)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_6-high-school-enrollment-dropped-faster-than-elementary","dir":"","previous_headings":"What can you find with caschooldata?","what":"6. High school enrollment dropped faster than elementary","title":"California School Data","text":"Enrollment loss varied significantly grade level, high schools seeing earliest steepest declines.","code":"grade_trends <- enr %>%   filter(     is_state,     reporting_category == \"TA\",     charter_status == \"All\",     grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\",                         \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")   ) %>%   mutate(     grade_band = case_when(       grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\") ~ \"Elementary (K-5)\",       grade_level %in% c(\"06\", \"07\", \"08\") ~ \"Middle (6-8)\",       TRUE ~ \"High (9-12)\"     )   ) %>%   group_by(end_year, grade_band) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  stopifnot(nrow(grade_trends) > 0)  grade_trends %>%   group_by(grade_band) %>%   mutate(index = n_students / first(n_students) * 100)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_7-the-bay-area-exodus-tech-counties-lost-the-most-students","dir":"","previous_headings":"What can you find with caschooldata?","what":"7. The Bay Area exodus: Tech counties lost the most students","title":"California School Data","text":"San Francisco, Santa Clara, Bay Area counties experienced steepest enrollment drops percentage-wise.","code":"county_changes <- enr %>%   filter(     is_county,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     charter_status == \"All\",     end_year %in% c(2020, max(end_year))   ) %>%   tidyr::pivot_wider(     id_cols = c(county_name),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) %>%   filter(!is.na(enr_2020)) %>%   mutate(     change = .[[ncol(.)]] - enr_2020,     pct_change = change / enr_2020 * 100   ) %>%   arrange(pct_change)  stopifnot(nrow(county_changes) > 0)  # Top 10 counties with biggest percentage decline county_changes %>%   head(10) %>%   select(county_name, enr_2020, change, pct_change)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_8-kindergarten-enrollment-signals-future-decline","dir":"","previous_headings":"What can you find with caschooldata?","what":"8. Kindergarten enrollment signals future decline","title":"California School Data","text":"Kindergarten enrollment leading indicator future enrollment. drop K enrollment since 2020 suggests continued overall declines ahead.","code":"k_trend <- enr %>%   filter(     is_state,     reporting_category == \"TA\",     charter_status == \"All\",     grade_level == \"K\"   ) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     pct_change = (n_students - lag(n_students)) / lag(n_students) * 100   )  stopifnot(nrow(k_trend) > 0)  k_trend %>%   select(end_year, n_students, change, pct_change)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_9-gender-ratios-have-remained-remarkably-stable","dir":"","previous_headings":"What can you find with caschooldata?","what":"9. Gender ratios have remained remarkably stable","title":"California School Data","text":"Despite major enrollment shifts, gender ratio stayed nearly constant roughly 51% male, 49% female.","code":"gender_trend <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     reporting_category %in% c(\"GN_F\", \"GN_M\")   ) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students),     pct = n_students / total * 100   ) %>%   ungroup()  stopifnot(nrow(gender_trend) > 0)  gender_trend %>%   select(end_year, subgroup, pct) %>%   tidyr::pivot_wider(names_from = subgroup, values_from = pct)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_10-english-learners-remain-a-substantial-population","dir":"","previous_headings":"What can you find with caschooldata?","what":"10. English Learners remain a substantial population","title":"California School Data","text":"English Learners represent approximately 18% California’s student population (data available 2024-2025).","code":"el_data <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     charter_status == \"All\",     reporting_category %in% c(\"TA\", \"SG_EL\"),     end_year >= 2024   ) %>%   tidyr::pivot_wider(     id_cols = end_year,     names_from = reporting_category,     values_from = n_students   ) %>%   mutate(el_pct = SG_EL / TA * 100)  if (nrow(el_data) > 0) {   cat(\"English Learner Enrollment:\\n\")   el_data %>%     mutate(       total = scales::comma(TA),       el = scales::comma(SG_EL),       el_pct = sprintf(\"%.1f%%\", el_pct)     ) %>%     select(end_year, total, el, el_pct) }"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_11-state-enrollment-peaked-around-2003-04-at-63-million","dir":"","previous_headings":"What can you find with caschooldata?","what":"11. State enrollment peaked around 2003-04 at 6.3 million","title":"California School Data","text":"California’s K-12 enrollment peaked around 2003-04 6.3 million students. Today ’s 5.8 million, decline nearly half million students peak.","code":"enr_historical <- fetch_enr_multi(c(1985, 1995, 2005, 2015, 2025), use_cache = TRUE)  historical_state <- enr_historical %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   select(end_year, n_students) %>%   arrange(end_year)  stopifnot(nrow(historical_state) > 0) historical_state"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_12-lausd-has-seen-a-multi-decade-decline","dir":"","previous_headings":"What can you find with caschooldata?","what":"12. LAUSD has seen a multi-decade decline","title":"California School Data","text":"nation’s second-largest district lost nearly half enrollment since peak, making case study urban enrollment decline.","code":"lausd_long <- fetch_enr_multi(c(1990, 2000, 2010, 2020, 2025), use_cache = TRUE)  lausd_historical <- lausd_long %>%   filter(is_district, grepl(\"Los Angeles Unified\", district_name),          grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   select(end_year, district_name, n_students) %>%   arrange(end_year)  stopifnot(nrow(lausd_historical) > 0) lausd_historical"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_13-californias-largest-districts-dominate-enrollment","dir":"","previous_headings":"What can you find with caschooldata?","what":"13. California’s largest districts dominate enrollment","title":"California School Data","text":"top 5 districts alone account significant share California’s total enrollment, LAUSD enrolling students many states.","code":"enr_2025 <- fetch_enr(2025, use_cache = TRUE)  top10_districts <- enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(desc(n_students)) %>%   head(10) %>%   select(district_name, county_name, n_students)  stopifnot(nrow(top10_districts) > 0) top10_districts"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_14-demographics-vary-dramatically-across-major-districts","dir":"","previous_headings":"What can you find with caschooldata?","what":"14. Demographics vary dramatically across major districts","title":"California School Data","text":"state overall majority Hispanic, individual districts show vastly different demographic compositions: majority Hispanic LA Fresno, highly diverse SF San Diego.","code":"district_demographics <- enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", charter_status == \"All\",          grepl(\"^RE_\", reporting_category)) %>%   filter(district_name %in% c(\"San Francisco Unified\", \"Los Angeles Unified\",                                \"Fresno Unified\", \"San Diego Unified\")) %>%   group_by(district_name, subgroup) %>%   summarize(n = sum(n_students), .groups = \"drop\") %>%   group_by(district_name) %>%   mutate(pct = n / sum(n) * 100) %>%   ungroup()  stopifnot(nrow(district_demographics) > 0)  district_demographics %>%   select(district_name, subgroup, pct) %>%   tidyr::pivot_wider(names_from = subgroup, values_from = pct)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_15-enrollment-declined-every-year-since-2020","dir":"","previous_headings":"What can you find with caschooldata?","what":"15. Enrollment declined every year since 2020","title":"California School Data","text":"California seen consistent year--year enrollment declines since 2020, year showing recovery.","code":"enr_recent <- fetch_enr_multi(2018:2025, use_cache = TRUE)  state_yoy <- enr_recent %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status == \"All\") %>%   arrange(end_year) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   )  stopifnot(nrow(state_yoy) > 0)  state_yoy %>%   select(end_year, n_students, change, pct_change)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"assessment-data-caaspp-results","dir":"","previous_headings":"","what":"Assessment Data: CAASPP Results","title":"California School Data","text":"California’s CAASPP (California Assessment Student Performance Progress) system includes Smarter Balanced assessments English Language Arts (ELA) Mathematics. Data available 2015-2024 (2020 due COVID-19).","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_16-statewide-proficiency-56-in-ela-28-in-math-for-11th-graders","dir":"","previous_headings":"Assessment Data: CAASPP Results","what":"16. Statewide proficiency: 56% in ELA, 28% in Math for 11th graders","title":"California School Data","text":"California’s 11th graders showed dramatic 28-point gap ELA Math proficiency 2024.","code":"# Fetch 2024 assessment data assess_2024 <- fetch_assess(2024, tidy = TRUE, use_cache = TRUE)  # State-level proficiency by subject (Grade 11) state_g11 <- assess_2024 %>%   filter(is_state, grade == \"11\", metric_type == \"pct_met_and_above\") %>%   select(subject, metric_value)  stopifnot(nrow(state_g11) > 0) state_g11"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_17-ela-proficiency-climbs-from-43-in-grade-3-to-56-in-grade-11","dir":"","previous_headings":"Assessment Data: CAASPP Results","what":"17. ELA proficiency climbs from 43% in Grade 3 to 56% in Grade 11","title":"California School Data","text":"ELA proficiency actually increases across grade levels, 11th graders significantly outperforming 3rd graders – 13-point gap suggesting cumulative literacy growth.","code":"# ELA proficiency by grade ela_by_grade <- assess_2024 %>%   filter(is_state, subject == \"ELA\",          metric_type == \"pct_met_and_above\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, metric_value) %>%   arrange(grade)  stopifnot(nrow(ela_by_grade) > 0) print(ela_by_grade, n = Inf)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_18-math-proficiency-drops-dramatically-by-middle-school","dir":"","previous_headings":"Assessment Data: CAASPP Results","what":"18. Math proficiency drops dramatically by middle school","title":"California School Data","text":"Math proficiency peaks Grade 3-4 around 45% falls 32% Grade 8.","code":"# Math proficiency by grade math_by_grade <- assess_2024 %>%   filter(is_state, subject == \"Math\",          metric_type == \"pct_met_and_above\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, metric_value) %>%   arrange(grade)  stopifnot(nrow(math_by_grade) > 0) print(math_by_grade, n = Inf)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_19-proficiency-dropped-sharply-in-2022-slowly-recovering-since","dir":"","previous_headings":"Assessment Data: CAASPP Results","what":"19. Proficiency dropped sharply in 2022, slowly recovering since","title":"California School Data","text":"inflated 2021 scores (low participation), 2022 return full testing revealed sharp drops. ELA recovered 54.8% 55.7%, Math inched 27.0% 27.9%.","code":"# Fetch multiple years (2019 unavailable due to parsing issue) assess_multi <- fetch_assess_multi(c(2021, 2022, 2023, 2024),                                     tidy = TRUE, use_cache = TRUE)  # State-level trend state_trend_assess <- assess_multi %>%   filter(is_state, grade == \"11\", metric_type == \"pct_met_and_above\") %>%   select(end_year, subject, metric_value) %>%   arrange(subject, end_year)  stopifnot(nrow(state_trend_assess) > 0)  state_trend_assess %>%   pivot_wider(names_from = subject, values_from = metric_value)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_20-ela-math-gap-widens-dramatically-from-grade-3-to-grade-11","dir":"","previous_headings":"Assessment Data: CAASPP Results","what":"20. ELA-Math gap widens dramatically from Grade 3 to Grade 11","title":"California School Data","text":"ELA advantage Math proficiency starts near zero Grade 3 (Math slightly leads) balloons 28 points Grade 11.","code":"# ELA-Math gap by grade ela_math_gap <- assess_2024 %>%   filter(is_state, metric_type == \"pct_met_and_above\",          grade %in% sprintf(\"%02d\", c(3:8, 11))) %>%   select(grade, subject, metric_value) %>%   pivot_wider(names_from = subject, values_from = metric_value) %>%   mutate(gap = ELA - Math)  stopifnot(nrow(ela_math_gap) > 0) ela_math_gap"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"California School Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/caschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"r","dir":"","previous_headings":"Quick start","what":"R","title":"California School Data","text":"","code":"library(caschooldata) library(dplyr)  # Fetch one year enr_2025 <- fetch_enr(2025, use_cache = TRUE)  # Fetch recent years (2018-2025) enr_recent <- fetch_enr_multi(2018:2025, use_cache = TRUE)  # State totals enr_2025 %>%   filter(is_state, reporting_category == \"TA\",          grade_level == \"TOTAL\", charter_status == \"All\")  # District breakdown enr_2025 %>%   filter(is_district, reporting_category == \"TA\",          grade_level == \"TOTAL\", charter_status == \"All\") %>%   arrange(desc(n_students))  # Demographics by district enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", charter_status == \"All\",          grepl(\"^RE_\", reporting_category)) %>%   group_by(district_name, subgroup) %>%   summarize(n = sum(n_students), .groups = \"drop\")"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"python","dir":"","previous_headings":"Quick start","what":"Python","title":"California School Data","text":"","code":"import pycaschooldata as ca  # Check available years years = ca.get_available_years() print(f\"Data available from {years['min_year']} to {years['max_year']}\")  # Fetch one year enr_2025 = ca.fetch_enr(2025)  # Fetch multiple years enr_recent = ca.fetch_enr_multi([2023, 2024, 2025])  # State totals state_total = enr_2025[     (enr_2025['is_state'] == True) &     (enr_2025['grade_level'] == 'TOTAL') &     (enr_2025['reporting_category'] == 'TA') &     (enr_2025['charter_status'] == 'All') ]  # District breakdown district_totals = enr_2025[     (enr_2025['is_district'] == True) &     (enr_2025['grade_level'] == 'TOTAL') &     (enr_2025['reporting_category'] == 'TA') &     (enr_2025['charter_status'] == 'All') ].sort_values('n_students', ascending=False)"},{"path":[]},{"path":[]},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"whats-available-by-year-range","dir":"","previous_headings":"Data availability","what":"What’s available by year range","title":"California School Data","text":"Subgroups: Race/ethnicity gender available years. Student groups (English Learners, FRPM, Special Ed) available 2024+. Grade levels: K-12 available years. Transitional Kindergarten (TK) available 2024+. Aggregation: Modern files (2024+) include pre-computed state/county/district totals. Historical files school-level data; package computes aggregates automatically. Entity names: School/district names available 2008+ 1982-1993. available 1994-2007 (use CDS code lookups).","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"enrollment-data-1","dir":"","previous_headings":"Data Notes","what":"Enrollment Data","title":"California School Data","text":"Source: California Department Education DataQuest Data Files Census Day: enrollment counts Census Day (first Wednesday October) Suppression: Counts 10 fewer students suppressed privacy Charter Status: Modern files (2024+) report charter non-charter separately; historical files aggregate schools","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"assessment-data-caaspp-1","dir":"","previous_headings":"Data Notes","what":"Assessment Data (CAASPP)","title":"California School Data","text":"Source: CAASPP Research Files Portal Years Available: 2015-2019, 2021-2024 (2020 due COVID-19) Grades Tested: 3-8 11 ELA Mathematics Suppression: Groups fewer 11 students reported Performance Levels: Standard Exceeded, Standard Met, Standard Nearly Met, Standard Met","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"California School Data","text":"package part njschooldata family, providing simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"California School Data","text":"Andy Martin (almartin@gmail.com)","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"California School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/CDE_GRAD_BASE_URL.html","id":null,"dir":"Reference","previous_headings":"","what":"Base URL for CDE graduation rate downloads — CDE_GRAD_BASE_URL","title":"Base URL for CDE graduation rate downloads — CDE_GRAD_BASE_URL","text":"Base URL CDE graduation rate downloads","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/CDE_GRAD_BASE_URL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base URL for CDE graduation rate downloads — CDE_GRAD_BASE_URL","text":"","code":"CDE_GRAD_BASE_URL"},{"path":"https://almartin82.github.io/caschooldata/reference/CDE_GRAD_BASE_URL.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Base URL for CDE graduation rate downloads — CDE_GRAD_BASE_URL","text":"object class character length 1.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_caaspp_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CAASPP research file URL — build_caaspp_url","title":"Build CAASPP research file URL — build_caaspp_url","text":"Constructs direct download URL CAASPP research files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_caaspp_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CAASPP research file URL — build_caaspp_url","text":"","code":"build_caaspp_url(   end_year,   file_type = c(\"1\", \"all\", \"all_ela\", \"all_math\"),   format = c(\"csv\", \"ascii\") )"},{"path":"https://almartin82.github.io/caschooldata/reference/build_caaspp_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CAASPP research file URL — build_caaspp_url","text":"end_year School year end file_type One \"1\" (Students), \"\" (Student Groups), \"all_ela\" (Groups ELA ), \"all_math\" (Groups Math ) format One \"csv\" (caret-delimited) \"ascii\" (fixed-width)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_caaspp_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CAASPP research file URL — build_caaspp_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Build cache file path — build_cache_path","title":"Build cache file path — build_cache_path","text":"Build cache file path","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build cache file path — build_cache_path","text":"","code":"build_cache_path(end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build cache file path — build_cache_path","text":"end_year School year end cache_type Type cache (\"tidy\", \"wide\", \"grad_tidy\", \"grad_wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build cache file path — build_cache_path","text":"File path string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"Constructs download URL cumulative enrollment file (alternative data source). Cumulative enrollment counts students enrolled year, just Census Day.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"","code":"build_cumulative_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE enrollment file URL — build_enr_url","title":"Build CDE enrollment file URL — build_enr_url","text":"Constructs download URL specific year's enrollment file. Uses Census Day enrollment file comprehensive grade-level data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE enrollment file URL — build_enr_url","text":"","code":"build_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE enrollment file URL — build_enr_url","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE enrollment file URL — build_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_entities_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CAASPP entities file URL — build_entities_url","title":"Build CAASPP entities file URL — build_entities_url","text":"Build CAASPP entities file URL","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_entities_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CAASPP entities file URL — build_entities_url","text":"","code":"build_entities_url(end_year, format = c(\"csv\", \"ascii\"))"},{"path":"https://almartin82.github.io/caschooldata/reference/build_entities_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CAASPP entities file URL — build_entities_url","text":"end_year School year end format One \"csv\" \"ascii\"","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_entities_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CAASPP entities file URL — build_entities_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_grad_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build graduation rate download URL for a given year — build_grad_url","title":"Build graduation rate download URL for a given year — build_grad_url","text":"Constructs appropriate URL downloading CDE graduation data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_grad_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build graduation rate download URL for a given year — build_grad_url","text":"","code":"build_grad_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_grad_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build graduation rate download URL for a given year — build_grad_url","text":"end_year School year end (2023-24 = 2024)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_grad_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build graduation rate download URL for a given year — build_grad_url","text":"URL download Excel file","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE historical enrollment file URL — build_historical_enr_url","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"Constructs download URL historical school-level enrollment files (1982-2023). files cover multiple years .","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"","code":"build_historical_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"end_year school year end (e.g., 2020 2019-20 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists — cache_exists","title":"Check if cached data exists — cache_exists","text":"Check cached data exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists — cache_exists","text":"","code":"cache_exists(end_year, cache_type, max_age = 30)"},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists — cache_exists","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\") max_age Maximum age days (default 30). Set Inf ignore age.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists — cache_exists","text":"Logical indicating valid cache exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache status — cache_status","title":"Get cache status — cache_status","text":"Reports years cached data available, including file sizes ages.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache status — cache_status","text":"Data frame cache information (invisibly). Columns include: end_year: School year end cache_type: Type cached data (tidy wide) size_mb: File size megabytes age_days: Days since file created/modified","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/calc_assess_trend.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate assessment trends over time — calc_assess_trend","title":"Calculate assessment trends over time — calc_assess_trend","text":"Computes year--year changes assessment metrics.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/calc_assess_trend.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate assessment trends over time — calc_assess_trend","text":"","code":"calc_assess_trend(data, metric = \"pct_met_and_above\")"},{"path":"https://almartin82.github.io/caschooldata/reference/calc_assess_trend.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate assessment trends over time — calc_assess_trend","text":"data Tidy assessment data multiple years metric Performance metric analyze (default: \"pct_met_and_above\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/calc_assess_trend.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate assessment trends over time — calc_assess_trend","text":"Data additional columns year--year changes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/calc_assess_trend.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate assessment trends over time — calc_assess_trend","text":"","code":"if (FALSE) { # \\dontrun{ library(dplyr)  # Calculate 5-year trend multi_year <- fetch_assess_multi(2019:2023, tidy = TRUE) %>%   id_assess_aggs() %>%   filter(agg_level == \"T\",          grade == \"11\",          subject == \"ELA\")  # Add trend calculations trend <- calc_assess_trend(multi_year, \"pct_met_and_above\")  # View change from 2019 to 2023 trend %>%   filter(end_year %in% c(2019, 2023)) %>%   select(end_year, metric_value, change, pct_change) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"caschooldata: Fetch and Process California School Data — caschooldata-package","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"caschooldata package provides functions downloading processing school data California Department Education (CDE). offers consistent, tidy interface working California public school enrollment data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"fetch_enr: Download process enrollment data fetch_enr_multi: Download enrollment multiple years get_available_years: Get available data years (1982-2025) tidy_enr: Convert wide enrollment tidy format id_enr_aggs: Identify aggregation levels data parse_cds_code: Parse CDS codes components","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache Functions","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"cache_status: Check cached data status clear_enr_cache: Clear cached data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"data-source","dir":"Reference","previous_headings":"","what":"Data Source","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"Data sourced California Department Education (CDE) DataQuest: https://dq.cde.ca.gov/dataquest/ Enrollment data files Census Day enrollment collection, provides snapshot enrollment first Wednesday October.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"cds-codes","dir":"Reference","previous_headings":"","what":"CDS Codes","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"California uses 14-digit County-District-School (CDS) code system: 2 digits: County code (01-58, representing California's 58 counties) 5 digits: District code 7 digits: School code","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/check_caaspp_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if CAASPP URL is accessible — check_caaspp_url","title":"Check if CAASPP URL is accessible — check_caaspp_url","text":"Tests CAASPP research file URL accessible.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/check_caaspp_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if CAASPP URL is accessible — check_caaspp_url","text":"","code":"check_caaspp_url(url)"},{"path":"https://almartin82.github.io/caschooldata/reference/check_caaspp_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if CAASPP URL is accessible — check_caaspp_url","text":"url URL test","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/check_caaspp_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if CAASPP URL is accessible — check_caaspp_url","text":"TRUE accessible, FALSE otherwise","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear the caschooldata cache — clear_enr_cache","title":"Clear the caschooldata cache — clear_enr_cache","text":"Removes cached data files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear the caschooldata cache — clear_enr_cache","text":"","code":"clear_enr_cache(end_year = NULL, data_type = NULL)"},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear the caschooldata cache — clear_enr_cache","text":"end_year Optional. provided, clear cache year. NULL (default), clears cached data. data_type Type cache clear: \"enr\" (enrollment), \"grad\" (graduation), NULL ().","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear the caschooldata cache — clear_enr_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear the caschooldata cache — clear_enr_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_enr_cache()  # Clear only 2024 data clear_enr_cache(2024)  # Clear only graduation cache clear_enr_cache(data_type = \"grad\") } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/clear_grad_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear graduation rate cache — clear_grad_cache","title":"Clear graduation rate cache — clear_grad_cache","text":"Removes cached graduation rate data files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_grad_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear graduation rate cache — clear_grad_cache","text":"","code":"clear_grad_cache(years = NULL)"},{"path":"https://almartin82.github.io/caschooldata/reference/clear_grad_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear graduation rate cache — clear_grad_cache","text":"years Optional vector years clear. NULL, clears years.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_grad_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear graduation rate cache — clear_grad_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_grad_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear graduation rate cache — clear_grad_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all graduation cache clear_grad_cache()  # Clear only 2024 data clear_grad_cache(2024)  # Clear multiple years clear_grad_cache(2020:2024) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create grade-level aggregates — enr_grade_aggs","title":"Create grade-level aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create grade-level aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create grade-level aggregates — enr_grade_aggs","text":"df tidy enrollment data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create grade-level aggregates — enr_grade_aggs","text":"Data frame aggregated enrollment grade bands","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch California CAASPP assessment data — fetch_assess","title":"Fetch California CAASPP assessment data — fetch_assess","text":"Downloads processes CAASPP Smarter Balanced assessment data California Department Education. Includes test results grades 3-8 11 ELA Mathematics.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch California CAASPP assessment data — fetch_assess","text":"","code":"fetch_assess(   end_year,   tidy = TRUE,   subject = c(\"Both\", \"ELA\", \"Math\"),   student_group = c(\"ALL\", \"GROUPS\"),   local_data = NULL,   use_cache = TRUE )"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch California CAASPP assessment data — fetch_assess","text":"end_year School year end (e.g., 2024 2023-24 school year). Supports 2015-2025. Note: 2020 statewide testing due COVID-19. tidy TRUE (default), returns data long (tidy) format metric_type metric_value columns. FALSE, returns wide format separate columns metric. subject Assessment subject fetch: \"\" (default), \"ELA\", \"Math\" student_group \"\" (default) students aggregate, \"GROUPS\" student group breakdowns (demographics, EL status, etc.) local_data Optional local data import_local_assess() use instead downloading. Use manually downloaded CAASPP files portal. use_cache TRUE (default), uses locally cached data available","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch California CAASPP assessment data — fetch_assess","text":"tibble assessment data. tidy format, includes columns: end_year: School year end (integer) cds_code: 14-digit CDS identifier county_code, district_code, school_code: CDS components agg_level: Aggregation level (S=School, D=District, C=County, T=State) grade: Grade level (03, 04, 05, 06, 07, 08, 11, 13 grades) subject: Assessment subject (ELA Math) metric_type: Type metric (tidy format) metric_value: Value metric (tidy format)","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":"available-years-","dir":"Reference","previous_headings":"","what":"Available Years:","title":"Fetch California CAASPP assessment data — fetch_assess","text":"2015-2019: Pre-COVID baseline data 2020: statewide testing (COVID-19) 2021: Reduced participation 2022-2025: Full post-pandemic data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":"data-source-","dir":"Reference","previous_headings":"","what":"Data Source:","title":"Fetch California CAASPP assessment data — fetch_assess","text":"California CAASPP Smarter Balanced Assessments Portal: https://caaspp-elpac.ets.org/caaspp/ResearchFileListSB","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch California CAASPP assessment data — fetch_assess","text":"","code":"if (FALSE) { # \\dontrun{ library(caschooldata) library(dplyr)  # Fetch 2024 assessment data assess_2024 <- fetch_assess(end_year = 2024, tidy = TRUE)  # State-level 11th grade proficiency state_11_prof <- assess_2024 %>%   filter(agg_level == \"T\",          grade == \"11\",          metric_type == \"pct_met_and_above\")  # District-level comparison district_ela <- assess_2024 %>%   filter(agg_level == \"D\",          grade == \"11\",          subject == \"ELA\",          metric_type == \"pct_met_and_above\") %>%   arrange(desc(metric_value)) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch CAASPP assessment data for multiple years — fetch_assess_multi","title":"Fetch CAASPP assessment data for multiple years — fetch_assess_multi","text":"Convenience function download assessment data multiple years . Note: 2020 automatically excluded (statewide testing due COVID-19).","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch CAASPP assessment data for multiple years — fetch_assess_multi","text":"","code":"fetch_assess_multi(   years,   tidy = TRUE,   subject = c(\"Both\", \"ELA\", \"Math\"),   student_group = c(\"ALL\", \"GROUPS\"),   local_data_list = NULL,   use_cache = TRUE )"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch CAASPP assessment data for multiple years — fetch_assess_multi","text":"years Vector school year ends (e.g., c(2019, 2021, 2022)) tidy TRUE (default), returns tidy format subject Assessment subject: \"\" (default), \"ELA\", \"Math\" student_group \"\" (default) \"GROUPS\" local_data_list Named list local data year use_cache TRUE (default), uses cache available","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch CAASPP assessment data for multiple years — fetch_assess_multi","text":"Combined tibble data requested years","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_assess_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch CAASPP assessment data for multiple years — fetch_assess_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2019-2024 assessment data (2020 automatically excluded) assess_multi <- fetch_assess_multi(   years = 2019:2024,   tidy = TRUE )  # Calculate multi-year trend library(dplyr)  state_trend <- assess_multi %>%   filter(agg_level == \"T\",          grade == \"11\",          subject == \"ELA\",          metric_type == \"pct_met_and_above\") %>%   select(end_year, metric_value) %>%   mutate(     change = metric_value - lag(metric_value),     pct_change = (metric_value / lag(metric_value) - 1) * 100   ) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch California enrollment data — fetch_enr","title":"Fetch California enrollment data — fetch_enr","text":"Downloads processes enrollment data California Department Education DataQuest data files. Data based Census Day enrollment (first Wednesday October).","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch California enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch California enrollment data — fetch_enr","text":"end_year school year. Year end academic year - e.g., 2024 2023-24 school year. Supports 1982-2025: 2024-2025: Modern Census Day files full demographic breakdowns 2008-2023: Historical files race/gender data entity names 1994-2007: Historical files race/gender data (entity names) 1982-1993: Historical files letter-based race codes tidy TRUE (default), returns data long (tidy) format grade subgroup columns. FALSE, returns wide format grade columns. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download CDE.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch California enrollment data — fetch_enr","text":"tibble enrollment data. tidy format, includes columns: end_year: School year end (integer) cds_code: 14-digit CDS identifier county_code: 2-digit county code district_code: 5-digit district code school_code: 7-digit school code agg_level: Aggregation level (T=State, C=County, D=District, S=School) county_name, district_name, school_name: Entity names charter_status: Charter indicator (Y/N/) grade_level: Grade (TK, K, 01-12, TOTAL). Note: TK NA 1982-2023. reporting_category: CDE demographic category code subgroup: Human-readable subgroup name n_students: Enrollment count","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch California enrollment data — fetch_enr","text":"Historical data differs modern (2024+) data several ways: Transitional Kindergarten (TK) data available (grade_tk NA) Charter status available (charter_status \"\") District county aggregates computed school-level data Student group categories (SG_*) available 1994-2007: Entity names available (use CDS code look ) 1982-1993: Race categories use different coding (mapped modern codes)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch California enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get historical data (2019-20 school year) enr_2020 <- fetch_enr(2020)  # Get data from the 1990s enr_1995 <- fetch_enr(1995)  # Get wide format (one column per grade) enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to school-level total enrollment library(dplyr) schools <- enr_2024 |>   filter(agg_level == \"S\", reporting_category == \"TA\", grade_level == \"TOTAL\") } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment for multiple years — fetch_enr_multi","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"Convenience function download enrollment data multiple years .","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"years Vector school year ends (e.g., c(2024, 2025)) tidy TRUE (default), returns tidy format use_cache TRUE (default), uses cache available","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"Combined tibble data requested years","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 and 2025 data enr_multi <- fetch_enr_multi(c(2024, 2025)) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch California graduation rate data — fetch_graduation","title":"Fetch California graduation rate data — fetch_graduation","text":"Downloads processes graduation rate data California Department Education (CDE) School Dashboard.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch California graduation rate data — fetch_graduation","text":"","code":"fetch_graduation(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch California graduation rate data — fetch_graduation","text":"end_year school year. Year end academic year - eg 2023-24 school year year '2024'. Valid values 2017-2025. tidy TRUE (default), returns data long (tidy) format subgroup column. FALSE, returns wide format. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download CDE.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch California graduation rate data — fetch_graduation","text":"Data frame graduation rate data. Includes columns end_year, type, district_id, district_name, school_id, school_name, subgroup, metric, grad_rate, cohort_count, graduate_count, is_state, is_district, is_school.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch California graduation rate data — fetch_graduation","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 graduation data (2023-24 school year) grad_2024 <- fetch_graduation(2024)  # Get historical data from 2018 grad_2018 <- fetch_graduation(2018)  # Get wide format grad_wide <- fetch_graduation(2024, tidy = FALSE)  # Force fresh download (ignore cache) grad_fresh <- fetch_graduation(2024, use_cache = FALSE)  # Filter to LA Unified schools lausd <- grad_2024 |>   dplyr::filter(district_name == \"Los Angeles Unified\")  # Compare district rates grad_2024 |>   dplyr::filter(is_district, subgroup == \"all\") |>   dplyr::select(district_name, grad_rate, cohort_count) |>   dplyr::arrange(dplyr::desc(grad_rate)) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch graduation rate data for multiple years — fetch_graduation_multi","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"Downloads combines graduation rate data multiple school years.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"","code":"fetch_graduation_multi(end_years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"end_years Vector school year ends (e.g., c(2020, 2021, 2022)) tidy TRUE (default), returns data long (tidy) format. use_cache TRUE (default), uses locally cached data available.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"Combined data frame graduation rate data requested years","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_graduation_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch graduation rate data for multiple years — fetch_graduation_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 5 years of data grad_multi <- fetch_graduation_multi(2020:2024)  # Track graduation rate trends grad_multi |>   dplyr::filter(is_state, subgroup == \"all\") |>   dplyr::select(end_year, grad_rate, cohort_count)  # Compare subgroups over time grad_multi |>   dplyr::filter(is_state, subgroup %in% c(\"all\", \"low_income\", \"english_learner\")) |>   dplyr::select(end_year, subgroup, grad_rate) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_assess_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available CAASPP assessment years — get_available_assess_years","title":"Get available CAASPP assessment years — get_available_assess_years","text":"Returns vector years CAASPP assessment data available.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_assess_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available CAASPP assessment years — get_available_assess_years","text":"","code":"get_available_assess_years()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_assess_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available CAASPP assessment years — get_available_assess_years","text":"Named list : min_year: First available year (2015) max_year: Last available year (2025) all_years: available years (excluding 2020) note: Special notes data availability","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_assess_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available CAASPP assessment years — get_available_assess_years","text":"","code":"if (FALSE) { # \\dontrun{ # Check available assessment years years <- get_available_assess_years() print(years)  # Fetch all available years all_assess <- fetch_assess_multi(years$all_years) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_grad_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available graduation years — get_available_grad_years","title":"Get available graduation years — get_available_grad_years","text":"Returns vector years graduation rate data available California Department Education.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_grad_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available graduation years — get_available_grad_years","text":"","code":"get_available_grad_years()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_grad_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available graduation years — get_available_grad_years","text":"Integer vector years (2017-2025)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_grad_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available graduation years — get_available_grad_years","text":"","code":"if (FALSE) { # \\dontrun{ get_available_grad_years() # Returns: 2017 2018 2019 ... 2025 } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for California enrollment data — get_available_years","title":"Get available years for California enrollment data — get_available_years","text":"Returns vector end years enrollment data available California Department Education. includes modern Census Day files (2024+) historical enrollment files (1982-2023).","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for California enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for California enrollment data — get_available_years","text":"Integer vector available end years (1982-2025)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for California enrollment data — get_available_years","text":"","code":"get_available_years() #>  [1] 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 1994 1995 1996 #> [16] 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 #> [31] 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025  # Check if a specific year is available 2024 %in% get_available_years() #> [1] TRUE"},{"path":"https://almartin82.github.io/caschooldata/reference/get_caaspp_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Get URL version suffix for a given year — get_caaspp_version","title":"Get URL version suffix for a given year — get_caaspp_version","text":"CAASPP portal uses different version suffixes different years. function returns correct version year.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_caaspp_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get URL version suffix for a given year — get_caaspp_version","text":"","code":"get_caaspp_version(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_caaspp_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get URL version suffix for a given year — get_caaspp_version","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_caaspp_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get URL version suffix for a given year — get_caaspp_version","text":"Version suffix string (e.g., \"v1\", \"v2\", \"v3\", \"v4\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the cache directory for caschooldata — get_cache_dir","title":"Get the cache directory for caschooldata — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the cache directory for caschooldata — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the cache directory for caschooldata — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cached file path for a given year — get_cache_path","title":"Get cached file path for a given year — get_cache_path","text":"Get cached file path given year","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cached file path for a given year — get_cache_path","text":"","code":"get_cache_path(end_year, type = \"tidy\")"},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get cached file path for a given year — get_cache_path","text":"end_year School year end type File type (\"tidy\", \"wide\", \"grad_tidy\", \"grad_wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cached file path for a given year — get_cache_path","text":"Path cached file","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw CAASPP assessment data — get_raw_assess","title":"Get raw CAASPP assessment data — get_raw_assess","text":"Downloads raw CAASPP Smarter Balanced assessment research files ETS CAASPP portal. Data includes test results grades 3-8 11 ELA Mathematics.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw CAASPP assessment data — get_raw_assess","text":"","code":"get_raw_assess(   end_year,   subject = c(\"Both\", \"ELA\", \"Math\"),   student_group = c(\"ALL\", \"GROUPS\") )"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw CAASPP assessment data — get_raw_assess","text":"end_year School year end (e.g., 2023 2022-23 school year). Supports 2015-2025. subject Assessment subject: \"ELA\", \"Math\", \"\" (default). student_group \"\" (default) students, \"GROUPS\" student group breakdowns.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw CAASPP assessment data — get_raw_assess","text":"List containing: test_data: Data frame assessment results entities: Data frame entity names codes year: School year source_url: URL data downloaded","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"available-years-","dir":"Reference","previous_headings":"","what":"Available Years:","title":"Get raw CAASPP assessment data — get_raw_assess","text":"2015-2019: Pre-COVID baseline data 2020: statewide testing (COVID-19) 2021: Limited data due pandemic 2022-2025: Full post-pandemic data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"file-format-","dir":"Reference","previous_headings":"","what":"File Format:","title":"Get raw CAASPP assessment data — get_raw_assess","text":"Statewide research files caret-delimited format. Files include: counties, districts, schools Grade-level aggregations (3, 4, 5, 6, 7, 8, 11) Performance levels (Exceeded, Met, Nearly Met, Met) Mean scale scores Student group breakdowns (student_group = \"GROUPS\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"data-source-","dir":"Reference","previous_headings":"","what":"Data Source:","title":"Get raw CAASPP assessment data — get_raw_assess","text":"CAASPP Research Files Portal (ETS): https://caaspp-elpac.ets.org/caaspp/ResearchFileListSB","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_assess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get raw CAASPP assessment data — get_raw_assess","text":"","code":"if (FALSE) { # \\dontrun{ # Download 2024 CAASPP data (both ELA and Math) raw_2024 <- get_raw_assess(2024)  # Download only ELA results raw_2024_ela <- get_raw_assess(2024, subject = \"ELA\")  # Download with student group breakdowns raw_2024_groups <- get_raw_assess(2024, student_group = \"GROUPS\")  # Access test results and entity names test_data <- raw_2024$test_data entities <- raw_2024$entities } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw enrollment data from CDE — get_raw_enr","title":"Get raw enrollment data from CDE — get_raw_enr","text":"Downloads raw enrollment data file given year California Department Education website. Uses modern Census Day files 2024+ historical school-level files 1982-2023.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw enrollment data from CDE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw enrollment data from CDE — get_raw_enr","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw enrollment data from CDE — get_raw_enr","text":"Raw data frame downloaded CDE","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"Historical files contain school-level data race/ethnicity gender breakdown. Files organized year ranges different formats: 1982-1993: 4-char year format, letter race codes, names 1994-2007: 7-char year format, names file 2008-2023: 7-char year format, names","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"","code":"get_raw_enr_historical(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"Raw data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":null,"dir":"Reference","previous_headings":"","what":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"Download modern Census Day format (2024+) CDE data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"","code":"get_raw_enr_modern(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"Raw data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Download raw graduation data from CDE — get_raw_graduation","title":"Download raw graduation data from CDE — get_raw_graduation","text":"Downloads graduation rate data Excel file CDE School Dashboard.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download raw graduation data from CDE — get_raw_graduation","text":"","code":"get_raw_graduation(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download raw graduation data from CDE — get_raw_graduation","text":"end_year School year end (2023-24 = 2024). Valid years: 2017-2025.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download raw graduation data from CDE — get_raw_graduation","text":"Data frame graduation data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_assess_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify assessment aggregations — id_assess_aggs","title":"Identify assessment aggregations — id_assess_aggs","text":"Adds aggregation identifier columns assessment data. Creates is_state, is_county, is_district, is_school logical columns.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_assess_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify assessment aggregations — id_assess_aggs","text":"","code":"id_assess_aggs(data)"},{"path":"https://almartin82.github.io/caschooldata/reference/id_assess_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify assessment aggregations — id_assess_aggs","text":"data Assessment data (processed tidy format)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_assess_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify assessment aggregations — id_assess_aggs","text":"Data additional aggregation identifier columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_assess_aggs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Identify assessment aggregations — id_assess_aggs","text":"Creates logical columns easy filtering: is_state: TRUE state-level aggregations is_county: TRUE county-level aggregations is_district: TRUE district-level aggregations is_school: TRUE school-level aggregations Also creates entity_name column based aggregation level.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_assess_aggs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify assessment aggregations — id_assess_aggs","text":"","code":"if (FALSE) { # \\dontrun{ library(dplyr)  # Add aggregation identifiers tidy <- tidy_assess(processed_data) %>%   id_assess_aggs()  # Filter to school-level data schools <- tidy %>%   filter(is_school)  # Filter to state-level data state <- tidy %>%   filter(is_state) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify aggregation rows in enrollment data — id_enr_aggs","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"Adds boolean flags identify state, county, district, school level records based CDS code patterns agg_level column.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"","code":"id_enr_aggs(data)"},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"data Tidy enrollment data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"Data frame is_state, is_county, is_district, is_school columns added","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify aggregation level from CDS code — identify_agg_level","title":"Identify aggregation level from CDS code — identify_agg_level","text":"Determines CDS code represents state, county, district, school level based pattern zeros code.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify aggregation level from CDS code — identify_agg_level","text":"","code":"identify_agg_level(cds_code)"},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify aggregation level from CDS code — identify_agg_level","text":"cds_code 14-digit CDS code string vector","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify aggregation level from CDS code — identify_agg_level","text":"Character vector \"state\", \"county\", \"district\", \"school\"","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/import_local_assess.html","id":null,"dir":"Reference","previous_headings":"","what":"Import locally downloaded CAASPP assessment files — import_local_assess","title":"Import locally downloaded CAASPP assessment files — import_local_assess","text":"Imports CAASPP research files manually downloaded CAASPP portal. Use function automated downloads available.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/import_local_assess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import locally downloaded CAASPP assessment files — import_local_assess","text":"","code":"import_local_assess(test_data_path, entities_path, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/import_local_assess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import locally downloaded CAASPP assessment files — import_local_assess","text":"test_data_path Path caret-delimited test data file entities_path Path entities file end_year School year end (metadata)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/import_local_assess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Import locally downloaded CAASPP assessment files — import_local_assess","text":"List containing parsed test_data entities data frames","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/import_local_assess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import locally downloaded CAASPP assessment files — import_local_assess","text":"","code":"if (FALSE) { # \\dontrun{ # Import manually downloaded files local_data <- import_local_assess(   test_data_path = \"~/Downloads/sb_ca2024_1_csv_v1.txt\",   entities_path = \"~/Downloads/sb_ca2024entities_csv.txt\",   end_year = 2024 )  test_data <- local_data$test_data entities <- local_data$entities } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":null,"dir":"Reference","previous_headings":"","what":"Map CDE reporting category codes to human-readable names — map_reporting_category","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"Converts CDE reporting category codes (e.g., \"RE_H\", \"GN_F\") human-readable subgroup names.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"","code":"map_reporting_category(code)"},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"code Character vector reporting category codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"Character vector human-readable subgroup names","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse CDS code into components — parse_cds_code","title":"Parse CDS code into components — parse_cds_code","text":"Splits 14-digit CDS code county, district, school components.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse CDS code into components — parse_cds_code","text":"","code":"parse_cds_code(cds_code)"},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse CDS code into components — parse_cds_code","text":"cds_code 14-digit CDS code string vector codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse CDS code into components — parse_cds_code","text":"Data frame county_code, district_code, school_code columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse CDS code into components — parse_cds_code","text":"","code":"if (FALSE) { # \\dontrun{ # Parse a single CDS code parse_cds_code(\"01611920130229\")  # Parse multiple codes parse_cds_code(c(\"01611920130229\", \"19647330000000\")) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/print.ca_assess_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Print CAASPP assessment data — print.ca_assess_data","title":"Print CAASPP assessment data — print.ca_assess_data","text":"Print CAASPP assessment data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/print.ca_assess_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print CAASPP assessment data — print.ca_assess_data","text":"","code":"# S3 method for class 'ca_assess_data' print(x, ...)"},{"path":"https://almartin82.github.io/caschooldata/reference/print.ca_assess_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print CAASPP assessment data — print.ca_assess_data","text":"x ca_assess_data object ... Additional arguments (ignored)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/print.ca_assess_tidy.html","id":null,"dir":"Reference","previous_headings":"","what":"Print tidy CAASPP assessment data — print.ca_assess_tidy","title":"Print tidy CAASPP assessment data — print.ca_assess_tidy","text":"Print tidy CAASPP assessment data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/print.ca_assess_tidy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print tidy CAASPP assessment data — print.ca_assess_tidy","text":"","code":"# S3 method for class 'ca_assess_tidy' print(x, ...)"},{"path":"https://almartin82.github.io/caschooldata/reference/print.ca_assess_tidy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print tidy CAASPP assessment data — print.ca_assess_tidy","text":"x ca_assess_tidy object ... Additional arguments (ignored)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw CAASPP assessment data — process_assess","title":"Process raw CAASPP assessment data — process_assess","text":"Processes raw CAASPP research file data standardized schema. Cleans column names, standardizes data types, validates data quality.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw CAASPP assessment data — process_assess","text":"","code":"process_assess(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw CAASPP assessment data — process_assess","text":"raw_data Raw CAASPP data get_raw_assess() import_local_assess() end_year School year end (e.g., 2023 2022-23 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw CAASPP assessment data — process_assess","text":"tibble processed assessment data including columns: end_year: School year end (integer) cds_code: 14-digit CDS identifier (character) county_code: 2-digit county code (character) district_code: 5-digit district code (character) school_code: 7-digit school code (character) agg_level: Aggregation level (S=School, D=District, C=County, T=State) grade: Grade level (03, 04, 05, 06, 07, 08, 11, 13 grades) subject: Assessment subject (ELA Mathematics) student_group: Student group identifier test_id: Test identifier code mean_scale_score: Mean scale score (numeric) pct_exceeded: Percentage standard exceeded (numeric) pct_met: Percentage standard met (numeric) pct_met_and_above: Percentage standard met (numeric) pct_nearly_met: Percentage standard nearly met (numeric) pct_not_met: Percentage standard met (numeric) n_tested: Number students tested (integer) n_exceeded: Number standard exceeded (integer) n_met: Number standard met (integer) n_met_and_above: Number standard met (integer) n_nearly_met: Number standard nearly met (integer) n_not_met: Number standard met (integer)","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":"data-processing-steps-","dir":"Reference","previous_headings":"","what":"Data Processing Steps:","title":"Process raw CAASPP assessment data — process_assess","text":"Extract CDS code components (county, district, school) Determine aggregation level school code (0000000 = district summary) Clean standardize column names Convert data types (character numeric appropriate) Validate ranges (percentages 0-100, non-negative counts) Handle suppressed values (groups < 11 students)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":"data-quality-checks-","dir":"Reference","previous_headings":"","what":"Data Quality Checks:","title":"Process raw CAASPP assessment data — process_assess","text":"Inf NaN values numeric columns Percentages 0 100 Counts non-negative integers least state-level data exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_assess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Process raw CAASPP assessment data — process_assess","text":"","code":"if (FALSE) { # \\dontrun{ # Process raw assessment data raw <- get_raw_assess(2024) processed <- process_assess(raw$test_data, 2024)  # View processed data head(processed)  # Filter to state-level 11th grade ELA results library(dplyr) state_11_ela <- processed %>%   filter(agg_level == \"T\", grade == \"11\", subject == \"ELA\") } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw enrollment data to standard schema — process_enr","title":"Process raw enrollment data to standard schema — process_enr","text":"Takes raw enrollment data CDE standardizes column names, types, handles year-specific format differences. Uses modern processing 2024+ Census Day files historical processing 2017-2023 files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw enrollment data to standard schema — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw enrollment data to standard schema — process_enr","text":"raw_data Raw data frame get_raw_enr() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw enrollment data to standard schema — process_enr","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Process historical format (1982-2023) CDE data — process_enr_historical","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"Historical files contain school-level data race/ethnicity gender breakdown. function aggregates data create reporting categories similar modern format synthesizes district/county/state aggregates.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"","code":"process_enr_historical(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"raw_data Raw data frame get_raw_enr_historical() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"File format varies era: 2015-2023: names, ENR_TYPE column, numeric race codes 0-9 2008-2014: names, ENR_TYPE, numeric race codes 0-9 1994-2007: names (just CDS_CODE), numeric race codes 1-8 1982-1993: names (DISTRICT_NAME, SCHOOL_NAME), letter race codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":null,"dir":"Reference","previous_headings":"","what":"Process modern Census Day format (2024+) CDE data — process_enr_modern","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"Process modern Census Day format (2024+) CDE data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"","code":"process_enr_modern(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"raw_data Raw data frame get_raw_enr_modern() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw graduation data into standard schema — process_graduation","title":"Process raw graduation data into standard schema — process_graduation","text":"Transforms raw CDE graduation data standardized schema used package. Converts record types, parses CDS codes, maps student groups, standardizes column names.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw graduation data into standard schema — process_graduation","text":"","code":"process_graduation(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw graduation data into standard schema — process_graduation","text":"raw_data Data frame get_raw_graduation() end_year School year end","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw graduation data into standard schema — process_graduation","text":"Processed data frame standardized columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"CDE uses asterisks (*) suppressed data cell size 10 fewer.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/summarize_proficiency.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate assessment proficiency summary — summarize_proficiency","title":"Calculate assessment proficiency summary — summarize_proficiency","text":"Creates summary table proficiency metrics easy comparison.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/summarize_proficiency.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate assessment proficiency summary — summarize_proficiency","text":"","code":"summarize_proficiency(data, metric = \"pct_met_and_above\")"},{"path":"https://almartin82.github.io/caschooldata/reference/summarize_proficiency.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate assessment proficiency summary — summarize_proficiency","text":"data Tidy assessment data metric Performance metric summarize (default: \"pct_met_and_above\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/summarize_proficiency.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate assessment proficiency summary — summarize_proficiency","text":"Summary tibble proficiency rates entity, grade, subject","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/summarize_proficiency.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate assessment proficiency summary — summarize_proficiency","text":"","code":"if (FALSE) { # \\dontrun{ library(dplyr)  # Summarize state proficiency rates tidy <- tidy_assess(processed_data) %>%   id_assess_aggs()  state_summary <- summarize_proficiency(tidy, \"pct_met_and_above\") %>%   filter(is_state)  # Compare 11th grade ELA vs Math comparison <- tidy %>%   filter(grade == \"11\",          agg_level == \"T\") %>%   summarize_proficiency(\"pct_met_and_above\") %>%   select(grade, subject, metric_value) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy CAASPP assessment data — tidy_assess","title":"Tidy CAASPP assessment data — tidy_assess","text":"Converts processed CAASPP assessment data wide format tidy (long) format. Pivots performance metrics separate rows easier analysis.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy CAASPP assessment data — tidy_assess","text":"","code":"tidy_assess(processed_data)"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy CAASPP assessment data — tidy_assess","text":"processed_data Processed assessment data process_assess()","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy CAASPP assessment data — tidy_assess","text":"tibble tidy format columns: end_year: School year end cds_code: 14-digit CDS identifier county_code, district_code, school_code: CDS components agg_level: Aggregation level (S/D/C/T) grade: Grade level (03-11 13) subject: Assessment subject (ELA/Math) metric_type: Type metric (mean_scale_score, pct_exceeded, etc.) metric_value: Value metric","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":"tidy-format-structure-","dir":"Reference","previous_headings":"","what":"Tidy Format Structure:","title":"Tidy CAASPP assessment data — tidy_assess","text":"tidy format converts performance metrics separate columns rows, making easier : Filter plot metric type Compare metrics across years Calculate differences metrics Join datasets","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":"metric-types-","dir":"Reference","previous_headings":"","what":"Metric Types:","title":"Tidy CAASPP assessment data — tidy_assess","text":"mean_scale_score: Average scale score test pct_exceeded: Percentage students exceeded standard pct_met: Percentage students met standard pct_met_and_above: Percentage met exceeded standard pct_nearly_met: Percentage nearly met standard pct_not_met: Percentage meet standard n_tested: Number students tested n_exceeded: Number students exceeded standard n_met: Number students met standard n_met_and_above: Number met exceeded standard n_nearly_met: Number students nearly met standard n_not_met: Number students meet standard","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_assess.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tidy CAASPP assessment data — tidy_assess","text":"","code":"if (FALSE) { # \\dontrun{ library(dplyr)  # Process and tidy assessment data raw <- get_raw_assess(2023) processed <- process_assess(raw$test_data, 2023) tidy <- tidy_assess(processed)  # Filter to state-level proficiency rates state_proficiency <- tidy %>%   filter(agg_level == \"T\",          metric_type %in% c(\"pct_met_and_above\", \"pct_exceeded\"))  # Compare ELA vs Math performance subject_comparison <- tidy %>%   filter(agg_level == \"T\",          grade == \"11\",          metric_type == \"pct_met_and_above\") %>%   select(grade, subject, metric_value) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert enrollment data to tidy format — tidy_enr","title":"Convert enrollment data to tidy format — tidy_enr","text":"Pivots enrollment data wide format (one column per grade) long format grade column. Also handles reporting_category column already contains demographic subgroups.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert enrollment data to tidy format — tidy_enr","text":"","code":"tidy_enr(wide_data)"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert enrollment data to tidy format — tidy_enr","text":"wide_data Data frame wide format process_enr()","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert enrollment data to tidy format — tidy_enr","text":"Tidy data frame grade subgroup columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert enrollment data to tidy format — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get wide format and then tidy wide <- fetch_enr(2024, tidy = FALSE) tidy <- tidy_enr(wide) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_graduation.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy graduation data — tidy_graduation","title":"Tidy graduation data — tidy_graduation","text":"Transforms processed graduation data ensure consistent long format. processed data already long format processing, function primarily validates ensures schema consistency.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_graduation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy graduation data — tidy_graduation","text":"","code":"tidy_graduation(df)"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_graduation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy graduation data — tidy_graduation","text":"df processed graduation data frame process_graduation()","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_graduation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy graduation data — tidy_graduation","text":"long data frame tidied graduation data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(data, end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"data Data frame cache end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
