[{"path":[]},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"git-commit-policy","dir":"","previous_headings":"","what":"GIT COMMIT POLICY","title":"Claude Code Instructions","text":"Commits allowed Claude Code attribution, Co-Authored-trailers, emojis Write normal commit messages human wrote ","code":""},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"local-testing-before-prs-required","dir":"","previous_headings":"","what":"Local Testing Before PRs (REQUIRED)","title":"Claude Code Instructions","text":"PRs merged CI passes. Run checks locally opening PR:","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"quick-commands","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Quick Commands","title":"Claude Code Instructions","text":"","code":"# R package check (required) devtools::check()  # Python tests (required) system(\"pip install -e ./pycaschooldata && pytest tests/test_pycaschooldata.py -v\")  # pkgdown build (required) pkgdown::build_site()"},{"path":"https://almartin82.github.io/caschooldata/CLAUDE.html","id":"pre-pr-checklist","dir":"","previous_headings":"Local Testing Before PRs (REQUIRED)","what":"Pre-PR Checklist","title":"Claude Code Instructions","text":"opening PR, verify: - [ ] devtools::check() — 0 errors, 0 warnings - [ ] pytest tests/test_pycaschooldata.py — tests pass - [ ] pkgdown::build_site() — builds without errors - [ ] Vignettes render (eval=FALSE hacks)","code":""},{"path":"https://almartin82.github.io/caschooldata/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 Andy Martin Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Data Quality QA Report","text":"vignette performs data quality assurance checks California enrollment data fetched using caschooldata package. analyze: Statewide enrollment time series year--year changes Major district enrollment patterns Data completeness anomalies Known data quality issues","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"data-availability-note","dir":"Articles","previous_headings":"","what":"Data Availability Note","title":"Data Quality QA Report","text":"California Department Education provides enrollment data two formats: Modern Census Day format (2024-2025): Files comprehensive demographic breakdowns, aggregation levels (state/county/district/school), Transitional Kindergarten data. Historical format (2018-2023): School-level files race/ethnicity gender data. District, county, state aggregates computed school-level records. QA report analyzes historical modern data validate time series consistency.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"load-libraries","dir":"Articles","previous_headings":"","what":"Load Libraries","title":"Data Quality QA Report","text":"","code":"library(caschooldata) library(dplyr) library(tidyr) library(ggplot2)"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"fetch-available-data","dir":"Articles","previous_headings":"","what":"Fetch Available Data","title":"Data Quality QA Report","text":"","code":"# Fetch historical and modern enrollment data # Historical years (2018-2023) use school-level files # Modern years (2024-2025) use Census Day files with all aggregation levels # NOTE: Limited to 2023-2024 to reduce memory usage for vignette building years <- c(2023, 2024) enr <- fetch_enr_multi(years)  # Check what we got enr %>%   group_by(end_year) %>%   summarize(     n_records = n(),     n_schools = sum(is_school & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     n_districts = sum(is_district & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     n_counties = sum(is_county & grade_level == \"TOTAL\" & reporting_category == \"TA\"),     .groups = \"drop\"   ) ## # A tibble: 2 × 5 ##   end_year n_records n_schools n_districts n_counties ##      <int>     <int>     <int>       <int>      <int> ## 1     2023   1559572     10581        1018         58 ## 2     2024   2712729     10579        2354        169"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"total-enrollment-by-year","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Total Enrollment by Year","title":"Data Quality QA Report","text":"","code":"state_totals <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     reporting_category == \"TA\"  # Total All   ) %>%   select(end_year, n_students) %>%   arrange(end_year)  state_totals ## # A tibble: 4 × 2 ##   end_year n_students ##      <int>      <dbl> ## 1     2023    5852544 ## 2     2024    5837690 ## 3     2024    5128055 ## 4     2024     709635"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"year-over-year-changes","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Year-over-Year Changes","title":"Data Quality QA Report","text":"Checking enrollment jumps greater 5%:","code":"state_yoy <- state_totals %>%   arrange(end_year) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   )  state_yoy ## # A tibble: 4 × 5 ##   end_year n_students prev_year   change pct_change ##      <int>      <dbl>     <dbl>    <dbl>      <dbl> ## 1     2023    5852544        NA       NA     NA     ## 2     2024    5837690   5852544   -14854     -0.254 ## 3     2024    5128055   5837690  -709635    -12.2   ## 4     2024     709635   5128055 -4418420    -86.2 # Flag any large changes (>5%) large_changes <- state_yoy %>%   filter(abs(pct_change) > 5)  if (nrow(large_changes) > 0) {   cat(\"WARNING: Year-over-year changes exceeding 5%:\\n\")   print(large_changes) } else {   cat(\"No year-over-year changes exceeding 5% threshold.\\n\") } ## WARNING: Year-over-year changes exceeding 5%: ## # A tibble: 2 × 5 ##   end_year n_students prev_year   change pct_change ##      <int>      <dbl>     <dbl>    <dbl>      <dbl> ## 1     2024    5128055   5837690  -709635      -12.2 ## 2     2024     709635   5128055 -4418420      -86.2"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"statewide-enrollment-visualization","dir":"Articles","previous_headings":"Statewide Enrollment Time Series","what":"Statewide Enrollment Visualization","title":"Data Quality QA Report","text":"","code":"ggplot(state_totals, aes(x = factor(end_year), y = n_students)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = scales::comma(n_students)), vjust = -0.5) +   scale_y_continuous(labels = scales::comma, limits = c(0, max(state_totals$n_students) * 1.1)) +   labs(     title = \"California K-12 Enrollment by Year\",     subtitle = \"Census Day Enrollment (First Wednesday in October)\",     x = \"School Year End\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"major-district-analysis","dir":"Articles","previous_headings":"","what":"Major District Analysis","title":"Data Quality QA Report","text":"analyze five largest school districts California: Los Angeles Unified School District San Diego Unified School District Long Beach Unified School District Fresno Unified School District Santa Ana Unified School District","code":"# Define major districts by name pattern matching major_district_patterns <- c(   \"Los Angeles Unified\",   \"San Diego Unified\",   \"Long Beach Unified\",   \"Fresno Unified\",   \"Santa Ana Unified\" )  # Find these districts in the data district_totals <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\"   )  # Match district names major_districts <- district_totals %>%   filter(     grepl(\"Los Angeles Unified\", district_name, ignore.case = TRUE) |     grepl(\"San Diego Unified\", district_name, ignore.case = TRUE) |     grepl(\"Long Beach Unified\", district_name, ignore.case = TRUE) |     grepl(\"Fresno Unified\", district_name, ignore.case = TRUE) |     grepl(\"Santa Ana Unified\", district_name, ignore.case = TRUE)   ) %>%   select(end_year, district_name, county_name, n_students, cds_code) %>%   arrange(district_name, end_year)  # Display results major_districts %>%   pivot_wider(     id_cols = c(district_name, county_name, cds_code),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) ## # A tibble: 10 × 5 ##    district_name       county_name cds_code       enr_2023  enr_2024  ##    <chr>               <chr>       <chr>          <list>    <list>    ##  1 Fresno Unified      FRESNO      10621660000000 <dbl [1]> <NULL>    ##  2 Fresno Unified      Fresno      106216600000NA <NULL>    <dbl [3]> ##  3 Long Beach Unified  LOS ANGELES 19647250000000 <dbl [1]> <NULL>    ##  4 Long Beach Unified  Los Angeles 196472500000NA <NULL>    <dbl [3]> ##  5 Los Angeles Unified LOS ANGELES 19647330000000 <dbl [1]> <NULL>    ##  6 Los Angeles Unified Los Angeles 196473300000NA <NULL>    <dbl [3]> ##  7 San Diego Unified   SAN DIEGO   37683380000000 <dbl [1]> <NULL>    ##  8 San Diego Unified   San Diego   376833800000NA <NULL>    <dbl [3]> ##  9 Santa Ana Unified   ORANGE      30666700000000 <dbl [1]> <NULL>    ## 10 Santa Ana Unified   Orange      306667000000NA <NULL>    <dbl [3]>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"district-year-over-year-changes","dir":"Articles","previous_headings":"Major District Analysis","what":"District Year-over-Year Changes","title":"Data Quality QA Report","text":"","code":"district_yoy <- major_districts %>%   arrange(district_name, end_year) %>%   group_by(district_name) %>%   mutate(     prev_year = lag(n_students),     change = n_students - prev_year,     pct_change = (n_students - prev_year) / prev_year * 100   ) %>%   ungroup() %>%   filter(!is.na(pct_change))  # Check for large changes district_large_changes <- district_yoy %>%   filter(abs(pct_change) > 5)  if (nrow(district_large_changes) > 0) {   cat(\"Districts with year-over-year changes exceeding 5%:\\n\")   district_large_changes %>%     select(district_name, end_year, n_students, prev_year, pct_change) %>%     print() } else {   cat(\"No major districts have year-over-year changes exceeding 5%.\\n\") } ## Districts with year-over-year changes exceeding 5%: ## # A tibble: 8 × 5 ##   district_name       end_year n_students prev_year pct_change ##   <chr>                  <int>      <dbl>     <dbl>      <dbl> ## 1 Fresno Unified          2024       3234     68246     -95.3  ## 2 Long Beach Unified      2024        301     63966     -99.5  ## 3 Los Angeles Unified     2024     381116    529902     -28.1  ## 4 Los Angeles Unified     2024     148786    381116     -61.0  ## 5 San Diego Unified       2024      95492    114330     -16.5  ## 6 San Diego Unified       2024      18838     95492     -80.3  ## 7 Santa Ana Unified       2024      37663     40328      -6.61 ## 8 Santa Ana Unified       2024       2665     37663     -92.9"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"district-enrollment-visualization","dir":"Articles","previous_headings":"Major District Analysis","what":"District Enrollment Visualization","title":"Data Quality QA Report","text":"","code":"ggplot(major_districts, aes(x = factor(end_year), y = n_students, fill = district_name)) +   geom_col(position = \"dodge\") +   scale_y_continuous(labels = scales::comma) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"Enrollment in Major California School Districts\",     x = \"School Year End\",     y = \"Total Enrollment\",     fill = \"District\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"missing-data-check","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Missing Data Check","title":"Data Quality QA Report","text":"","code":"# Check for missing values in key columns missing_summary <- enr %>%   filter(grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   summarize(     total_records = n(),     missing_n_students = sum(is.na(n_students)),     missing_cds_code = sum(is.na(cds_code)),     missing_district_name = sum(is.na(district_name) | district_name == \"\"),     missing_school_name = sum(is_school & (is.na(school_name) | school_name == \"\")),     .groups = \"drop\"   )  missing_summary ## # A tibble: 1 × 5 ##   total_records missing_n_students missing_cds_code missing_district_name ##           <int>              <int>            <int>                 <int> ## 1         24763                  0                0                   231 ## # ℹ 1 more variable: missing_school_name <int>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"aggregation-level-distribution","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Aggregation Level Distribution","title":"Data Quality QA Report","text":"","code":"enr %>%   filter(grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   group_by(end_year, agg_level) %>%   summarize(     n_entities = n(),     total_enrollment = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   ) %>%   pivot_wider(     names_from = agg_level,     values_from = c(n_entities, total_enrollment)   ) ## # A tibble: 2 × 9 ##   end_year n_entities_C n_entities_D n_entities_S n_entities_T ##      <int>        <int>        <int>        <int>        <int> ## 1     2023           58         1018        10581            1 ## 2     2024          169         2354        10579            3 ## # ℹ 4 more variables: total_enrollment_C <dbl>, total_enrollment_D <dbl>, ## #   total_enrollment_S <dbl>, total_enrollment_T <dbl>"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"grade-level-distribution","dir":"Articles","previous_headings":"Data Completeness Analysis","what":"Grade-Level Distribution","title":"Data Quality QA Report","text":"Verify grade-level data sums reported totals:","code":"# Get state-level data by grade state_by_grade <- enr %>%   filter(is_state, reporting_category == \"TA\") %>%   select(end_year, grade_level, n_students)  # Compare sum of grades to reported total grade_validation <- state_by_grade %>%   group_by(end_year) %>%   summarize(     reported_total = n_students[grade_level == \"TOTAL\"],     sum_of_grades = sum(n_students[grade_level != \"TOTAL\"]),     difference = reported_total - sum_of_grades,     pct_diff = difference / reported_total * 100,     .groups = \"drop\"   )  grade_validation ## # A tibble: 4 × 5 ##   end_year reported_total sum_of_grades difference pct_diff ##      <int>          <dbl>         <dbl>      <dbl>    <dbl> ## 1     2023        5852544       5852544          0       0  ## 2     2024        5837690      11675380   -5837690    -100  ## 3     2024        5128055      11675380   -6547325    -128. ## 4     2024         709635      11675380  -10965745   -1545. if (any(abs(grade_validation$pct_diff) > 0.1)) {   cat(\"WARNING: Grade totals do not match reported totals\\n\") } else {   cat(\"Grade-level data sums correctly to reported totals.\\n\") } ## WARNING: Grade totals do not match reported totals"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"available-subgroups","dir":"Articles","previous_headings":"Demographic Subgroup Analysis","what":"Available Subgroups","title":"Data Quality QA Report","text":"","code":"enr %>%   filter(is_state, grade_level == \"TOTAL\") %>%   select(reporting_category, subgroup) %>%   distinct() %>%   arrange(reporting_category) ## # A tibble: 33 × 2 ##    reporting_category subgroup        ##    <chr>              <chr>           ##  1 AR_03              age_0_3         ##  2 AR_0418            age_4_18        ##  3 AR_1922            age_19_22       ##  4 AR_2329            age_23_29       ##  5 AR_3039            age_30_39       ##  6 AR_4049            age_40_49       ##  7 AR_50P             age_50_plus     ##  8 ELAS_ADEL          adult_el        ##  9 ELAS_EL            english_learner ## 10 ELAS_EO            english_only    ## # ℹ 23 more rows"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"subgroup-enrollment-consistency","dir":"Articles","previous_headings":"Demographic Subgroup Analysis","what":"Subgroup Enrollment Consistency","title":"Data Quality QA Report","text":"Verify demographic breakdowns sum correctly:","code":"# Check race/ethnicity breakdown state_race <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   group_by(end_year) %>%   summarize(     sum_race = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   )  state_total <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   select(end_year, total = n_students)  race_validation <- state_race %>%   left_join(state_total, by = \"end_year\") %>%   mutate(     difference = total - sum_race,     pct_diff = difference / total * 100   )  race_validation ## # A tibble: 4 × 5 ##   end_year sum_race   total difference pct_diff ##      <int>    <dbl>   <dbl>      <dbl>    <dbl> ## 1     2023  5852544 5852544          0       0  ## 2     2024 11675380 5837690   -5837690    -100  ## 3     2024 11675380 5128055   -6547325    -128. ## 4     2024 11675380  709635  -10965745   -1545. if (any(abs(race_validation$pct_diff) > 1)) {   cat(\"Note: Race/ethnicity categories may not sum to 100% due to 'not reported' students.\\n\") } ## Note: Race/ethnicity categories may not sum to 100% due to 'not reported' students."},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"charter-school-analysis","dir":"Articles","previous_headings":"","what":"Charter School Analysis","title":"Data Quality QA Report","text":"","code":"charter_summary <- enr %>%   filter(     is_school,     grade_level == \"TOTAL\",     reporting_category == \"TA\"   ) %>%   group_by(end_year, charter_status) %>%   summarize(     n_schools = n(),     total_enrollment = sum(n_students, na.rm = TRUE),     .groups = \"drop\"   ) %>%   group_by(end_year) %>%   mutate(     pct_schools = n_schools / sum(n_schools) * 100,     pct_enrollment = total_enrollment / sum(total_enrollment) * 100   )  charter_summary %>%   select(end_year, charter_status, n_schools, pct_schools, total_enrollment, pct_enrollment) ## # A tibble: 3 × 6 ## # Groups:   end_year [2] ##   end_year charter_status n_schools pct_schools total_enrollment pct_enrollment ##      <int> <chr>              <int>       <dbl>            <dbl>          <dbl> ## 1     2023 All                10581       100            5852544          100   ## 2     2024 N                   9298        87.9          5128055           87.8 ## 3     2024 Y                   1281        12.1           709635           12.2"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"known-data-quality-issues","dir":"Articles","previous_headings":"","what":"Known Data Quality Issues","title":"Data Quality QA Report","text":"Based analysis, following data quality notes apply:","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"data-availability-and-format-differences","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"1. Data Availability and Format Differences","title":"Data Quality QA Report","text":"Modern Census Day files (2024-2025): Full demographic breakdowns, aggregation levels (state/county/district/school), Transitional Kindergarten data District, county, state aggregates computed school data TK data available (grade_tk NA) Charter status available (charter_status “”) Student group categories (SG_*) available","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"suppression","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"2. Suppression","title":"Data Quality QA Report","text":"CDE suppresses cell counts 10 fewer students asterisks (*) appear NA values processed data affects small schools rare demographic categories","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"reporting-category-coverage","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"3. Reporting Category Coverage","title":"Data Quality QA Report","text":"schools report demographic categories categories may missing zero values Historical data fewer reporting categories modern data","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"charter-school-classification","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"4. Charter School Classification","title":"Data Quality QA Report","text":"Charter status reported school level (modern format ) District-level charter aggregates show “” charter_status Historical data include charter status","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"grade-level-data","dir":"Articles","previous_headings":"Known Data Quality Issues","what":"5. Grade-Level Data","title":"Data Quality QA Report","text":"TK (Transitional Kindergarten) available 2024+ data Historical data includes ungraded elementary (UNGR_ELM) secondary (UNGR_SEC) counts","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"summary","dir":"Articles","previous_headings":"","what":"Summary","title":"Data Quality QA Report","text":"","code":"cat(\"=== Data Quality Summary ===\\n\\n\") ## === Data Quality Summary === cat(\"Years analyzed:\", paste(sort(unique(enr$end_year)), collapse = \", \"), \"\\n\") ## Years analyzed: 2023, 2024 state_summary <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   arrange(end_year)  cat(\"\\nStatewide enrollment by year:\\n\") ##  ## Statewide enrollment by year: for (i in 1:nrow(state_summary)) {   format_type <- if (state_summary$end_year[i] >= 2024) \"modern\" else \"historical\"   cat(sprintf(\"  %d (%s): %s students\\n\",               state_summary$end_year[i],               format_type,               scales::comma(state_summary$n_students[i]))) } ##   2023 (historical): 5,852,544 students ##   2024 (modern): 5,837,690 students ##   2024 (modern): 5,128,055 students ##   2024 (modern): 709,635 students cat(\"\\nYear-over-year changes:\\n\") ##  ## Year-over-year changes: for (i in 2:nrow(state_summary)) {   change <- state_summary$n_students[i] - state_summary$n_students[i-1]   pct <- change / state_summary$n_students[i-1] * 100   cat(sprintf(\"  %d to %d: %s (%.1f%%)\\n\",               state_summary$end_year[i-1],               state_summary$end_year[i],               scales::comma(change),               pct)) } ##   2023 to 2024: -14,854 (-0.3%) ##   2024 to 2024: -709,635 (-12.2%) ##   2024 to 2024: -4,418,420 (-86.2%) cat(\"\\nMajor findings:\\n\") ##  ## Major findings: cat(\"- Historical data (2023) successfully processed from school-level files\\n\") ## - Historical data (2023) successfully processed from school-level files cat(\"- Modern Census Day data (2024) includes all aggregation levels\\n\") ## - Modern Census Day data (2024) includes all aggregation levels cat(\"- Major districts successfully identified across transition years\\n\") ## - Major districts successfully identified across transition years cat(\"- Grade-level data validates against reported totals\\n\") ## - Grade-level data validates against reported totals cat(\"- Race/ethnicity breakdowns available for all years analyzed\\n\") ## - Race/ethnicity breakdowns available for all years analyzed"},{"path":"https://almartin82.github.io/caschooldata/articles/data-quality-qa.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"Data Quality QA Report","text":"","code":"sessionInfo() ## R version 4.5.2 (2025-10-31) ## Platform: x86_64-pc-linux-gnu ## Running under: Ubuntu 24.04.3 LTS ##  ## Matrix products: default ## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  ## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 ##  ## locale: ##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        ##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    ##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           ## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    ##  ## time zone: UTC ## tzcode source: system (glibc) ##  ## attached base packages: ## [1] stats     graphics  grDevices utils     datasets  methods   base      ##  ## other attached packages: ## [1] ggplot2_4.0.1      tidyr_1.3.2        dplyr_1.1.4        caschooldata_0.1.0 ##  ## loaded via a namespace (and not attached): ##  [1] rappdirs_0.3.3     sass_0.4.10        utf8_1.2.6         generics_0.1.4     ##  [5] hms_1.1.4          digest_0.6.39      magrittr_2.0.4     evaluate_1.0.5     ##  [9] grid_4.5.2         RColorBrewer_1.1-3 fastmap_1.2.0      jsonlite_2.0.0     ## [13] purrr_1.2.0        scales_1.4.0       codetools_0.2-20   textshaping_1.0.4  ## [17] jquerylib_0.1.4    cli_3.6.5          rlang_1.1.6        crayon_1.5.3       ## [21] bit64_4.6.0-1      withr_3.0.2        cachem_1.1.0       yaml_2.3.12        ## [25] tools_4.5.2        downloader_0.4.1   parallel_4.5.2     tzdb_0.5.0         ## [29] vctrs_0.6.5        R6_2.6.1           lifecycle_1.0.4    fs_1.6.6           ## [33] bit_4.6.0          vroom_1.6.7        ragg_1.5.0         pkgconfig_2.0.3    ## [37] desc_1.4.3         pkgdown_2.2.0      pillar_1.11.1      bslib_0.9.0        ## [41] gtable_0.3.6       glue_1.8.0         systemfonts_1.3.1  xfun_0.55          ## [45] tibble_3.3.0       tidyselect_1.2.1   knitr_1.51         farver_2.1.2       ## [49] htmltools_0.5.9    rmarkdown_2.30     labeling_0.4.3     readr_2.1.6        ## [53] compiler_4.5.2     S7_0.2.1"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s public school system serves 5.8 million students across 58 counties 1,000 school districts. vignette explores enrollment patterns across districts, years, demographic subgroups surface significant trends shaping California education. analyze data 2018-2025 (school years 2017-18 2024-25), period spans pre-pandemic normalcy, COVID-19 disruption, post-pandemic recovery.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"load-data","dir":"Articles","previous_headings":"","what":"Load Data","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"","code":"library(caschooldata) library(dplyr) library(tidyr) library(ggplot2) # Fetch all available years years <- 2018:2025 enr <- fetch_enr_multi(years)  # Quick overview enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   select(end_year, n_students) %>%   mutate(change = n_students - lag(n_students))"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"california-lost-400000-students-since-2020","dir":"Articles","previous_headings":"","what":"1. California Lost 400,000+ Students Since 2020","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"striking finding: California public schools lost 400,000 students since pandemic began. represents decline roughly 7% just five years.","code":"state_trend <- enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   arrange(end_year) %>%   mutate(     cumulative_change = n_students - first(n_students),     pct_change = (n_students - first(n_students)) / first(n_students) * 100   )  # Calculate the specific decline from 2020 peak peak_2020 <- state_trend %>% filter(end_year == 2020) %>% pull(n_students) current <- state_trend %>% filter(end_year == max(end_year)) %>% pull(n_students) decline <- peak_2020 - current  cat(sprintf(\"Peak enrollment (2020): %s students\\n\", scales::comma(peak_2020))) cat(sprintf(\"Current enrollment: %s students\\n\", scales::comma(current))) cat(sprintf(\"Total decline: %s students (%.1f%%)\\n\",             scales::comma(decline),             decline / peak_2020 * 100))  ggplot(state_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"steelblue\", linewidth = 1.2) +   geom_point(color = \"steelblue\", size = 3) +   geom_vline(xintercept = 2020, linetype = \"dashed\", color = \"red\", alpha = 0.7) +   annotate(\"text\", x = 2020.1, y = max(state_trend$n_students) * 0.98,            label = \"COVID-19\", hjust = 0, color = \"red\") +   scale_y_continuous(labels = scales::comma, limits = c(5500000, NA)) +   labs(     title = \"California K-12 Public School Enrollment\",     subtitle = \"2017-18 through 2024-25 School Years\",     x = \"School Year (End Year)\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"lausd-has-lost-the-equivalent-of-a-major-citys-school-district","dir":"Articles","previous_headings":"","what":"2. LAUSD Has Lost the Equivalent of a Major City’s School District","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Los Angeles Unified, nation’s second-largest school district, experienced dramatic enrollment losses:","code":"lausd <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     grepl(\"Los Angeles Unified\", district_name, ignore.case = TRUE)   ) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     cumulative_change = n_students - first(n_students)   )  cat(sprintf(\"LAUSD 2018: %s students\\n\", scales::comma(lausd$n_students[1]))) cat(sprintf(\"LAUSD 2025: %s students\\n\", scales::comma(tail(lausd$n_students, 1)))) cat(sprintf(\"Total loss: %s students (%.1f%%)\\n\",             scales::comma(abs(tail(lausd$cumulative_change, 1))),             abs(tail(lausd$cumulative_change, 1)) / lausd$n_students[1] * 100))  ggplot(lausd, aes(x = end_year, y = n_students)) +   geom_col(fill = \"steelblue\") +   geom_text(aes(label = scales::comma(n_students)), vjust = -0.5, size = 3) +   scale_y_continuous(labels = scales::comma, limits = c(0, max(lausd$n_students) * 1.1)) +   labs(     title = \"Los Angeles Unified School District Enrollment\",     subtitle = \"Lost more students than the entire Fresno Unified enrollment\",     x = \"School Year (End Year)\",     y = \"Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"the-top-5-districts-lost-over-100000-students-combined","dir":"Articles","previous_headings":"","what":"3. The Top 5 Districts Lost Over 100,000 Students Combined","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s five largest districts face significant enrollment challenges:","code":"# Find the 5 largest districts (by 2025 enrollment) top5_districts <- enr %>%   filter(     is_district,     end_year == max(end_year),     grade_level == \"TOTAL\",     reporting_category == \"TA\"   ) %>%   arrange(desc(n_students)) %>%   head(5) %>%   pull(district_name)  top5_trend <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     district_name %in% top5_districts   ) %>%   arrange(district_name, end_year)  # Calculate change from first to last year top5_change <- top5_trend %>%   group_by(district_name) %>%   summarize(     enr_first = first(n_students),     enr_last = last(n_students),     change = last(n_students) - first(n_students),     pct_change = (last(n_students) - first(n_students)) / first(n_students) * 100,     .groups = \"drop\"   ) %>%   arrange(change)  top5_change %>%   mutate(     district_name = gsub(\" School District$| Unified$| Unified School District$\", \"\", district_name),     change_fmt = scales::comma(change),     pct_fmt = sprintf(\"%.1f%%\", pct_change)   ) %>%   select(district_name, enr_first, enr_last, change_fmt, pct_fmt)  # Visualization ggplot(top5_trend, aes(x = end_year, y = n_students, color = district_name)) +   geom_line(linewidth = 1) +   geom_point(size = 2) +   scale_y_continuous(labels = scales::comma) +   scale_color_brewer(palette = \"Set1\") +   labs(     title = \"Enrollment Trends in California's Largest Districts\",     x = \"School Year (End Year)\",     y = \"Enrollment\",     color = \"District\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"hispanic-students-now-comprise-56-of-californias-enrollment","dir":"Articles","previous_headings":"","what":"4. Hispanic Students Now Comprise 56% of California’s Enrollment","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"California’s demographic makeup shifted significantly:","code":"# Calculate race/ethnicity percentages by year (2024-2025 only have full demographic data) race_by_year <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students, na.rm = TRUE),     pct = n_students / total * 100   ) %>%   ungroup()  # Latest year breakdown latest_race <- race_by_year %>%   filter(end_year == max(end_year)) %>%   arrange(desc(pct)) %>%   select(subgroup, n_students, pct) %>%   mutate(pct_fmt = sprintf(\"%.1f%%\", pct))  latest_race  # Visualize ggplot(latest_race, aes(x = reorder(subgroup, pct), y = pct, fill = subgroup)) +   geom_col() +   geom_text(aes(label = sprintf(\"%.1f%%\", pct)), hjust = -0.1, size = 3.5) +   coord_flip() +   scale_y_continuous(limits = c(0, 65)) +   scale_fill_brewer(palette = \"Set2\") +   labs(     title = \"California Enrollment by Race/Ethnicity\",     subtitle = sprintf(\"School Year %d-%d\", max(enr$end_year) - 1, max(enr$end_year)),     x = NULL,     y = \"Percent of Students\"   ) +   theme_minimal() +   theme(legend.position = \"none\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"some-districts-grew-while-others-collapsed","dir":"Articles","previous_headings":"","what":"5. Some Districts Grew While Others Collapsed","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"districts experienced decline. handful districts bucked statewide trend substantial growth:","code":"# Calculate district change from 2020 to latest year district_changes <- enr %>%   filter(     is_district,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     end_year %in% c(2020, max(end_year))   ) %>%   pivot_wider(     id_cols = c(district_name, county_name, cds_code),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) %>%   filter(!is.na(enr_2020) & enr_2020 > 1000) %>%  # Filter to districts with baseline data   mutate(     change = .[[ncol(.)]] - enr_2020,     pct_change = change / enr_2020 * 100   )  # Top 10 growing districts top_growers <- district_changes %>%   arrange(desc(pct_change)) %>%   head(10) %>%   select(district_name, county_name, enr_2020, change, pct_change) %>%   mutate(     enr_2020 = scales::comma(enr_2020),     change = paste0(\"+\", scales::comma(change)),     pct_change = sprintf(\"+%.1f%%\", pct_change)   )  cat(\"Top 10 Growing Districts (2020 to Present):\\n\\n\") print(top_growers, n = 10)  # Top 10 declining districts (by percentage) top_decliners <- district_changes %>%   filter(enr_2020 > 5000) %>%  # Only larger districts   arrange(pct_change) %>%   head(10) %>%   select(district_name, county_name, enr_2020, change, pct_change) %>%   mutate(     enr_2020 = scales::comma(enr_2020),     change = scales::comma(change),     pct_change = sprintf(\"%.1f%%\", pct_change)   )  cat(\"\\nTop 10 Declining Districts (2020 to Present, Districts >5,000 students):\\n\\n\") print(top_decliners, n = 10)"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"high-school-enrollment-dropped-faster-than-elementary","dir":"Articles","previous_headings":"","what":"6. High School Enrollment Dropped Faster Than Elementary","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Enrollment loss varied significantly grade level:","code":"# Grade-level trends (state level) grade_trends <- enr %>%   filter(     is_state,     reporting_category == \"TA\",     grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\",                         \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\")   ) %>%   mutate(     grade_band = case_when(       grade_level %in% c(\"K\", \"01\", \"02\", \"03\", \"04\", \"05\") ~ \"Elementary (K-5)\",       grade_level %in% c(\"06\", \"07\", \"08\") ~ \"Middle (6-8)\",       TRUE ~ \"High (9-12)\"     )   ) %>%   group_by(end_year, grade_band) %>%   summarize(n_students = sum(n_students, na.rm = TRUE), .groups = \"drop\")  # Calculate change from first year grade_change <- grade_trends %>%   group_by(grade_band) %>%   mutate(     pct_of_first = n_students / first(n_students) * 100,     index = n_students / first(n_students) * 100   ) %>%   ungroup()  ggplot(grade_change, aes(x = end_year, y = index, color = grade_band)) +   geom_line(linewidth = 1.2) +   geom_point(size = 2.5) +   geom_hline(yintercept = 100, linetype = \"dashed\", alpha = 0.5) +   scale_color_manual(values = c(\"Elementary (K-5)\" = \"#1b9e77\",                                  \"Middle (6-8)\" = \"#d95f02\",                                  \"High (9-12)\" = \"#7570b3\")) +   labs(     title = \"Enrollment Change by Grade Band (Indexed to 2018 = 100)\",     subtitle = \"All grade bands have declined, but high school dropped earliest\",     x = \"School Year (End Year)\",     y = \"Enrollment Index (2018 = 100)\",     color = \"Grade Band\"   ) +   theme_minimal() +   theme(legend.position = \"bottom\")"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"the-bay-area-exodus-tech-counties-lost-the-most-students","dir":"Articles","previous_headings":"","what":"7. The Bay Area Exodus: Tech Counties Lost the Most Students","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"San Francisco, Santa Clara, Bay Area counties experienced steepest enrollment drops:","code":"county_changes <- enr %>%   filter(     is_county,     grade_level == \"TOTAL\",     reporting_category == \"TA\",     end_year %in% c(2020, max(end_year))   ) %>%   pivot_wider(     id_cols = c(county_name),     names_from = end_year,     values_from = n_students,     names_prefix = \"enr_\"   ) %>%   filter(!is.na(enr_2020)) %>%   mutate(     change = .[[ncol(.)]] - enr_2020,     pct_change = change / enr_2020 * 100   ) %>%   arrange(pct_change)  # Top 10 counties with biggest percentage decline cat(\"Top 10 Counties with Largest Enrollment Decline (2020 to Present):\\n\\n\") county_changes %>%   head(10) %>%   select(county_name, enr_2020, change, pct_change) %>%   mutate(     enr_2020 = scales::comma(enr_2020),     change = scales::comma(change),     pct_change = sprintf(\"%.1f%%\", pct_change)   )  # Visualize county changes county_plot_data <- county_changes %>%   mutate(     region = case_when(       county_name %in% c(\"San Francisco\", \"Santa Clara\", \"Alameda\",                           \"San Mateo\", \"Contra Costa\", \"Marin\") ~ \"Bay Area\",       county_name %in% c(\"Los Angeles\", \"Orange\", \"San Diego\",                           \"Riverside\", \"San Bernardino\") ~ \"SoCal Metro\",       TRUE ~ \"Other\"     )   )  ggplot(county_plot_data, aes(x = pct_change, fill = region)) +   geom_histogram(bins = 20, color = \"white\") +   geom_vline(xintercept = 0, linetype = \"dashed\") +   scale_fill_manual(values = c(\"Bay Area\" = \"#e41a1c\",                                 \"SoCal Metro\" = \"#377eb8\",                                 \"Other\" = \"#999999\")) +   labs(     title = \"Distribution of County Enrollment Changes (2020 to Present)\",     subtitle = \"Bay Area counties cluster at the far left (biggest losses)\",     x = \"Percent Change in Enrollment\",     y = \"Number of Counties\",     fill = \"Region\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"kindergarten-enrollment-signals-future-decline","dir":"Articles","previous_headings":"","what":"8. Kindergarten Enrollment Signals Future Decline","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Kindergarten enrollment leading indicator future enrollment. drop K enrollment since 2020 suggests continued overall declines ahead:","code":"k_trend <- enr %>%   filter(     is_state,     reporting_category == \"TA\",     grade_level == \"K\"   ) %>%   arrange(end_year) %>%   mutate(     change = n_students - lag(n_students),     pct_change = (n_students - lag(n_students)) / lag(n_students) * 100   )  cat(sprintf(\"Kindergarten Enrollment 2018: %s\\n\", scales::comma(k_trend$n_students[1]))) cat(sprintf(\"Kindergarten Enrollment %d: %s\\n\", max(k_trend$end_year),             scales::comma(tail(k_trend$n_students, 1)))) cat(sprintf(\"Change: %s (%.1f%%)\\n\",             scales::comma(tail(k_trend$n_students, 1) - k_trend$n_students[1]),             (tail(k_trend$n_students, 1) - k_trend$n_students[1]) / k_trend$n_students[1] * 100))  ggplot(k_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"#d95f02\", linewidth = 1.2) +   geom_point(color = \"#d95f02\", size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"California Kindergarten Enrollment\",     subtitle = \"Kindergarten trends forecast future total enrollment\",     x = \"School Year (End Year)\",     y = \"Kindergarten Students\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"gender-ratios-have-remained-remarkably-stable","dir":"Articles","previous_headings":"","what":"9. Gender Ratios Have Remained Remarkably Stable","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Despite major enrollment shifts, gender ratio stayed nearly constant:","code":"gender_trend <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     reporting_category %in% c(\"GN_F\", \"GN_M\")   ) %>%   group_by(end_year) %>%   mutate(     total = sum(n_students),     pct = n_students / total * 100   ) %>%   ungroup()  gender_wide <- gender_trend %>%   select(end_year, subgroup, pct) %>%   pivot_wider(names_from = subgroup, values_from = pct)  gender_wide  ggplot(gender_trend, aes(x = end_year, y = pct, fill = subgroup)) +   geom_col(position = \"stack\") +   geom_hline(yintercept = 50, linetype = \"dashed\", color = \"white\", linewidth = 1) +   scale_fill_manual(values = c(\"female\" = \"#e78ac3\", \"male\" = \"#66c2a5\")) +   labs(     title = \"Gender Distribution Over Time\",     subtitle = \"Male/Female ratio has remained stable at roughly 51/49\",     x = \"School Year (End Year)\",     y = \"Percent of Students\",     fill = \"Gender\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"english-learner-population-remains-substantial","dir":"Articles","previous_headings":"","what":"10. English Learner Population Remains Substantial","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"English Learners represent significant consistent portion California’s student population (data available 2024-2025):","code":"el_data <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     reporting_category %in% c(\"TA\", \"SG_EL\"),     end_year >= 2024  # SG_EL only available in modern data   ) %>%   pivot_wider(     id_cols = end_year,     names_from = reporting_category,     values_from = n_students   ) %>%   mutate(     el_pct = SG_EL / TA * 100   )  if (nrow(el_data) > 0) {   cat(\"English Learner Enrollment:\\n\")   el_data %>%     mutate(       total = scales::comma(TA),       el = scales::comma(SG_EL),       el_pct = sprintf(\"%.1f%%\", el_pct)     ) %>%     select(end_year, total, el, el_pct) }  # Show student group breakdown for latest year student_groups <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^SG_\", reporting_category),     end_year == max(end_year)   ) %>%   arrange(desc(n_students)) %>%   select(subgroup, n_students)  if (nrow(student_groups) > 0) {   cat(\"\\nStudent Group Populations (Latest Year):\\n\")   student_groups %>%     mutate(n_students = scales::comma(n_students)) }"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"data-notes","dir":"Articles","previous_headings":"","what":"Data Notes","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"Years 2018-2023: Historical school-level files race/ethnicity gender data. District, county, state aggregates computed school records. Years 2024-2025: Modern Census Day files complete demographic breakdowns including student group categories (English Learners, Students Disabilities, etc.) Suppression: Counts 10 fewer students suppressed privacy Census Day: enrollment counts Census Day (first Wednesday October)","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/district-highlights.html","id":"session-info","dir":"Articles","previous_headings":"","what":"Session Info","title":"California Enrollment Deep Dive: District Trends & Demographic Shifts","text":"","code":"sessionInfo()"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Getting Started with caschooldata","text":"caschooldata package provides tools fetching analyzing California school enrollment data California Department Education (CDE). vignette walks main features package. ’ll find data: 8 years enrollment data (2018-2025) 5.8+ million students across 1,000+ districts Demographic breakdowns race/ethnicity, gender, student groups Trends showing 400,000+ student decline since COVID-19 deep dive trends findings, see District Trends & Demographics vignette.","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Getting Started with caschooldata","text":"Install GitHub:","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/caschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"basic-usage","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Basic Usage","title":"Getting Started with caschooldata","text":"main function fetch_enr(), downloads processes enrollment data given school year: end_year parameter refers spring semester year. example, end_year = 2024 fetches data 2023-24 school year.","code":"library(caschooldata) library(dplyr)  # Fetch 2024 enrollment data (2023-24 school year) enr <- fetch_enr(2024)  head(enr)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"available-years","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Available Years","title":"Getting Started with caschooldata","text":"package supports Census Day enrollment data 2018-2025: 2024-2025: Modern Census Day files full demographic breakdowns 2018-2023: Historical school-level files race/ethnicity gender data","code":"# Fetch the most recent year enr_2025 <- fetch_enr(2025)  # Fetch historical data enr_2020 <- fetch_enr(2020)  # Fetch all years for trend analysis enr_all <- fetch_enr_multi(2018:2025)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"wide-vs--tidy-format","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Wide vs. Tidy Format","title":"Getting Started with caschooldata","text":"default, fetch_enr() returns data tidy (long) format, ideal analysis dplyr ggplot2: wide format (one column per grade), set tidy = FALSE:","code":"# Default: tidy format enr_tidy <- fetch_enr(2024) names(enr_tidy) # Includes: grade_level, reporting_category, subgroup, n_students # Wide format: one column per grade enr_wide <- fetch_enr(2024, tidy = FALSE) names(enr_wide) # Includes: grade_tk, grade_k, grade_01, ..., grade_12, total_enrollment"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"fetching-multiple-years","dir":"Articles","previous_headings":"Fetching Enrollment Data","what":"Fetching Multiple Years","title":"Getting Started with caschooldata","text":"Use fetch_enr_multi() download data multiple years :","code":"# Fetch 2024 and 2025 data all_years <- fetch_enr_multi(c(2024, 2025))  # Analyze enrollment trends all_years %>%   filter(is_state, subgroup == \"total\", grade_level == \"TOTAL\") %>%   select(end_year, n_students)"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"column-descriptions","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Column Descriptions","title":"Getting Started with caschooldata","text":"tidy enrollment data includes following columns:","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"aggregation-levels","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Aggregation Levels","title":"Getting Started with caschooldata","text":"data includes four aggregation levels:","code":"# State-level totals state <- enr %>%   filter(agg_level == \"T\") # or equivalently: state <- enr %>%   filter(is_state)  # County-level (58 California counties) counties <- enr %>%   filter(is_county)  # District-level districts <- enr %>%   filter(is_district)  # School-level schools <- enr %>%   filter(is_school)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-subgroups","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Demographic Subgroups","title":"Getting Started with caschooldata","text":"reporting_category column contains CDE codes, subgroup provides human-readable names:","code":"# View all available subgroups enr %>%   distinct(reporting_category, subgroup) %>%   arrange(reporting_category)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"grade-levels","dir":"Articles","previous_headings":"Understanding the Data Schema","what":"Grade Levels","title":"Getting Started with caschooldata","text":"Individual grades range Transitional Kindergarten (TK) 12th grade:","code":"# Available grade levels enr %>%   distinct(grade_level) %>%   arrange(grade_level)  # Filter to specific grades elementary <- enr %>%   filter(grade_level %in% c(\"TK\", \"K\", \"01\", \"02\", \"03\", \"04\", \"05\"))  middle_school <- enr %>%   filter(grade_level %in% c(\"06\", \"07\", \"08\"))  high_school <- enr %>%   filter(grade_level %in% c(\"09\", \"10\", \"11\", \"12\"))"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"top-10-largest-districts","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Top 10 Largest Districts","title":"Getting Started with caschooldata","text":"","code":"library(caschooldata) library(dplyr)  enr <- fetch_enr(2024)  enr %>%   filter(is_district, subgroup == \"total\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   select(district_name, county_name, n_students) %>%   head(10)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"county-level-analysis","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"County-Level Analysis","title":"Getting Started with caschooldata","text":"","code":"# Enrollment by county county_enrollment <- enr %>%   filter(is_county, subgroup == \"total\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   select(county_name, n_students)  # Top 5 counties head(county_enrollment, 5)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-breakdown","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Demographic Breakdown","title":"Getting Started with caschooldata","text":"","code":"# State-level race/ethnicity breakdown enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   mutate(pct = n_students / sum(n_students) * 100) %>%   select(subgroup, n_students, pct) %>%   arrange(desc(n_students))"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"charter-vs--non-charter-comparison","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Charter vs. Non-Charter Comparison","title":"Getting Started with caschooldata","text":"","code":"# State-level charter enrollment charter_comparison <- enr %>%   filter(is_state, subgroup == \"total\", grade_level == \"TOTAL\") %>%   group_by(charter_status) %>%   summarize(total_enrollment = sum(n_students, na.rm = TRUE))  charter_comparison"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"grade-level-aggregations","dir":"Articles","previous_headings":"Filtering and Analysis Examples","what":"Grade-Level Aggregations","title":"Getting Started with caschooldata","text":"Use enr_grade_aggs() create grade band summaries:","code":"# Create K-8, HS, K-12 aggregations grade_bands <- enr_grade_aggs(enr)  # View state-level grade bands grade_bands %>%   filter(is_state) %>%   select(grade_level, n_students)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"working-with-cds-codes","dir":"Articles","previous_headings":"","what":"Working with CDS Codes","title":"Getting Started with caschooldata","text":"California uses 14-digit County-District-School (CDS) code system: Positions 1-2: County code (01-58) Positions 3-7: District code (5 digits) Positions 8-14: School code (7 digits)","code":"# Parse a CDS code parse_cds_code(\"19647331932334\") # Returns: list(county = \"19\", district = \"64733\", school = \"1932334\")  # Filter to a specific district using CDS pattern lausd <- enr %>%   filter(grepl(\"^1964733\", cds_code), is_school)"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"bar-chart-top-counties","dir":"Articles","previous_headings":"Visualization Examples","what":"Bar Chart: Top Counties","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  enr <- fetch_enr(2024)  # Top 10 counties by enrollment top_counties <- enr %>%   filter(is_county, subgroup == \"total\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students)) %>%   head(10)  ggplot(top_counties, aes(x = reorder(county_name, n_students), y = n_students)) +   geom_col(fill = \"steelblue\") +   coord_flip() +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"Top 10 California Counties by Enrollment\",     subtitle = \"2023-24 School Year\",     x = NULL,     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"demographic-composition","dir":"Articles","previous_headings":"Visualization Examples","what":"Demographic Composition","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  # Race/ethnicity pie chart data race_data <- enr %>%   filter(     is_state,     grade_level == \"TOTAL\",     grepl(\"^RE_\", reporting_category)   ) %>%   mutate(pct = n_students / sum(n_students)) %>%   select(subgroup, n_students, pct)  ggplot(race_data, aes(x = \"\", y = pct, fill = subgroup)) +   geom_bar(stat = \"identity\", width = 1) +   coord_polar(\"y\", start = 0) +   labs(title = \"California Enrollment by Race/Ethnicity\") +   theme_void() +   theme(legend.position = \"right\")"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"enrollment-trend-multi-year","dir":"Articles","previous_headings":"Visualization Examples","what":"Enrollment Trend (Multi-Year)","title":"Getting Started with caschooldata","text":"","code":"library(ggplot2)  # Fetch multiple years all_years <- fetch_enr_multi(c(2024, 2025))  # State enrollment over time state_trend <- all_years %>%   filter(is_state, subgroup == \"total\", grade_level == \"TOTAL\")  ggplot(state_trend, aes(x = end_year, y = n_students)) +   geom_line(color = \"steelblue\", size = 1.5) +   geom_point(color = \"steelblue\", size = 3) +   scale_y_continuous(labels = scales::comma) +   labs(     title = \"California K-12 Enrollment\",     x = \"School Year (End Year)\",     y = \"Total Enrollment\"   ) +   theme_minimal()"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"cache-management","dir":"Articles","previous_headings":"","what":"Cache Management","title":"Getting Started with caschooldata","text":"package caches downloaded data locally avoid repeated downloads: cache stored user-specific application data directory (via rappdirs). Cached data persists R sessions.","code":"# Check what's cached cache_status()  # Clear cache for a specific year clear_enr_cache(2024)  # Force a fresh download (bypass cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)"},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"data-quality-notes","dir":"Articles","previous_headings":"","what":"Data Quality Notes","title":"Getting Started with caschooldata","text":"Enrollment counts based Census Day (first Wednesday October) cells may suppressed privacy (small counts) Charter non-charter enrollments reported separately State county totals may include students assigned specific schools","code":""},{"path":"https://almartin82.github.io/caschooldata/articles/quickstart.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next Steps","title":"Getting Started with caschooldata","text":"See District Trends & Demographics vignette data-driven findings Explore Data Quality QA vignette validation examples Check function reference detailed documentation: ?fetch_enr, ?tidy_enr Visit package website resources","code":""},{"path":"https://almartin82.github.io/caschooldata/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Andy Martin. Author, maintainer.","code":""},{"path":"https://almartin82.github.io/caschooldata/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Martin (2026). caschooldata: California School Data. R package version 0.1.0, https://almartin82.github.io/caschooldata/.","code":"@Manual{,   title = {caschooldata: California School Data},   author = {Andy Martin},   year = {2026},   note = {R package version 0.1.0},   url = {https://almartin82.github.io/caschooldata/}, }"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"caschooldata","dir":"","previous_headings":"","what":"California School Data","title":"California School Data","text":"Documentation | Getting Started | Full Analysis Fetch analyze California school enrollment data California Department Education R Python.","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"what-can-you-find-with-caschooldata","dir":"","previous_headings":"","what":"What can you find with caschooldata?","title":"California School Data","text":"44 years enrollment data (1982-2025). 5.8 million students today. 1,000 districts. ten stories hiding numbers:","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_1-the-40-year-arc-rise-peak-and-decline","dir":"","previous_headings":"What can you find with caschooldata?","what":"1. The 40-year arc: rise, peak, and decline","title":"California School Data","text":"California’s K-12 enrollment peaked around 2003-04 6.3 million students. Today ’s 5.8 million.","code":"library(caschooldata) library(dplyr)  enr <- fetch_enr_multi(c(1985, 1995, 2005, 2015, 2025))  enr %>%   filter(is_state, grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   select(end_year, n_students)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_2-the-demographic-crossover","dir":"","previous_headings":"What can you find with caschooldata?","what":"2. The demographic crossover","title":"California School Data","text":"Around 2010, Hispanic students became majority. Today ’re 55% enrollment.","code":"enr <- fetch_enr_multi(c(1995, 2000, 2005, 2010, 2015, 2020, 2025))  enr %>%   filter(is_state, grade_level == \"TOTAL\", grepl(\"^RE_\", reporting_category)) %>%   group_by(end_year, subgroup) %>%   summarize(n = sum(n_students)) %>%   group_by(end_year) %>%   mutate(pct = n / sum(n) * 100)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_3-kindergarten-predicts-the-future","dir":"","previous_headings":"What can you find with caschooldata?","what":"3. Kindergarten predicts the future","title":"California School Data","text":"Today’s kindergarten enrollment tomorrow’s high school enrollment. K decline started COVID.","code":"enr <- fetch_enr_multi(c(2005, 2010, 2015, 2020, 2025))  enr %>%   filter(is_state, reporting_category == \"TA\", grade_level %in% c(\"K\", \"12\")) %>%   select(end_year, grade_level, n_students)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_4-covid-hit-elementary-hardest","dir":"","previous_headings":"What can you find with caschooldata?","what":"4. COVID hit elementary hardest","title":"California School Data","text":"pandemic’s enrollment impact varied dramatically grade level.","code":"enr <- fetch_enr_multi(2019:2025)  enr %>%   filter(is_state, reporting_category == \"TA\",          grade_level %in% c(\"K\", \"06\", \"09\")) %>%   select(end_year, grade_level, n_students)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_5-lausd-is-americas-second-largest-district","dir":"","previous_headings":"What can you find with caschooldata?","what":"5. LAUSD is America’s second-largest district","title":"California School Data","text":"California 5 nation’s 20 largest school districts.","code":"enr <- fetch_enr_multi(2018:2025)  # Filter for charter_status == \"ALL\" to avoid double-counting # (modern Census Day files have separate rows for charter/non-charter) enr %>%   filter(is_district, grade_level == \"TOTAL\", reporting_category == \"TA\",          charter_status %in% c(\"ALL\", \"All\") | is.na(charter_status)) %>%   group_by(district_name) %>%   filter(max(n_students) > 50000) %>%   select(end_year, district_name, n_students)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_6-bay-area-districts-are-shrinking-fastest","dir":"","previous_headings":"What can you find with caschooldata?","what":"6. Bay Area districts are shrinking fastest","title":"California School Data","text":"Urban districts Bay Area losing students faster SoCal counterparts.","code":"enr %>%   filter(is_district, grade_level == \"TOTAL\", reporting_category == \"TA\",          district_name %in% c(\"San Francisco Unified\", \"Los Angeles Unified\",                               \"Oakland Unified\", \"San Diego Unified\")) %>%   group_by(district_name) %>%   mutate(index = n_students / first(n_students) * 100)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_7-gender-balance-holds-steady","dir":"","previous_headings":"What can you find with caschooldata?","what":"7. Gender balance holds steady","title":"California School Data","text":"~51/49 male/female split remains consistent across grade levels.","code":"enr_2025 <- fetch_enr(2025)  enr_2025 %>%   filter(is_state, reporting_category %in% c(\"GN_M\", \"GN_F\"),          grade_level %in% c(\"K\", \"06\", \"12\")) %>%   group_by(grade_level) %>%   mutate(pct = n_students / sum(n_students) * 100)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_8-one-in-five-students-needs-extra-support","dir":"","previous_headings":"What can you find with caschooldata?","what":"8. One in five students needs extra support","title":"California School Data","text":"3.5 million low-income students. 1 million+ English Learners. Student groups data available 2024+.","code":"enr_2025 %>%   filter(is_state, grade_level == \"TOTAL\", grepl(\"^SG_\", reporting_category)) %>%   select(subgroup, n_students) %>%   arrange(desc(n_students))"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_9-lausd-americas-shrinking-giant","dir":"","previous_headings":"What can you find with caschooldata?","what":"9. LAUSD: America’s shrinking giant","title":"California School Data","text":"nation’s second-largest district lost nearly half enrollment since peak.","code":"enr <- fetch_enr_multi(c(1990, 2000, 2010, 2020, 2025))  enr %>%   filter(is_district, grepl(\"Los Angeles Unified\", district_name),          grade_level == \"TOTAL\", reporting_category == \"TA\") %>%   select(end_year, district_name, n_students)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"id_10-californias-district-diversity","dir":"","previous_headings":"What can you find with caschooldata?","what":"10. California’s district diversity","title":"California School Data","text":"Demographics vary dramatically across major districts: majority Hispanic LA Fresno, highly diverse SF San Diego.","code":"enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", grepl(\"^RE_\", reporting_category)) %>%   filter(district_name %in% c(\"San Francisco Unified\", \"Los Angeles Unified\",                                \"Fresno Unified\", \"San Diego Unified\")) %>%   group_by(district_name, subgroup) %>%   summarize(n = sum(n_students)) %>%   group_by(district_name) %>%   mutate(pct = n / sum(n) * 100)"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"California School Data","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"almartin82/caschooldata\")"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"r","dir":"","previous_headings":"Quick start","what":"R","title":"California School Data","text":"","code":"library(caschooldata) library(dplyr)  # Fetch one year enr_2025 <- fetch_enr(2025)  # Fetch recent years (2018-2025) enr_recent <- fetch_enr_multi(2018:2025)  # Fetch ALL 44 years of data (1982-2025) enr_all <- fetch_enr_multi(1982:2025)  # State totals enr_2025 %>%   filter(is_state, subgroup == \"total\", grade_level == \"TOTAL\")  # District breakdown enr_2025 %>%   filter(is_district, subgroup == \"total\", grade_level == \"TOTAL\") %>%   arrange(desc(n_students))  # Demographics by district enr_2025 %>%   filter(is_district, grade_level == \"TOTAL\", grepl(\"^RE_\", reporting_category)) %>%   group_by(district_name, subgroup) %>%   summarize(n = sum(n_students))"},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"python","dir":"","previous_headings":"Quick start","what":"Python","title":"California School Data","text":"","code":"import pycaschooldata as ca  # Check available years years = ca.get_available_years() print(f\"Data available from {years['min_year']} to {years['max_year']}\")  # Fetch one year enr_2025 = ca.fetch_enr(2025)  # Fetch multiple years enr_recent = ca.fetch_enr_multi([2023, 2024, 2025])  # State totals state_total = enr_2025[     (enr_2025['is_state'] == True) &     (enr_2025['grade_level'] == 'TOTAL') &     (enr_2025['subgroup'] == 'total') ]  # District breakdown district_totals = enr_2025[     (enr_2025['is_district'] == True) &     (enr_2025['grade_level'] == 'TOTAL') &     (enr_2025['subgroup'] == 'total') ].sort_values('n_students', ascending=False)"},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"whats-available-by-year-range","dir":"","previous_headings":"Data availability","what":"What’s available by year range","title":"California School Data","text":"Subgroups: Race/ethnicity gender available years. Student groups (English Learners, FRPM, Special Ed) available 2024+. Grade levels: K-12 available years. Transitional Kindergarten (TK) available 2024+. Aggregation: Modern files (2024+) include pre-computed state/county/district totals. Historical files school-level data; package computes aggregates automatically. Entity names: School/district names available 2008+ 1982-1993. available 1994-2007 (use CDS code lookups).","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"data-source","dir":"","previous_headings":"","what":"Data source","title":"California School Data","text":"California Department Education: DataQuest | Data Files","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"part-of-the-state-schooldata-project","dir":"","previous_headings":"","what":"Part of the State Schooldata Project","title":"California School Data","text":"simple, consistent interface accessing state-published school data Python R. 50 state packages: github.com/almartin82","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"author","dir":"","previous_headings":"","what":"Author","title":"California School Data","text":"Andy Martin (almartin@gmail.com)","code":""},{"path":"https://almartin82.github.io/caschooldata/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"California School Data","text":"MIT","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Build cache file path — build_cache_path","title":"Build cache file path — build_cache_path","text":"Build cache file path","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build cache file path — build_cache_path","text":"","code":"build_cache_path(end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build cache file path — build_cache_path","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cache_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build cache file path — build_cache_path","text":"File path string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"Constructs download URL cumulative enrollment file (alternative data source). Cumulative enrollment counts students enrolled year, just Census Day.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"","code":"build_cumulative_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_cumulative_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE cumulative enrollment file URL — build_cumulative_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE enrollment file URL — build_enr_url","title":"Build CDE enrollment file URL — build_enr_url","text":"Constructs download URL specific year's enrollment file. Uses Census Day enrollment file comprehensive grade-level data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE enrollment file URL — build_enr_url","text":"","code":"build_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE enrollment file URL — build_enr_url","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE enrollment file URL — build_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Build CDE historical enrollment file URL — build_historical_enr_url","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"Constructs download URL historical school-level enrollment files (1982-2023). files cover multiple years .","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"","code":"build_historical_enr_url(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"end_year school year end (e.g., 2020 2019-20 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/build_historical_enr_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build CDE historical enrollment file URL — build_historical_enr_url","text":"URL string","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if cached data exists — cache_exists","title":"Check if cached data exists — cache_exists","text":"Check cached data exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if cached data exists — cache_exists","text":"","code":"cache_exists(end_year, cache_type, max_age = 30)"},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if cached data exists — cache_exists","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\") max_age Maximum age days (default 30). Set Inf ignore age.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_exists.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if cached data exists — cache_exists","text":"Logical indicating valid cache exists","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":null,"dir":"Reference","previous_headings":"","what":"Get cache status — cache_status","title":"Get cache status — cache_status","text":"Reports years cached data available, including file sizes ages.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get cache status — cache_status","text":"","code":"cache_status()"},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get cache status — cache_status","text":"Data frame cache information (invisibly). Columns include: end_year: School year end cache_type: Type cached data (tidy wide) size_mb: File size megabytes age_days: Days since file created/modified","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/cache_status.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get cache status — cache_status","text":"","code":"if (FALSE) { # \\dontrun{ cache_status() } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":null,"dir":"Reference","previous_headings":"","what":"caschooldata: Fetch and Process California School Data — caschooldata-package","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"caschooldata package provides functions downloading processing school data California Department Education (CDE). offers consistent, tidy interface working California public school enrollment data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"main-functions","dir":"Reference","previous_headings":"","what":"Main Functions","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"fetch_enr: Download process enrollment data fetch_enr_multi: Download enrollment multiple years get_available_years: Get available data years (1982-2025) tidy_enr: Convert wide enrollment tidy format id_enr_aggs: Identify aggregation levels data parse_cds_code: Parse CDS codes components","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"cache-functions","dir":"Reference","previous_headings":"","what":"Cache Functions","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"cache_status: Check cached data status clear_enr_cache: Clear cached data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"data-source","dir":"Reference","previous_headings":"","what":"Data Source","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"Data sourced California Department Education (CDE) DataQuest: https://dq.cde.ca.gov/dataquest/ Enrollment data files Census Day enrollment collection, provides snapshot enrollment first Wednesday October.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"cds-codes","dir":"Reference","previous_headings":"","what":"CDS Codes","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"California uses 14-digit County-District-School (CDS) code system: 2 digits: County code (01-58, representing California's 58 counties) 5 digits: District code 7 digits: School code","code":""},{"path":[]},{"path":"https://almartin82.github.io/caschooldata/reference/caschooldata-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"caschooldata: Fetch and Process California School Data — caschooldata-package","text":"Maintainer: Andy Martin almartin@gmail.com","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear enrollment cache — clear_enr_cache","title":"Clear enrollment cache — clear_enr_cache","text":"Removes cached enrollment data files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear enrollment cache — clear_enr_cache","text":"","code":"clear_enr_cache(end_year = NULL)"},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clear enrollment cache — clear_enr_cache","text":"end_year Optional. provided, clear cache year. NULL (default), clears cached enrollment data.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Clear enrollment cache — clear_enr_cache","text":"Invisibly returns number files removed","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/clear_enr_cache.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Clear enrollment cache — clear_enr_cache","text":"","code":"if (FALSE) { # \\dontrun{ # Clear all cached data clear_enr_cache()  # Clear only 2024 data clear_enr_cache(2024) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Create grade-level aggregates — enr_grade_aggs","title":"Create grade-level aggregates — enr_grade_aggs","text":"Creates aggregations common grade groupings: K-8, 9-12 (HS), K-12.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create grade-level aggregates — enr_grade_aggs","text":"","code":"enr_grade_aggs(df)"},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create grade-level aggregates — enr_grade_aggs","text":"df tidy enrollment data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/enr_grade_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create grade-level aggregates — enr_grade_aggs","text":"Data frame aggregated enrollment grade bands","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch California enrollment data — fetch_enr","title":"Fetch California enrollment data — fetch_enr","text":"Downloads processes enrollment data California Department Education DataQuest data files. Data based Census Day enrollment (first Wednesday October).","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch California enrollment data — fetch_enr","text":"","code":"fetch_enr(end_year, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch California enrollment data — fetch_enr","text":"end_year school year. Year end academic year - e.g., 2024 2023-24 school year. Supports 1982-2025: 2024-2025: Modern Census Day files full demographic breakdowns 2008-2023: Historical files race/gender data entity names 1994-2007: Historical files race/gender data (entity names) 1982-1993: Historical files letter-based race codes tidy TRUE (default), returns data long (tidy) format grade subgroup columns. FALSE, returns wide format grade columns. use_cache TRUE (default), uses locally cached data available. Set FALSE force re-download CDE.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch California enrollment data — fetch_enr","text":"tibble enrollment data. tidy format, includes columns: end_year: School year end (integer) cds_code: 14-digit CDS identifier county_code: 2-digit county code district_code: 5-digit district code school_code: 7-digit school code agg_level: Aggregation level (T=State, C=County, D=District, S=School) county_name, district_name, school_name: Entity names charter_status: Charter indicator (Y/N/) grade_level: Grade (TK, K, 01-12, TOTAL). Note: TK NA 1982-2023. reporting_category: CDE demographic category code subgroup: Human-readable subgroup name n_students: Enrollment count","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch California enrollment data — fetch_enr","text":"Historical data differs modern (2024+) data several ways: Transitional Kindergarten (TK) data available (grade_tk NA) Charter status available (charter_status \"\") District county aggregates computed school-level data Student group categories (SG_*) available 1994-2007: Entity names available (use CDS code look ) 1982-1993: Race categories use different coding (mapped modern codes)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch California enrollment data — fetch_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 enrollment data (2023-24 school year) enr_2024 <- fetch_enr(2024)  # Get historical data (2019-20 school year) enr_2020 <- fetch_enr(2020)  # Get data from the 1990s enr_1995 <- fetch_enr(1995)  # Get wide format (one column per grade) enr_wide <- fetch_enr(2024, tidy = FALSE)  # Force fresh download (ignore cache) enr_fresh <- fetch_enr(2024, use_cache = FALSE)  # Filter to school-level total enrollment library(dplyr) schools <- enr_2024 |>   filter(agg_level == \"S\", reporting_category == \"TA\", grade_level == \"TOTAL\") } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch enrollment for multiple years — fetch_enr_multi","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"Convenience function download enrollment data multiple years .","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"","code":"fetch_enr_multi(years, tidy = TRUE, use_cache = TRUE)"},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"years Vector school year ends (e.g., c(2024, 2025)) tidy TRUE (default), returns tidy format use_cache TRUE (default), uses cache available","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"Combined tibble data requested years","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/fetch_enr_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fetch enrollment for multiple years — fetch_enr_multi","text":"","code":"if (FALSE) { # \\dontrun{ # Get 2024 and 2025 data enr_multi <- fetch_enr_multi(c(2024, 2025)) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available years for California enrollment data — get_available_years","title":"Get available years for California enrollment data — get_available_years","text":"Returns vector end years enrollment data available California Department Education. includes modern Census Day files (2024+) historical enrollment files (1982-2023).","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available years for California enrollment data — get_available_years","text":"","code":"get_available_years()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available years for California enrollment data — get_available_years","text":"Integer vector available end years (1982-2024)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_available_years.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available years for California enrollment data — get_available_years","text":"","code":"get_available_years() #>  [1] 1982 1983 1984 1985 1986 1987 1988 1989 1990 1991 1992 1993 1994 1995 1996 #> [16] 1997 1998 1999 2000 2001 2002 2003 2004 2005 2006 2007 2008 2009 2010 2011 #> [31] 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025  # Check if a specific year is available 2024 %in% get_available_years() #> [1] TRUE"},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the cache directory for caschooldata — get_cache_dir","title":"Get the cache directory for caschooldata — get_cache_dir","text":"Returns path cache directory, creating necessary. Uses rappdirs cross-platform cache location.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the cache directory for caschooldata — get_cache_dir","text":"","code":"get_cache_dir()"},{"path":"https://almartin82.github.io/caschooldata/reference/get_cache_dir.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the cache directory for caschooldata — get_cache_dir","text":"Path cache directory","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw enrollment data from CDE — get_raw_enr","title":"Get raw enrollment data from CDE — get_raw_enr","text":"Downloads raw enrollment data file given year California Department Education website. Uses modern Census Day files 2024+ historical school-level files 1982-2023.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw enrollment data from CDE — get_raw_enr","text":"","code":"get_raw_enr(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw enrollment data from CDE — get_raw_enr","text":"end_year school year end (e.g., 2024 2023-24 school year)","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw enrollment data from CDE — get_raw_enr","text":"Raw data frame downloaded CDE","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"Historical files contain school-level data race/ethnicity gender breakdown. Files organized year ranges different formats: 1982-1993: 4-char year format, letter race codes, names 1994-2007: 7-char year format, names file 2008-2023: 7-char year format, names","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"","code":"get_raw_enr_historical(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download historical format (1982-2023) CDE data — get_raw_enr_historical","text":"Raw data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":null,"dir":"Reference","previous_headings":"","what":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"Download modern Census Day format (2024+) CDE data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"","code":"get_raw_enr_modern(end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"end_year School year end","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/get_raw_enr_modern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download modern Census Day format (2024+) CDE data — get_raw_enr_modern","text":"Raw data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify aggregation rows in enrollment data — id_enr_aggs","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"Adds boolean flags identify state, county, district, school level records based CDS code patterns agg_level column.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"","code":"id_enr_aggs(data)"},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"data Tidy enrollment data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/id_enr_aggs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify aggregation rows in enrollment data — id_enr_aggs","text":"Data frame is_state, is_county, is_district, is_school columns added","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify aggregation level from CDS code — identify_agg_level","title":"Identify aggregation level from CDS code — identify_agg_level","text":"Determines CDS code represents state, county, district, school level based pattern zeros code.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify aggregation level from CDS code — identify_agg_level","text":"","code":"identify_agg_level(cds_code)"},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify aggregation level from CDS code — identify_agg_level","text":"cds_code 14-digit CDS code string vector","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/identify_agg_level.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify aggregation level from CDS code — identify_agg_level","text":"Character vector \"state\", \"county\", \"district\", \"school\"","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":null,"dir":"Reference","previous_headings":"","what":"Map CDE reporting category codes to human-readable names — map_reporting_category","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"Converts CDE reporting category codes (e.g., \"RE_H\", \"GN_F\") human-readable subgroup names.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"","code":"map_reporting_category(code)"},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"code Character vector reporting category codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/map_reporting_category.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Map CDE reporting category codes to human-readable names — map_reporting_category","text":"Character vector human-readable subgroup names","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse CDS code into components — parse_cds_code","title":"Parse CDS code into components — parse_cds_code","text":"Splits 14-digit CDS code county, district, school components.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse CDS code into components — parse_cds_code","text":"","code":"parse_cds_code(cds_code)"},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse CDS code into components — parse_cds_code","text":"cds_code 14-digit CDS code string vector codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse CDS code into components — parse_cds_code","text":"Data frame county_code, district_code, school_code columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/parse_cds_code.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse CDS code into components — parse_cds_code","text":"","code":"if (FALSE) { # \\dontrun{ # Parse a single CDS code parse_cds_code(\"01611920130229\")  # Parse multiple codes parse_cds_code(c(\"01611920130229\", \"19647330000000\")) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Process raw enrollment data to standard schema — process_enr","title":"Process raw enrollment data to standard schema — process_enr","text":"Takes raw enrollment data CDE standardizes column names, types, handles year-specific format differences. Uses modern processing 2024+ Census Day files historical processing 2017-2023 files.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process raw enrollment data to standard schema — process_enr","text":"","code":"process_enr(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process raw enrollment data to standard schema — process_enr","text":"raw_data Raw data frame get_raw_enr() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process raw enrollment data to standard schema — process_enr","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Process historical format (1982-2023) CDE data — process_enr_historical","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"Historical files contain school-level data race/ethnicity gender breakdown. function aggregates data create reporting categories similar modern format synthesizes district/county/state aggregates.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"","code":"process_enr_historical(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"raw_data Raw data frame get_raw_enr_historical() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_historical.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Process historical format (1982-2023) CDE data — process_enr_historical","text":"File format varies era: 2015-2023: names, ENR_TYPE column, numeric race codes 0-9 2008-2014: names, ENR_TYPE, numeric race codes 0-9 1994-2007: names (just CDS_CODE), numeric race codes 1-8 1982-1993: names (DISTRICT_NAME, SCHOOL_NAME), letter race codes","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":null,"dir":"Reference","previous_headings":"","what":"Process modern Census Day format (2024+) CDE data — process_enr_modern","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"Process modern Census Day format (2024+) CDE data","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"","code":"process_enr_modern(raw_data, end_year)"},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"raw_data Raw data frame get_raw_enr_modern() end_year school year end context","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/process_enr_modern.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process modern Census Day format (2024+) CDE data — process_enr_modern","text":"Processed data frame standard schema","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Read data from cache — read_cache","title":"Read data from cache — read_cache","text":"Read data cache","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read data from cache — read_cache","text":"","code":"read_cache(end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read data from cache — read_cache","text":"end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/read_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read data from cache — read_cache","text":"Cached data frame","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert to numeric, handling suppression markers — safe_numeric","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"CDE uses asterisks (*) suppressed data cell size 10 fewer.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"","code":"safe_numeric(x)"},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"x Vector convert","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/safe_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert to numeric, handling suppression markers — safe_numeric","text":"Numeric vector NA non-numeric values","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert enrollment data to tidy format — tidy_enr","title":"Convert enrollment data to tidy format — tidy_enr","text":"Pivots enrollment data wide format (one column per grade) long format grade column. Also handles reporting_category column already contains demographic subgroups.","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert enrollment data to tidy format — tidy_enr","text":"","code":"tidy_enr(wide_data)"},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert enrollment data to tidy format — tidy_enr","text":"wide_data Data frame wide format process_enr()","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert enrollment data to tidy format — tidy_enr","text":"Tidy data frame grade subgroup columns","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/tidy_enr.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert enrollment data to tidy format — tidy_enr","text":"","code":"if (FALSE) { # \\dontrun{ # Get wide format and then tidy wide <- fetch_enr(2024, tidy = FALSE) tidy <- tidy_enr(wide) } # }"},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to cache — write_cache","title":"Write data to cache — write_cache","text":"Write data cache","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to cache — write_cache","text":"","code":"write_cache(data, end_year, cache_type)"},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to cache — write_cache","text":"data Data frame cache end_year School year end cache_type Type cache (\"tidy\" \"wide\")","code":""},{"path":"https://almartin82.github.io/caschooldata/reference/write_cache.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to cache — write_cache","text":"Invisibly returns cache path","code":""}]
